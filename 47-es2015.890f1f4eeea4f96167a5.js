(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"2Doj":function(t,o,e){"use strict";e.r(o),e.d(o,"NewPurchaseModule",function(){return ot});var i=e("SVse"),r=e("s7LF"),a=e("3sEA"),s=e("vpPe"),c=e("wd/R"),n=e("cp0P"),m=e("JX91"),p=e("lJxs"),l=e("Sp5M"),u=e("qA6C"),d=e("UVsP"),h=e("AytR"),f=e("8Y7J"),b=e("IheW");let _=(()=>{class t{constructor(t){this.http=t}obtenerImpuestos(){return this.http.get(h.a.apiURL+'Impuestos?filter={"where":{"deletedon":{"eq":null}}}')}obtenerSucursales(){return this.http.get(h.a.apiURL+'Sucursales?filter={"where":{"deletedon":{"eq":null}},"order":"sdescripcion ASC"}')}}return t.\u0275fac=function(o){return new(o||t)(f.bc(b.c))},t.\u0275prov=f.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var v=e("zHaW"),C=e("VDRc"),g=e("Q2Ze"),F=e("e6WT"),D=e("vrAh"),P=e("ZTz/"),S=e("pMoy"),E=e("n1FK"),x=e("TN/R"),w=e("Dxy4"),W=e("Tj54"),O=e("UhP/"),M=e("TSSN");function I(t,o){if(1&t&&(f.Xb(0,"mat-option",36),f.Oc(1),f.Wb()),2&t){const t=o.$implicit;f.pc("value",t),f.Eb(1),f.Qc(" ",null==t?null:t.srazonsocial," ")}}function X(t,o){if(1&t&&(f.Xb(0,"mat-option",36),f.Oc(1),f.Wb()),2&t){const t=o.$implicit;f.pc("value",t),f.Eb(1),f.Qc(" ",t," ")}}function k(t,o){if(1&t&&(f.Xb(0,"mat-option",36),f.Oc(1),f.Wb()),2&t){const t=o.$implicit;f.pc("value",t),f.Eb(1),f.Qc(" ",t," ")}}function A(t,o){if(1&t&&(f.Xb(0,"mat-option",36),f.Oc(1),f.Wb()),2&t){const t=o.$implicit;f.pc("value",t),f.Eb(1),f.Qc(" ",t.sdescripcion," ")}}function y(t,o){if(1&t){const t=f.Yb();f.Xb(0,"mat-form-field",23),f.Xb(1,"mat-label"),f.Oc(2),f.kc(3,"translate"),f.Wb(),f.Xb(4,"mat-select",8),f.fc("ngModelChange",function(o){return f.Dc(t),f.jc().form_sucursal=o}),f.Mc(5,A,2,2,"mat-option",5),f.Wb(),f.Wb()}if(2&t){const t=f.jc();f.Eb(2),f.Pc(f.lc(3,3,"Dep\xf3sito de la Sucursal")),f.Eb(2),f.pc("ngModel",t.form_sucursal),f.Eb(1),f.pc("ngForOf",t.sucursales_data)}}function N(t,o){if(1&t&&(f.Xb(0,"mat-option",36),f.Oc(1),f.Wb()),2&t){const t=o.$implicit;f.pc("value",t),f.Eb(1),f.Rc(" ",null==t?null:t.scodproducto," - ",null==t?null:t.snombre," ")}}function V(t,o){if(1&t){const t=f.Yb();f.Xb(0,"mat-form-field",37),f.Xb(1,"mat-label"),f.Oc(2),f.kc(3,"translate"),f.Wb(),f.Sb(4,"input",38),f.Xb(5,"mat-autocomplete",3,39),f.fc("optionSelected",function(o){return f.Dc(t),f.jc().cambiarProducto(o.option.value)}),f.Mc(7,N,2,3,"mat-option",5),f.kc(8,"async"),f.Wb(),f.Wb()}if(2&t){const t=f.Ac(6),o=f.jc();f.Eb(2),f.Pc(f.lc(3,5,"Producto")),f.Eb(2),f.pc("formControl",o.editorProducto)("matAutocomplete",t),f.Eb(1),f.pc("displayWith",o.displayFnProductos),f.Eb(2),f.pc("ngForOf",f.lc(8,7,o.filteredProductos))}}function R(t,o){if(1&t&&(f.Xb(0,"mat-form-field",40),f.Xb(1,"mat-label"),f.Oc(2,"Detalle"),f.Wb(),f.Sb(3,"input",41),f.Wb()),2&t){const t=f.jc();f.Eb(3),f.pc("formControl",t.form_servicio)}}function U(t,o){1&t&&(f.Xb(0,"mat-label"),f.Oc(1,"Precio Neto"),f.Wb())}function T(t,o){1&t&&(f.Xb(0,"mat-label"),f.Oc(1,"Precio Unitario"),f.Wb())}function j(t,o){if(1&t&&(f.Xb(0,"mat-form-field",14),f.Xb(1,"mat-label"),f.Oc(2,"Precio Final"),f.Wb(),f.Sb(3,"input",42),f.Wb()),2&t){const t=f.jc();f.Eb(3),f.pc("formControl",t.form_precio_final)}}function L(t,o){1&t&&(f.Xb(0,"div",43),f.Xb(1,"b"),f.Oc(2,"Atenci\xf3n"),f.Wb(),f.Oc(3,": esta configurado para que esta compra NO afecte el stock.\n"),f.Wb())}const B=[{path:"",component:(()=>{class t{constructor(t,o,e,i,a,s,n){this.servicioUUID=t,this.loader=o,this.snack=e,this.servicioNuevaCompra=i,this.servicioProductos=a,this.servicioEmpresas=s,this.servicioSucursales=n,this.editorProveedor=new r.e(""),this.editorProducto=new r.e(""),this.sucursal="",this.startDate=new r.e,this.endDate=new r.e,this.tiposFactura=["PRODUCTOS","SERVICIOS"],this.items=[],this.form_precio=new r.e(""),this.form_cantidad=new r.e(""),this.form_servicio=new r.e(""),this.form_tipoFactura="",this.form_tipoDocumento="",this.form_precio_final=new r.e(""),this.fecha=new r.e,this.fechacontable=new r.e,this.fechacaicae=new r.e,this.form_numero=new r.e(""),this.form_caicae=new r.e(""),this.form_afectarStock=new r.e(""),this.form_numero_sucursal=new r.e(""),this.form_acredito=new r.e(""),this.error_iva=!1,this.tipoFacturaBloqueado=!1,this.sucursal="",this.tiposDocumento=[],this.detalle=[],this.detalleimpuestos=[],this.fechaFiltroInicio=new Date,this.fechaFiltroFin=c().add(1,"days").toDate()}_filterProveedores(t){if("string"==typeof t){const o=t.toLowerCase();return this.proveedores.filter(t=>t.srazonsocial.toLowerCase().includes(o))}return[]}displayFnProveedores(t){return t&&t.srazonsocial?t.srazonsocial:""}_filterProductos(t){if("string"==typeof t){const o=t.toLowerCase();return this.productos.filter(t=>t.snombre.toLowerCase().includes(o))}return[]}displayFnProductos(t){return t&&t.snombre?t.snombre:""}ngOnInit(){var t=new Date;t.setHours(0,0,0,0);var o=new Date;o.setHours(23,59,59,999),this.startDate.setValue(t),this.endDate.setValue(o),this.loader.open(),this.servicioProductos.traerProductos("snombre ASC",()=>{this.productos=this.servicioProductos.listaProductos,Object(n.a)([this.servicioEmpresas.obtenerEmpresas(),this.servicioProductos.obtenerProveedores(),this.servicioNuevaCompra.obtenerImpuestos(),this.servicioNuevaCompra.obtenerSucursales()]).subscribe(t=>{this.empresas=t[0],this.cantidaddecimales=t[0].cantidaddecimales,this.proveedores=t[1],this.impuestos=t[2],this.sucursales_data=t[3],this.filteredProveedores=this.editorProveedor.valueChanges.pipe(Object(m.a)(""),Object(p.a)(t=>this._filterProveedores(t))),this.filteredProductos=this.editorProducto.valueChanges.pipe(Object(m.a)(""),Object(p.a)(t=>this._filterProductos(t))),this.nuevaCompra(),this.loader.close()},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}renameKeys(t,o){const e=Object.keys(t).map(e=>({[o[e]||e]:t[e]}));return Object.assign({},...e)}obtenerNombreProveedor(t){if(this.proveedores)for(var o=0;o<this.proveedores.length;o++)if(this.proveedores[o].id==t)return this.proveedores[o].srazonsocial;return""}obtenerNombreProducto(t,o){for(var e=0;e<this.productos.length;e++)if(this.productos[e].id==t)return this.productos[e].snombre;return o}obtenerCodigoProducto(t){for(var o=0;o<this.productos.length;o++)if(this.productos[o].id==t)return this.productos[o].scodproducto;return""}cambiarTiposFactura(){this.form_producto="",this.form_servicio.setValue("")}cambiarProducto(t){this.form_producto=t}cambiarProveedor(t){var o="T"==t.bdeproductos,e="T"==t.bdeservicios;this.tipoFacturaBloqueado=!1,this.form_tipoFactura=this.tiposFactura[0],o&&!e&&(this.tipoFacturaBloqueado=!0,this.form_tipoFactura=this.tiposFactura[0]),e&&!o&&(this.tipoFacturaBloqueado=!0,this.form_tipoFactura=this.tiposFactura[1]),this.cargarTiposDocumento(t.scondicioniva,o)}cargarTiposDocumento(t,o){this.tiposDocumento=["Presupuesto de Compra","Nota de Cr\xe9dito Presupuesto de Compra"],this.form_tipoDocumento="Presupuesto de Compra",o&&this.tiposDocumento.push("Remito de Compra"),"Monotributista"==this.empresas[0].scondicioniva&&("Responsable Inscripto"==t&&(this.tiposDocumento.push("Factura de Compra B"),this.tiposDocumento.push("Nota de Cr\xe9dito B"),this.form_tipoDocumento="Factura de Compra B"),"Monotributista"==t&&(this.tiposDocumento.push("Factura de Compra C"),this.tiposDocumento.push("Nota de Cr\xe9dito C"),this.form_tipoDocumento="Factura de Compra C")),"Responsable Inscripto"==this.empresas[0].scondicioniva&&("Responsable Inscripto"==t&&(this.tiposDocumento.push("Factura de Compra A"),this.tiposDocumento.push("Nota de Cr\xe9dito A"),this.form_tipoDocumento="Factura de Compra A"),"Monotributista"==t&&(this.tiposDocumento.push("Factura de Compra C"),this.tiposDocumento.push("Nota de Cr\xe9dito C"),this.form_tipoDocumento="Factura de Compra C")),"Consumidor Final"==this.empresas[0].scondicioniva&&("Responsable Inscripto"==t&&(this.tiposDocumento.push("Factura de Compra B"),this.tiposDocumento.push("Nota de Cr\xe9dito B"),this.form_tipoDocumento="Factura de Compra B"),"Monotributista"==t&&(this.tiposDocumento.push("Factura de Compra C"),this.tiposDocumento.push("Nota de Cr\xe9dito C"),this.form_tipoDocumento="Factura de Compra C"))}buscarProducto(t){for(var o=0;o<this.productos.length;o++)if(this.productos[o].id==t)return this.productos[o];return{}}editarItem(t){this.temp_item=t,this.form_tipoFactura==this.tiposFactura[0]?(this.form_precio.setValue(t.rpreciou),this.form_cantidad.setValue(t.rcantidad),this.form_producto=this.buscarProducto(t.idproducto)):(this.form_precio.setValue(t.rpreciou),this.form_cantidad.setValue(t.rcantidad),this.form_servicio.setValue(t.sconcepto))}eliminarItem(t){var o=this.items.indexOf(t);this.items.splice(o,1),this.calcular_total(!0)}guardarItem(){this.form_cantidad.setValue(this.form_cantidad.value?this.form_cantidad.value:1);var t=this.items.indexOf(this.temp_item),o=this.form_precio.value,e=this.form_precio_final.value;"Factura de Compra A"!=this.form_tipoDocumento&&"Nota de Cr\xe9dito A"!=this.form_tipoDocumento&&(o=parseFloat((e.formatMoneySinMiles(2)/1.21).toFixed(this.cantidaddecimales))),-1!=t?(this.form_tipoFactura==this.tiposFactura[0]?(this.items[t].idproducto=this.form_producto.id,this.items[t].rcantidad=this.form_cantidad.value,this.items[t].rpreciou=e,this.items[t].rprecioneto=o,this.items[t].rporciva=this.form_producto.rporciva,this.items[t].rtotal=e*this.form_cantidad.value,this.items[t].rtotalneto=o*this.form_cantidad.value,this.items[t].rimpuestos=Math.abs(e-o),this.items[t].sconcepto=this.form_producto.snombre):(this.items[t].idproducto=null,this.items[t].rcantidad=this.form_cantidad.value,this.items[t].rpreciou=e,this.items[t].rprecioneto=o,this.items[t].rporciva=21,this.items[t].rtotal=e*this.form_cantidad.value,this.items[t].rtotalneto=o*this.form_cantidad.value,this.items[t].rimpuestos=Math.abs(e-o),this.items[t].sconcepto=this.form_servicio.value),this.items[t].impuesto_iva=this.items[t].rporciva/100*this.items[t].rtotalneto,this.items[t].impuesto_dgr=this.items[t].rporcdgr/100*this.items[t].rtotalneto,this.items[t].impuesto_interno=this.items[t].rvalorimpinterno*this.items[t].rcantidad):(this.items.push(this.form_tipoFactura==this.tiposFactura[0]?{id:this.servicioUUID.generateUUID(),idproducto:this.form_producto.id,rcantidad:this.form_cantidad.value,rpreciou:e,rprecioneto:o,rporciva:this.form_producto.rporciva,rtotal:this.form_cantidad.value*e,rtotalneto:o*this.form_cantidad.value,rimpuestos:Math.abs(e-o),sconcepto:this.form_producto.snombre}:{id:this.servicioUUID.generateUUID(),idproducto:null,rcantidad:this.form_cantidad.value,rpreciou:e,rprecioneto:o,rporciva:21,rtotal:this.form_cantidad.value*e,rtotalneto:o*this.form_cantidad.value,rimpuestos:Math.abs(e-o),sconcepto:this.form_servicio.value}),this.items[this.items.length-1].impuesto_iva=this.items[this.items.length-1].rporciva/100*this.items[this.items.length-1].rtotalneto,this.items[this.items.length-1].impuesto_dgr=this.items[this.items.length-1].rporcdgr/100*this.items[this.items.length-1].rtotalneto,this.items[this.items.length-1].impuesto_interno=this.items[this.items.length-1].rvalorimpinterno*this.items[this.items.length-1].rcantidad),this.form_precio.setValue(0),this.form_precio_final.setValue(0),this.form_cantidad.setValue(1),this.form_producto="",this.form_servicio.setValue(""),this.temp_item=null,this.calcular_total(!0)}tipoComprobanteDeCompra(t){return"Presupuesto de Compra"==t?"PDC":"Remito de Compra"==t?"RMC":"Factura de Compra A"==t?"CCA":"Factura de Compra B"==t?"CCB":"Factura de Compra C"==t?"CCC":"Nota de Cr\xe9dito A"==t?"CNA":"Nota de Cr\xe9dito B"==t?"CNB":"Nota de Cr\xe9dito C"==t?"CNC":"Nota de Cr\xe9dito Presupuesto de Compra"==t?"PSC":void 0}querySearch(t){if(""==t)return this.proveedores;var o=[];t=(t=t.toLowerCase()).split(" ");for(var e=0;e<this.proveedores.length;e++){for(var i=this.proveedores[e].srazonsocial.toLowerCase(),r=!0,a=0;a<t.length;a++)if(-1==i.indexOf(t[a])){r=!1;break}r&&o.push(this.proveedores[e])}return o}querySearchProducto(t){if(""==t)return this.productos;var o=[];t=(t=t.toLowerCase()).split(" ");for(var e=0;e<this.productos.length;e++)for(var i=this.productos[e],r=0;r<t.length;r++){var a=t[r];if(-1==i.snombre.toLowerCase().indexOf(a)&&i.scodproducto.toLowerCase()!=a&&i.sean!=a&&i.sean2!=a)break;o.push(this.productos[e])}return o}selectedItemChangeProducto(t){t&&null!=t.rcostou&&this.form_precio.setValue(t.rcostou),this.calcular_precio_neto(),this.calcular_precio_final()}calcular_precio_neto(){var t=this.form_producto;"Factura de Compra A"!=this.form_tipoDocumento&&"Nota de Cr\xe9dito A"!=this.form_tipoDocumento||(this.form_precio.setValue(parseFloat(((t.rcostou-t.rvalorimpinterno)/(t.rporciva/100+t.rporcdgr/100+1)).toFixed(this.cantidaddecimales))),this.form_precio.setValue(t&&t.rcostou&&t.rporciva&&t.rporcdgr&&null!=t.rvalorimpinterno?parseFloat(((t.rcostou-t.rvalorimpinterno)/(t.rporciva/100+t.rporcdgr/100+1)).toFixed(this.cantidaddecimales)):0))}calcular_precio_final(){var t=this.form_producto;this.form_precio_final.setValue("Factura de Compra A"==this.form_tipoDocumento||"Nota de Cr\xe9dito A"==this.form_tipoDocumento?parseFloat((this.form_precio.value*(t.rporciva/100+t.rporcdgr/100+1)+t.rvalorimpinterno).toFixed(this.cantidaddecimales).formatMoneySinMiles(2)):this.form_precio)}nuevaCompra(){var t=new Date;t.setHours(0,0,0,0),this.fecha.setValue(t);var o=new Date;o.setHours(0,0,0,0),this.fechacontable.setValue(o);var e=new Date;e.setHours(0,0,0,0),this.fechacaicae.setValue(c(e).add(10,"days").toDate()),this.items=[],this.form_precio.setValue(0),this.form_cantidad.setValue(1),this.form_producto="",this.form_servicio.setValue(""),this.form_tipoFactura=this.tiposFactura[0],this.form_tipoDocumento=this.tiposDocumento[0],this.form_numero.setValue(""),this.form_caicae.setValue(""),this.form_afectarStock.setValue(!1),this.form_descuento=0,this.form_sucursal=this.sucursales_data[0],this.editorProveedor.setValue(this.proveedores[0]),this.cambiarProveedor(this.proveedores[0]),this.subtotal=0,this.iva=0,this.total=0,this.lista_impuestos=[],this.lista_impuestos=[];for(var i=0;i<this.impuestos.length;i++)this.lista_impuestos.push({id:this.impuestos[i].id,simpuesto:this.impuestos[i].simpuesto,total:0,idempresa:this.impuestos[i].idempresa,rporc:this.impuestos[i].rporc})}cancelarCompra(){}fechaAfip(){var t=this.fechacaicae.value,o=t.getUTCMonth()+1,e=t.getUTCDate(),i=t.getUTCFullYear();return i=o<10?i+"0"+o:i+""+o,e<10?i+"0"+e:i+""+e}EsNotaDeCredito(t){return"CNA"==t||"CNB"==t||"CNC"==t||"CND"==t||"PSC"==t}generarCompra(t,o){this.servicioUUID.generateUUID(),this.tipoComprobanteDeCompra(this.form_tipoDocumento),this.fecha.value.toISOString(),(new Date).toISOString(),this.fecha.value.toISOString(),this.fechacontable.value.toISOString(),this.EsNotaDeCredito(this.tipoComprobanteDeCompra(this.form_tipoDocumento))}verificar_iva(){this.error_iva=this.total_impuestos!=this.iva}calcular_total_impuestos(){for(var t=0,o=0;o<this.lista_impuestos.length;o++)t+=this.lista_impuestos[o].total;this.total_impuestos=parseFloat(t.toFixed(this.cantidaddecimales)),this.iva=this.total_impuestos}calcular_total(t){for(var o=0,e=0,i=0;i<this.items.length;i++)o+=this.items[i].rtotal,e+=this.items[i].rtotalneto;if(t){for(var r=0;r<this.lista_impuestos.length;r++)this.lista_impuestos[r].total=0;for(i=0;i<this.items.length;i++)for(r=0;r<this.lista_impuestos.length;r++){if(this.items[i].rporciva==this.lista_impuestos[r].rporc){this.lista_impuestos[r].total+=this.items[i].impuesto_iva;break}if(this.items[i].rporcdgr==this.lista_impuestos[r].rporc){this.lista_impuestos[r].total+=this.items[i].impuesto_dgr;break}if(this.items[i].rvalorimpinterno==this.lista_impuestos[r].rporc){this.lista_impuestos[r].total+=this.items[i].impuesto_interno;break}}for(r=0;r<this.lista_impuestos.length;r++)this.lista_impuestos[r].total=parseFloat(this.lista_impuestos[r].total.toFixed(this.cantidaddecimales))}"Factura de Compra A"==this.form_tipoDocumento||"Nota de Cr\xe9dito A"==this.form_tipoDocumento?(this.calcular_total_impuestos(),this.subtotal=parseFloat(e.toFixed(this.cantidaddecimales))):(this.subtotal=parseFloat(o.toFixed(this.cantidaddecimales)),this.iva=0),this.total=parseFloat((this.subtotal-this.form_descuento+this.iva).toFixed(this.cantidaddecimales))}}return t.\u0275fac=function(o){return new(o||t)(f.Rb(s.a),f.Rb(a.a),f.Rb(v.a),f.Rb(_),f.Rb(u.a),f.Rb(l.a),f.Rb(d.a))},t.\u0275cmp=f.Lb({type:t,selectors:[["app-new-purchase"]],decls:86,vars:86,consts:[["fxLayout","row wrap"],["appearance","fill","fxFlex","100",1,"m-8","graphic-select-form-field"],["type","text","aria-label","Proveedor","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["appearance","fill","fxFlex","30",1,"m-8","graphic-select-form-field"],[3,"ngModel","ngModelChange"],["fxFlex","25","appearance","fill",1,"m-8","graphic-select-form-field"],["name","form_numero_sucursal","matInput","","type","number","max","9999","min","0",3,"formControl"],["name","form_numero","matInput","","type","number","max","99999999","min","0",3,"formControl"],["fxFlex","10",1,"m-8",2,"padding-top","15px"],["name","form_acredito",3,"formControl"],["fxFlex","10","appearance","fill",1,"m-8","graphic-select-form-field"],["matInput","",3,"ngxMatDatetimePicker","formControl"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","stepHour","stepMinute","stepSecond","touchUi","color","enableMeridian","disableMinute","hideTime"],["picker",""],["picker2",""],["fxFlex","15","appearance","fill",1,"m-8","graphic-select-form-field"],["name","form_caicae","matInput","","type","number","min","0",3,"formControl"],["picker3",""],["appearance","fill","fxFlex","15",1,"m-8","graphic-select-form-field"],[3,"ngModel","disabled","ngModelChange","selectionChange"],["fxFlex","10",1,"m-8",2,"padding-top","15px",3,"hidden"],["name","form_afectarStock",3,"formControl"],["class","m-8 graphic-select-form-field","appearance","fill","fxFlex","15",4,"ngIf"],["name","form_cantidad","matInput","","type","number","min","0",3,"formControl"],["class","m-8 graphic-select-form-field","appearance","fill","fxFlex","50",4,"ngIf"],["class","m-8 graphic-select-form-field","fxFlex","50","appearance","fill",4,"ngIf"],[4,"ngIf"],["name","form_precio","matInput","","type","number","min","0",3,"formControl"],["class","m-8 graphic-select-form-field","fxFlex","10","appearance","fill",4,"ngIf"],["mat-button","","color","primary",3,"click"],["class","red-400 red-400-fg p-16",4,"ngIf"],[3,"value"],["appearance","fill","fxFlex","50",1,"m-8","graphic-select-form-field"],["type","text","aria-label","Producto","matInput","",3,"formControl","matAutocomplete"],["auto2","matAutocomplete"],["fxFlex","50","appearance","fill",1,"m-8","graphic-select-form-field"],["name","form_servicio","matInput","","type","text","min","0",3,"formControl"],["readonly","","name","form_precio_final","matInput","","type","number","min","0",3,"formControl"],[1,"red-400","red-400-fg","p-16"]],template:function(t,o){if(1&t&&(f.Xb(0,"div"),f.Xb(1,"div",0),f.Xb(2,"mat-form-field",1),f.Xb(3,"mat-label"),f.Oc(4),f.kc(5,"translate"),f.Wb(),f.Sb(6,"input",2),f.Xb(7,"mat-autocomplete",3,4),f.fc("optionSelected",function(t){return o.cambiarProveedor(t.option.value)}),f.Mc(9,I,2,2,"mat-option",5),f.kc(10,"async"),f.Wb(),f.Wb(),f.Wb(),f.Xb(11,"div",6),f.Xb(12,"mat-form-field",7),f.Xb(13,"mat-label"),f.Oc(14),f.kc(15,"translate"),f.Wb(),f.Xb(16,"mat-select",8),f.fc("ngModelChange",function(t){return o.form_tipoDocumento=t}),f.Mc(17,X,2,2,"mat-option",5),f.Wb(),f.Wb(),f.Xb(18,"mat-form-field",9),f.Xb(19,"mat-label"),f.Oc(20,"N\xfamero (primeros 4 d\xedgitos)"),f.Wb(),f.Sb(21,"input",10),f.Wb(),f.Xb(22,"mat-form-field",9),f.Xb(23,"mat-label"),f.Oc(24,"N\xfamero (\xfaltimos 8 d\xedgitos)"),f.Wb(),f.Sb(25,"input",11),f.Wb(),f.Xb(26,"div",12),f.Xb(27,"mat-checkbox",13),f.Oc(28,"A Cr\xe9dito"),f.Wb(),f.Wb(),f.Wb(),f.Xb(29,"div",6),f.Xb(30,"mat-form-field",14),f.Xb(31,"mat-label"),f.Oc(32),f.kc(33,"translate"),f.Wb(),f.Sb(34,"input",15),f.Sb(35,"mat-datepicker-toggle",16),f.Sb(36,"ngx-mat-datetime-picker",17,18),f.Wb(),f.Xb(38,"mat-form-field",14),f.Xb(39,"mat-label"),f.Oc(40),f.kc(41,"translate"),f.Wb(),f.Sb(42,"input",15),f.Sb(43,"mat-datepicker-toggle",16),f.Sb(44,"ngx-mat-datetime-picker",17,19),f.Wb(),f.Xb(46,"mat-form-field",20),f.Xb(47,"mat-label"),f.Oc(48,"CAI/CAE"),f.Wb(),f.Sb(49,"input",21),f.Wb(),f.Xb(50,"mat-form-field",14),f.Xb(51,"mat-label"),f.Oc(52),f.kc(53,"translate"),f.Wb(),f.Sb(54,"input",15),f.Sb(55,"mat-datepicker-toggle",16),f.Sb(56,"ngx-mat-datetime-picker",17,22),f.Wb(),f.Xb(58,"mat-form-field",23),f.Xb(59,"mat-label"),f.Oc(60),f.kc(61,"translate"),f.Wb(),f.Xb(62,"mat-select",24),f.fc("ngModelChange",function(t){return o.form_tipoFactura=t})("selectionChange",function(){return o.cambiarTiposFactura()}),f.Mc(63,k,2,2,"mat-option",5),f.Wb(),f.Wb(),f.Xb(64,"div",25),f.Xb(65,"mat-checkbox",26),f.Oc(66,"Afectar Stock"),f.Wb(),f.Wb(),f.Mc(67,y,6,5,"mat-form-field",27),f.Wb(),f.Wb(),f.Xb(68,"div",6),f.Xb(69,"mat-form-field",14),f.Xb(70,"mat-label"),f.Oc(71,"Cantidad"),f.Wb(),f.Sb(72,"input",28),f.Wb(),f.Mc(73,V,9,9,"mat-form-field",29),f.Mc(74,R,4,1,"mat-form-field",30),f.Xb(75,"mat-form-field",14),f.Mc(76,U,2,0,"mat-label",31),f.Mc(77,T,2,0,"mat-label",31),f.Sb(78,"input",32),f.Wb(),f.Mc(79,j,4,1,"mat-form-field",33),f.Xb(80,"button",34),f.fc("click",function(){return o.guardarItem()}),f.Xb(81,"mat-icon"),f.Oc(82,"save"),f.Wb(),f.Oc(83),f.kc(84,"translate"),f.Wb(),f.Wb(),f.Mc(85,L,4,0,"div",35)),2&t){const t=f.Ac(8),e=f.Ac(37),i=f.Ac(45),r=f.Ac(57);f.Eb(4),f.Pc(f.lc(5,70,"Proveedor")),f.Eb(2),f.pc("formControl",o.editorProveedor)("matAutocomplete",t),f.Eb(1),f.pc("displayWith",o.displayFnProveedores),f.Eb(2),f.pc("ngForOf",f.lc(10,72,o.filteredProveedores)),f.Eb(5),f.Pc(f.lc(15,74,"Documento")),f.Eb(2),f.pc("ngModel",o.form_tipoDocumento),f.Eb(1),f.pc("ngForOf",o.tiposDocumento),f.Eb(4),f.pc("formControl",o.form_numero_sucursal),f.Eb(4),f.pc("formControl",o.form_numero),f.Eb(2),f.pc("formControl",o.form_acredito),f.Eb(5),f.Pc(f.lc(33,76,"Fecha")),f.Eb(2),f.pc("ngxMatDatetimePicker",e)("formControl",o.fecha),f.Eb(1),f.pc("for",e),f.Eb(1),f.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!1)("hideTime",!0),f.Eb(4),f.Pc(f.lc(41,78,"Fecha Contable")),f.Eb(2),f.pc("ngxMatDatetimePicker",i)("formControl",o.fechacontable),f.Eb(1),f.pc("for",i),f.Eb(1),f.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!1)("hideTime",!0),f.Eb(5),f.pc("formControl",o.form_caicae),f.Eb(3),f.Pc(f.lc(53,80,"Fecha CAI / CAE")),f.Eb(2),f.pc("ngxMatDatetimePicker",r)("formControl",o.fechacaicae),f.Eb(1),f.pc("for",r),f.Eb(1),f.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!1)("hideTime",!0),f.Eb(4),f.Pc(f.lc(61,82,"Tipo de Factura")),f.Eb(2),f.pc("ngModel",o.form_tipoFactura)("disabled",o.items.length>0||o.tipoFacturaBloqueado),f.Eb(1),f.pc("ngForOf",o.tiposFactura),f.Eb(1),f.pc("hidden",o.form_tipoFactura!=o.tiposFactura[0]),f.Eb(1),f.pc("formControl",o.form_afectarStock),f.Eb(2),f.pc("ngIf",o.form_tipoFactura==o.tiposFactura[0]&&o.form_afectarStock.value),f.Eb(5),f.pc("formControl",o.form_cantidad),f.Eb(1),f.pc("ngIf",o.form_tipoFactura==o.tiposFactura[0]),f.Eb(1),f.pc("ngIf",o.form_tipoFactura==o.tiposFactura[1]),f.Eb(2),f.pc("ngIf","Factura de Compra A"==o.form_tipoDocumento||"Nota de Cr\xe9dito A"==o.form_tipoDocumento),f.Eb(1),f.pc("ngIf","Factura de Compra A"!=o.form_tipoDocumento&&"Nota de Cr\xe9dito A"!=o.form_tipoDocumento),f.Eb(1),f.pc("formControl",o.form_precio),f.Eb(1),f.pc("ngIf","Factura de Compra A"==o.form_tipoDocumento||"Nota de Cr\xe9dito A"==o.form_tipoDocumento),f.Eb(4),f.Qc("",f.lc(84,84,"Guardar")," "),f.Eb(2),f.pc("ngIf",!o.form_afectarStock.value)}},directives:[C.c,g.c,C.a,g.f,F.b,r.c,D.c,r.o,r.f,D.a,i.n,P.a,r.r,r.s,S.a,E.a,x.h,g.h,E.b,i.o,w.b,W.a,O.n],pipes:[M.c,i.b],styles:[""]}),t})(),data:{title:"NUEVA COMPRA"}}];var q=e("iInd"),H=e("u9T3"),z=e("PDjf"),J=e("f44v"),Q=e("iELJ"),$=e("jMqV"),K=e("M9ds"),Y=e("ZFy/"),Z=e("w9WL"),G=e("PCNd"),tt=e("BxcV");let ot=(()=>{class t{}return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(o){return new(o||t)},imports:[[i.c,r.t,H.a,Z.f,F.c,F.c,z.c,F.c,w.c,J.a,F.c,Y.b,Q.f,v.b,$.b,K.c,P.b,W.b,M.b,G.a,D.b,tt.a,r.j,x.g,E.c,E.e,E.d,S.b,q.k.forChild(B)]]}),t})()}}]);