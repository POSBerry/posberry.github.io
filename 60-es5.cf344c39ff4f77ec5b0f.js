!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"oZ/c":function(n,a,r){"use strict";r.r(a),r.d(a,"CustomerDisplaySettingsModule",function(){return X});var c=r("SVse"),i=r("3sEA"),o=r("vpPe"),s=r("O/+5"),u=r("8Y7J"),d=r("zHaW"),p=r("PDjf"),b=r("TSSN");function l(e,n){if(1&e){var t=u.Yb();u.Xb(0,"mat-card-content"),u.Xb(1,"h4"),u.Oc(2),u.kc(3,"translate"),u.Wb(),u.Sb(4,"img",1),u.Sb(5,"br"),u.Sb(6,"input",2),u.Xb(7,"button",3),u.fc("click",function(){u.Dc(t);var e=n.$implicit;return u.jc().enviarImagen(e.nombre,e.indice)}),u.Oc(8),u.kc(9,"translate"),u.Wb(),u.Wb()}if(2&e){var a=n.$implicit;u.Eb(2),u.Rc("",u.lc(3,5,"CUSTOMERDISPLAY.PICTURE")," ",11==a.indice?"Fondo Promociones":a.indice,""),u.Eb(2),u.qc("src",a.url,u.Fc),u.Eb(2),u.qc("id",a.nombre),u.Eb(2),u.Pc(u.lc(9,7,"CUSTOMERDISPLAY.SEND"))}}var f,m,v=[{path:"",component:(f=function(){function n(t,a,r,c){e(this,n),this.servicioTicket=t,this.loader=a,this.snack=r,this.servicioUUID=c,this.idEmpresa=""}return t(n,[{key:"ngOnInit",value:function(){var e=this;this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(function(n){e.idEmpresa=n[0].id,e.listadoImagenes=[];for(var t=1;t<=11;t++)e.listadoImagenes.push({url:"https://s3.sa-east-1.amazonaws.com/images.posberry.com/".concat(e.idEmpresa,"-").concat(t,".png?")+e.servicioUUID.generateUUID(),indice:t,nombre:"".concat(e.idEmpresa,"-").concat(t)});e.loader.close()},function(n){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}},{key:"enviarImagen",value:function(e,n){!function(e,n){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e,a=[];a.push(encodeURIComponent("image")+"="+encodeURIComponent(t.result)),a.push(encodeURIComponent("name")+"="+encodeURIComponent(n)),e=a.join("&").replace(/%20/g,"+");var r=new XMLHttpRequest;r.withCredentials=!0,r.addEventListener("readystatechange",function(){4===this.readyState&&alert("Imagen enviada. Puede que necesite recargar la p\xe1gina para ver la nueva im\xe1gen en miniatura.")}),r.open("POST","/api/subidas3"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("cache-control","no-cache"),r.send(e)},t.onerror=function(e){alert("Error: no se pudo enviar la imagen")}}(document.getElementById(e).files[0],e)}}]),n}(),f.\u0275fac=function(e){return new(e||f)(u.Rb(s.a),u.Rb(i.a),u.Rb(d.a),u.Rb(o.a))},f.\u0275cmp=u.Lb({type:f,selectors:[["app-customer-display-settings"]],decls:6,vars:4,consts:[[4,"ngFor","ngForOf"],["width","320","height","auto",3,"src"],["type","file","accept",".png",3,"id"],["type","submit",1,"btn","btn-raised","btn-primary",3,"click"]],template:function(e,n){1&e&&(u.Xb(0,"mat-card"),u.Xb(1,"mat-card-content"),u.Xb(2,"p"),u.Oc(3),u.kc(4,"translate"),u.Wb(),u.Wb(),u.Mc(5,l,10,9,"mat-card-content",0),u.Wb()),2&e&&(u.Eb(3),u.Pc(u.lc(4,2,"CUSTOMERDISPLAY.PARRAF1")),u.Eb(2),u.pc("ngForOf",n.listadoImagenes))},directives:[p.a,p.b,c.n],pipes:[b.c],styles:[""]}),f),data:{title:"CUSTOMER DISPLAY"}}],g=r("iInd"),x=r("u9T3"),h=r("s7LF"),y=r("Dxy4"),R=r("pMoy"),E=r("f44v"),I=r("TN/R"),w=r("iELJ"),S=r("40+f"),T=r("Tj54"),U=r("e6WT"),k=r("SqCe"),P=r("rJgo"),C=r("BTe0"),O=r("zQhy"),D=r("ZTz/"),M=r("jMqV"),L=r("M9ds"),j=r("ZFy/"),F=r("w9WL"),W=r("aYsj"),Y=r("PCNd"),q=r("hrfs"),A=r("pYyI"),X=((m=function n(){e(this,n)}).\u0275mod=u.Pb({type:m}),m.\u0275inj=u.Ob({factory:function(e){return new(e||m)},imports:[[c.c,h.t,x.a,F.f,U.c,U.c,p.c,U.c,y.c,E.a,U.c,j.b,w.f,d.b,M.b,L.c,D.b,T.b,b.b,Y.a,I.g,h.j,k.b,P.c,S.b,R.b,O.c,C.b,q.a,A.a,W.a,g.k.forChild(v)]]}),m)},vpPe:function(n,a,r){"use strict";r.d(a,"a",function(){return i});var c=r("8Y7J"),i=function(){var n=function(){function n(){e(this,n)}return t(n,[{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)})}}]),n}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()}}])}();