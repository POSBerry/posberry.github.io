(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{GmJt:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("GS7A");const o=Object(n.g)([Object(n.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(n.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(n.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),c=[Object(n.n)("animate",[Object(n.m)("void => *",[Object(n.o)(o)])]),Object(n.n)("fadeInOut",[Object(n.k)("0",Object(n.l)({opacity:0,display:"none"})),Object(n.k)("1",Object(n.l)({opacity:1,display:"block"})),Object(n.m)("0 => 1",Object(n.e)("300ms")),Object(n.m)("1 => 0",Object(n.e)("300ms"))])]},JIvT:function(t,e,a){"use strict";a.r(e),a.d(e,"CheckingAccountStatementModule",function(){return q});var n=a("SVse"),o=a("u9T3"),c=a("s7LF"),i=a("Dxy4"),l=a("PDjf"),r=a("f44v"),s=a("TN/R"),b=a("iELJ"),d=a("Tj54"),u=a("e6WT"),p=a("ZTz/"),m=a("jMqV"),h=a("zHaW"),f=a("M9ds"),g=a("ZFy/"),y=a("iInd"),w=a("TSSN"),v=a("w9WL"),j=a("PCNd"),O=a("GmJt"),k=a("3sEA"),R=a("CHRX"),x=a("i59u"),E=a("rbHy"),C=a("AytR"),W=a("cp0P"),A=a("8Y7J"),D=a("IheW");let I=(()=>{class t{constructor(t){this.http=t}obtenerDatos(t){return Object(W.a)([this.http.get(encodeURI(`${C.a.apiURL}Clientes/obtenerSaldoCliente?idcliente=${t}`)),this.http.get(encodeURI(`${C.a.apiURL}Clientes/ExtractoCliente?idcliente=${t}`))])}obtenerDatosVenta(t){return Object(W.a)([this.http.get(encodeURI(`${C.a.apiURL}Ventasitems/DetalleDeVentaPorId?idVenta=${t}`)),this.http.get(encodeURI(`${C.a.apiURL}Ventas/DetalleDeMovCajaVenta?idVenta=${t}`)),this.http.get(encodeURI(`${C.a.apiURL}Ventas/${t}/`))])}}return t.\u0275fac=function(e){return new(e||t)(A.bc(D.c))},t.\u0275prov=A.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=a("Q2Ze");function X(t,e){if(1&t&&(A.Oc(0),A.kc(1,"date")),2&t){const t=e.row;A.Qc(" ",A.mc(1,1,null==t?null:t.fecha,"dd/MM/yyyy HH:mm:ss")," ")}}function S(t,e){if(1&t&&A.Oc(0),2&t){const t=e.row;A.Qc(" ",null==t?null:t.tipo," ")}}function T(t,e){if(1&t&&(A.Oc(0),A.kc(1,"currency")),2&t){const t=e.row;A.Qc(" ",A.lc(1,1,null==t?null:t.saldo)," ")}}function H(t,e){if(1&t){const t=A.Yb();A.Xb(0,"button",13),A.fc("click",function(){A.Dc(t);const e=A.jc().row;return A.jc().openPopUp(e)}),A.Xb(1,"mat-icon"),A.Oc(2,"info"),A.Wb(),A.Wb()}}function L(t,e){if(1&t&&A.Mc(0,H,3,0,"button",12),2&t){const t=e.row;A.pc("ngIf",!t.isGroup&&t.venta)}}function V(t,e){if(1&t){const t=A.Yb();A.Xb(0,"button",17),A.fc("click",function(){return A.Dc(t),A.jc(3).export()}),A.Xb(1,"mat-icon"),A.Oc(2,"save_alt"),A.Wb(),A.Oc(3),A.kc(4,"translate"),A.Wb()}2&t&&(A.Eb(3),A.Pc(A.lc(4,1,"SALES.EXCEL")))}function P(t,e){if(1&t&&(A.Xb(0,"div",15),A.Mc(1,V,5,3,"button",16),A.Wb()),2&t){const t=A.jc(2);A.Eb(1),A.pc("ngIf",t.tabla1.data.length>0)}}function U(t,e){1&t&&(A.Xb(0,"ngx-datatable-footer"),A.Mc(1,P,2,1,"ng-template",14),A.Wb())}function $(t,e){if(1&t){const t=A.Yb();A.Xb(0,"mat-form-field",18),A.Xb(1,"input",19),A.fc("keyup",function(e){return A.Dc(t),A.jc().tabla1.updateFilter(e,"fecha")}),A.Wb(),A.Wb()}}function F(t,e){if(1&t){const t=A.Yb();A.Xb(0,"mat-form-field",18),A.Xb(1,"input",19),A.fc("keyup",function(e){return A.Dc(t),A.jc().tabla1.updateFilter(e,"tipo")}),A.Wb(),A.Wb()}}function N(t,e){if(1&t){const t=A.Yb();A.Xb(0,"mat-form-field",18),A.Xb(1,"input",20),A.fc("keyup",function(e){return A.Dc(t),A.jc().tabla1.updateFilter(e,"saldo")}),A.Wb(),A.Wb()}}const J=function(){return{y:"50px",delay:"300ms"}},G=function(t){return{value:"*",params:t}},Y=[{path:"",component:(()=>{class t{constructor(t,e,a,n,o,c){this.dialog=t,this.servicioVentas=e,this.route=a,this.servicioExtractoCliente=n,this.loader=o,this.snack=c,this.totalAPagar=0}ngOnInit(){this.tabla1=new R.a,this.tabla1.groupField="",this.tabla1.secondarySort="fecha",this.tabla1.sum=[];const t=this.route.snapshot.paramMap.get("id");console.log(t),this.loader.open(),this.servicioExtractoCliente.obtenerDatos(t).subscribe(t=>{this.saldoCliente=t[0][0],this.saldoCliente.saldo=this.saldoCliente.totventas+this.saldoCliente.totmovcaja+this.saldoCliente.limitecredito,this.extractocliente=t[1],this.totalAPagar=0;var e=this.extractocliente.map(t=>{var e={};return e.id=t.id,e.fecha=t.fecha,e.saldo=t.saldo,e.saldoABS=Math.abs(t.saldo),e.tipo=t.tipo,e.saldo<0&&(this.totalAPagar+=Math.abs(e.saldo)),e.credito="CRE"==t.condventa||"---"==t.condventa,e.venta="---"!=t.condventa,e.element=t,e});this.totalAPagar=parseFloat(this.totalAPagar.toFixed(2)),this.tabla1.setData(e),console.log(this.tabla1.data),this.loader.close()},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}getRowHeight(t){return 50}onSort(t){const e=t.sorts[0];this.tabla1.secondarySort=e.prop,this.tabla1.sortDir=e.dir,this.tabla1.sortData()}openPopUp(t={}){this.loader.open(),this.servicioExtractoCliente.obtenerDatosVenta(t.id).subscribe(e=>{this.loader.close();var a="";0!=e[2].idpvcaea&&(a="CAEA no informado.",e[2].fcaeainformado&&(a="CAEA Informado el "+new Date(t.fcaeainformado).toLocaleDateString())),this.dialog.open(x.a,{width:"720px",disableClose:!0,data:{title:"DETALLE DE VENTA",payload:e[2],ventaitems:e[0],ventamovcaja:e[1],sleyendacaea:a}}).afterClosed().subscribe(t=>{})},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}}return t.\u0275fac=function(e){return new(e||t)(A.Rb(b.b),A.Rb(E.a),A.Rb(y.a),A.Rb(I),A.Rb(k.a),A.Rb(h.a))},t.\u0275cmp=A.Lb({type:t,selectors:[["app-checking-account-statement"]],decls:23,vars:35,consts:[[1,"p-0"],[1,"material","expandable","bg-white",2,"height","50vh",3,"columnMode","headerHeight","footerHeight","rowHeight","scrollbarV","scrollbarH","rows","summaryRow","externalSorting","selectionType","sort"],["myTable",""],["prop","fecha",3,"summaryTemplate","name","width"],["ngx-datatable-cell-template",""],["prop","tipo",3,"summaryTemplate","name","width"],["prop","saldo",3,"summaryTemplate","name","width"],[3,"name","flexGrow","sortable"],[4,"ngIf"],["tabla1fecha",""],["tabla1tipo",""],["tabla1saldo",""],["mat-icon-button","","mat-sm-button","","color","foreground","class","mr-16",3,"click",4,"ngIf"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"],["ngx-datatable-footer-template",""],[1,"p-8",2,"margin-left","auto"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-8",3,"click"],[1,"margin-333",2,"width","100%"],["matInput","","placeholder","","value","",3,"keyup"],["type","number","matInput","","placeholder","","value","",3,"keyup"]],template:function(t,e){if(1&t&&(A.Xb(0,"mat-card",0),A.Xb(1,"mat-card-content",0),A.Xb(2,"ngx-datatable",1,2),A.fc("sort",function(t){return e.onSort(t)}),A.Xb(4,"ngx-datatable-column",3),A.kc(5,"translate"),A.Mc(6,X,2,4,"ng-template",4),A.Wb(),A.Xb(7,"ngx-datatable-column",5),A.kc(8,"translate"),A.Mc(9,S,1,1,"ng-template",4),A.Wb(),A.Xb(10,"ngx-datatable-column",6),A.kc(11,"translate"),A.Mc(12,T,2,3,"ng-template",4),A.Wb(),A.Xb(13,"ngx-datatable-column",7),A.kc(14,"translate"),A.Mc(15,L,1,1,"ng-template",4),A.Wb(),A.Mc(16,U,2,0,"ngx-datatable-footer",8),A.Wb(),A.Wb(),A.Wb(),A.Mc(17,$,2,0,"ng-template",null,9,A.Nc),A.Mc(19,F,2,0,"ng-template",null,10,A.Nc),A.Mc(21,N,2,0,"ng-template",null,11,A.Nc)),2&t){const t=A.Ac(18),a=A.Ac(20),n=A.Ac(22);A.pc("@animate",A.vc(33,G,A.uc(32,J))),A.Eb(2),A.pc("columnMode","standard")("headerHeight",50)("footerHeight",100)("rowHeight",e.getRowHeight)("scrollbarV",!0)("scrollbarH",!0)("rows",e.tabla1.rows)("summaryRow",!0)("externalSorting",!0)("selectionType","single"),A.Eb(2),A.qc("name",A.lc(5,24,"Fecha")),A.pc("summaryTemplate",t)("width",200),A.Eb(3),A.qc("name",A.lc(8,26,"Tipo")),A.pc("summaryTemplate",a)("width",500),A.Eb(3),A.qc("name",A.lc(11,28,"Saldo")),A.pc("summaryTemplate",n)("width",150),A.Eb(3),A.qc("name",A.lc(14,30,"SALES.ACTIONS")),A.pc("flexGrow",1)("sortable",!1),A.Eb(3),A.pc("ngIf",e.tabla1.data.length>0)}},directives:[l.a,l.b,v.d,v.b,v.a,n.o,i.b,d.a,v.e,v.c,M.c,u.b],pipes:[w.c,n.f,n.d],styles:[""],data:{animation:[O.a]}}),t})(),data:{title:"Cuenta Corriente"}}];let q=(()=>{class t{}return t.\u0275mod=A.Pb({type:t}),t.\u0275inj=A.Ob({factory:function(e){return new(e||t)},imports:[[n.c,c.s,o.a,v.f,u.c,u.c,l.c,u.c,i.c,r.a,u.c,g.b,b.e,h.b,m.b,f.c,p.b,d.b,w.b,j.a,s.c,y.k.forChild(Y)]]}),t})()}}]);