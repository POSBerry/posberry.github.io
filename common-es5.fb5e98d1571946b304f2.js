!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function e(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5IEN":function(n,a,c){"use strict";c.d(a,"a",function(){return u});var r=c("AytR"),o=c("8Y7J"),i=c("IheW"),u=function(){var n=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"obtenerDatosTabla1",value:function(t,n,e){return this.http.get("".concat(r.a.apiURL,'Movcaja?filter={"where":{"and":%20[{"and":%20[{"fmovimiento":%20{"gt":"').concat(t,'"}},%20{"fmovimiento":%20{"lt":"').concat(n,'"}}]},{"idpv":{"inq":%20[').concat(e,']}},{"deletedon":{"eq":null}}]}}'))}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},"8iJF":function(n,a,c){"use strict";c.d(a,"a",function(){return u});var r=c("AytR"),o=c("8Y7J"),i=c("IheW"),u=function(){var n=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"obtenerDatos",value:function(t,n,e,a){return this.http.get(encodeURI("".concat(r.a.apiURL,'Clientes?filter={"where":').concat(t,',"limit":').concat(n,',"skip":').concat(e,',"order":"').concat(a,'"}')))}},{key:"obtenerIdMasAlto",value:function(){return this.http.get(encodeURI(r.a.apiURL+"Clientes/idMasAlto"))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(r.a.apiURL,"Clientes/count?where=").concat(t)))}},{key:"traerClientes",value:function(){return this.http.get(encodeURI(r.a.apiURL+'Clientes?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"actualizarCliente",value:function(t){return this.http.put("".concat(r.a.apiURL,"Clientes/").concat(t.id),t)}},{key:"obtenerTiposClientes",value:function(){return this.http.get(encodeURI(r.a.apiURL+'Tiposcliente?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerEmpresas",value:function(){return this.http.get(r.a.apiURL+"Empresas")}},{key:"agregarCliente",value:function(t){return this.http.post(r.a.apiURL+"Clientes",t)}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},"Ap+n":function(n,a,c){"use strict";c.d(a,"a",function(){return v});var r=c("iELJ"),o=c("GmJt"),i=c("8Y7J"),u=c("PDjf"),s=c("VDRc"),l=c("Dxy4"),d=c("Tj54"),f=c("TSSN"),p=c("SVse"),b=function(){return{y:"50px",delay:"300ms"}},h=function(t){return{value:"*",params:t}},v=function(){var n=function(){function n(e,a){t(this,n),this.data=e,this.dialogRef=a}return e(n,[{key:"ngOnInit",value:function(){}}]),n}();return n.\u0275fac=function(t){return new(t||n)(i.Rb(r.a),i.Rb(r.g))},n.\u0275cmp=i.Lb({type:n,selectors:[["app-user-info-popup"]],decls:23,vars:37,consts:[["matDialogTitle",""],["ng-if","data.payload.fModificacion"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,n){1&t&&(i.Xb(0,"h1",0),i.Oc(1),i.Wb(),i.Xb(2,"mat-dialog-content"),i.Xb(3,"mat-card"),i.Xb(4,"mat-card-content"),i.Xb(5,"h5"),i.Oc(6),i.kc(7,"translate"),i.kc(8,"date"),i.kc(9,"date"),i.Wb(),i.Xb(10,"h5",1),i.Oc(11),i.kc(12,"translate"),i.kc(13,"date"),i.kc(14,"date"),i.kc(15,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"mat-dialog-content",2),i.Xb(17,"div",3),i.Xb(18,"button",4),i.fc("click",function(){return n.dialogRef.close(!1)}),i.Xb(19,"mat-icon"),i.Oc(20,"cancel"),i.Wb(),i.Oc(21),i.kc(22,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.Pc(n.data.title),i.Eb(2),i.pc("@animate",i.vc(35,h,i.uc(34,b))),i.Eb(3),i.Uc("",i.lc(7,14,"Creado")," ",i.mc(8,16,n.data.payload.fcreacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.mc(9,19,n.data.payload.fCreacion,"dd/MM/yyyy ' a las ' HH:mm")," por ",n.data.payload.soperadorcreacion," ",n.data.payload.sOperadorCreacion,""),i.Eb(5),i.Vc("",i.lc(12,22,"Modificado")," ",i.mc(13,24,n.data.payload.fmodificacion,"dd/MM/yyyy ' a las ' HH:mm"),"",i.mc(14,27,n.data.payload.fModificacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.lc(15,30,"por")," ",n.data.payload.soperadormodificacion," ",n.data.payload.sOperadorModificacion,""),i.Eb(10),i.Pc(i.lc(22,32,"Cancelar")))},directives:[r.h,r.e,u.a,u.b,s.c,s.b,s.a,l.b,d.a],pipes:[f.c,p.f],styles:[""],data:{animation:[o.a]}}),n}()},BxcV:function(n,e,a){"use strict";a.d(e,"a",function(){return O});var c=a("SVse"),r=a("u9T3"),o=a("s7LF"),i=a("Dxy4"),u=a("PDjf"),s=a("f44v"),l=a("TN/R"),d=a("iELJ"),f=a("Tj54"),p=a("e6WT"),b=a("ZTz/"),h=a("jMqV"),v=a("zHaW"),m=a("M9ds"),g=a("ZFy/"),y=a("TSSN"),k=a("w9WL"),P=a("PCNd"),x=a("8Y7J"),O=function(){var n=function n(){t(this,n)};return n.\u0275mod=x.Pb({type:n}),n.\u0275inj=x.Ob({factory:function(t){return new(t||n)},imports:[[c.c,o.t,r.a,k.f,p.c,p.c,u.c,p.c,i.c,s.a,p.c,g.b,d.f,v.b,h.b,m.c,b.b,f.b,y.b,P.a,l.g]]}),n}()},IAdc:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var a=e("Kqap"),c=e("BFxc"),r=e("xbPD"),o=e("mCNh");function i(t,n,e){return 0===e?[n]:(t.push(n),t)}function u(){return function(t,n){return arguments.length>=2?function(e){return Object(o.a)(Object(a.a)(t,n),Object(c.a)(1),Object(r.a)(n))(e)}:function(n){return Object(o.a)(Object(a.a)(function(n,e,a){return t(n,e,a+1)}),Object(c.a)(1))(n)}}(i,[])}},"O/+5":function(n,a,c){"use strict";c.d(a,"a",function(){return u});var r=c("AytR"),o=c("8Y7J"),i=c("IheW"),u=function(){var n=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"obtenerEmpresas",value:function(){return this.http.get(r.a.apiURL+"Empresas")}},{key:"actualizarEmpresa",value:function(t){return this.http.put("".concat(r.a.apiURL,"Empresas/").concat(t.id),t)}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},Sp5M:function(n,a,c){"use strict";c.d(a,"a",function(){return u});var r=c("AytR"),o=c("8Y7J"),i=c("IheW"),u=function(){var n=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"obtenerEmpresas",value:function(){return this.http.get(r.a.apiURL+"Empresas")}},{key:"actualizarEmpresa",value:function(t){return this.http.put("".concat(r.a.apiURL,"Empresas/").concat(t.id),t)}},{key:"obtenerPV",value:function(){return this.http.get(r.a.apiURL+"PuntosVenta")}},{key:"vincularMP",value:function(t,n){return this.http.post("/api/mpoint",{client_id:t,client_secret:n})}},{key:"imprimirQR",value:function(t,n){return this.http.post("/api/mpuser",{client_id:t,client_secret:n})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},UVsP:function(n,a,c){"use strict";c.d(a,"a",function(){return l});var r=c("AytR"),o=c("HDdC"),i=c("cp0P"),u=c("8Y7J"),s=c("IheW"),l=function(){var n=function(){function n(e){t(this,n),this.http=e}return e(n,[{key:"obtenerDatos",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new o.a(function(c){var o=r.a.apiURL+"Sucursales/SucursalesPorOperador";a&&(o=r.a.apiURL+'Sucursales/?filter={"where":{"deletedon":{"eq":null}}}');var u=[t.http.get(encodeURI(o))];n&&u.push(t.http.get(encodeURI(r.a.apiURL+'PuntosVenta/?filter={"where":{"deletedon":{"eq":null}}}'))),Object(i.a)(u).subscribe(function(t){var r=t[0];if(r=r.map(function(t,n,e){return{bactivo:"T"==t.bactivo,nombre:t.sdescripcion,id:t.idsucursal,idsucursal:t.idsucursal,puntosventas:new Array}}),e&&(r=r.filter(function(t){return t.bactivo})),r.sort(function(t,n){return t.nombre>n.nombre?1:t.nombre<n.nombre?-1:0}),r.splice(0,0,{nombre:"TODAS",id:"",puntosventas:new Array}),n){var o=t[1];e&&(o=o.filter(function(t){return"T"==t.bactivo}));for(var i=0;i<o.length;i++){1!=r.length&&-1==r[0].puntosventas.indexOf(o[i])&&r[0].puntosventas.push(o[i].idpv);for(var u=1;u<r.length;u++)o[i].idsucursal==r[u].idsucursal&&-1==r[u].puntosventas.indexOf(o[i].idpv)&&r[u].puntosventas.push(o[i].idpv)}for(i=0;i<r.length;i++)r[i].puntosventasstr=r[i].puntosventas.join()}a||2!=r.length||r.shift(),c.next(r),c.complete()},function(t){return c.error(t)})})}}]),n}();return n.\u0275fac=function(t){return new(t||n)(u.bc(s.c))},n.\u0275prov=u.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},qA6C:function(n,a,c){"use strict";c.d(a,"a",function(){return u});var r=c("AytR"),o=c("8Y7J"),i=c("IheW"),u=function(){var n=function(){function n(e){t(this,n),this.http=e,this.listaProductos=[]}return e(n,[{key:"obtenerDatos",value:function(t,n,e,a){return this.http.get(encodeURI("".concat(r.a.apiURL,'Productos?filter={"where":').concat(t,',"limit":').concat(n,',"skip":').concat(e,',"order":"').concat(a,'"}')))}},{key:"traerProductosPagina",value:function(t,n,e,a,c){var o=this;this.http.get(encodeURI("".concat(r.a.apiURL,'Productos?filter={"limit":').concat(t,',"skip":').concat(n,',"order":"').concat(e,'"}'))).subscribe(function(r){r.length>0?(o.listaProductos=o.listaProductos.concat(r),o.traerProductosPagina(t,n+t,e,a,c)):a()},function(t){"function"==typeof c&&c(t)})}},{key:"traerProductos",value:function(t,n,e){this.listaProductos.length=0,this.traerProductosPagina(2e4,0,t,n,e)}},{key:"obtenerFamilias",value:function(){return this.http.get(encodeURI(r.a.apiURL+'Familias?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerProveedores",value:function(){return this.http.get(encodeURI(r.a.apiURL+'Proveedores?filter={"where":{"and":[{"deletedon":{"eq":null}},{"srazonsocial":{"neq":""}}]},"order":"srazonsocial ASC"}'))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(r.a.apiURL,"Productos/count?where=").concat(t)))}},{key:"actualizarProducto",value:function(t){return this.http.put("".concat(r.a.apiURL,"Productos/").concat(t.id),t)}},{key:"agregarProducto",value:function(t){return this.http.post(r.a.apiURL+"Productos",t)}},{key:"obtenerEmpresas",value:function(){return this.http.get(r.a.apiURL+"Empresas")}},{key:"obtenerIdMasAlto",value:function(){return this.http.get(r.a.apiURL+"Productos/idMasAlto")}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},rGvg:function(n,a,c){"use strict";c.d(a,"a",function(){return w});var r=c("iELJ"),o=c("bPAe"),i=c("wd/R"),u=c("GmJt"),s=c("8Y7J"),l=c("PDjf"),d=c("w9WL"),f=c("SVse"),p=c("VDRc"),b=c("Dxy4"),h=c("Tj54"),v=c("TSSN");function m(t,n){}function g(t,n){if(1&t&&(s.Oc(0),s.kc(1,"date")),2&t){var e=n.row;s.Qc(" ",s.mc(1,1,null==e?null:e.Fecha,"dd/MM/yyyy HH:mm:ss")," ")}}function y(t,n){if(1&t&&s.Oc(0),2&t){var e=n.row;s.Qc(" ",null==e?null:e.Descripcion," ")}}function k(t,n){if(1&t&&(s.Oc(0),s.kc(1,"number")),2&t){var e=n.row;s.Qc(" ",s.lc(1,1,null==e?null:e.Cantidad)," ")}}function P(t,n){if(1&t&&s.Oc(0),2&t){var e=n.row;s.Qc(" ",null==e?null:e.Operador," ")}}function x(t,n){if(1&t){var e=s.Yb();s.Xb(0,"button",11),s.fc("click",function(){return s.Dc(e),s.jc().export()}),s.Xb(1,"mat-icon"),s.Oc(2,"save_alt"),s.Wb(),s.Oc(3),s.kc(4,"translate"),s.Wb()}2&t&&(s.Eb(3),s.Pc(s.lc(4,1,"STOCKPOPUPCOMPONENT.EXCEL")))}var O=function(){return{y:"50px",delay:"300ms"}},R=function(t){return{value:"*",params:t}},w=function(){var n=function(){function n(e,a,c,r){t(this,n),this.data=e,this.dialogRef=a,this.servicioExportarExcel=c,this.cdRef=r,this.page={count:0,offset:0,limit:5}}return e(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}},{key:"getCellClass",value:function(t){var n=t.row,e=t.column;return{ngxgroup:n.isGroup,"ngx-alert-success ngx-alert-padding":"status"==e.prop&&n.Cantidad>0,"ngx-alert-danger ngx-alert-padding":"status"==e.prop&&n.Cantidad<0,"ngx-alert-warning ngx-alert-padding":"status"==e.prop&&0==n.Cantidad}}},{key:"export",value:function(){var t=this.data.historialstock.map(function(t){return{Fecha:i(t.Fecha).format("DD/MM/YYYY HH:mm:ss"),"Descripci\xf3n":t.Descripcion,Cantidad:t.Cantidad,Operador:t.Operador}});this.servicioExportarExcel.exportExcel(t,"historial_stock_"+this.data.payload.sProducto,"historial_stock")}}]),n}();return n.\u0275fac=function(t){return new(t||n)(s.Rb(r.a),s.Rb(r.g),s.Rb(o.a),s.Rb(s.h))},n.\u0275cmp=s.Lb({type:n,selectors:[["app-products-popup"]],decls:37,vars:51,consts:[["matDialogTitle",""],[1,"p-0"],[1,"material","ml-0","mr-0","ngx-status",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],["prop","status","name","",3,"cellClass","sortable","width","flexGrow"],["ngx-datatable-cell-template",""],[3,"name","width"],["align","right",1,"p-8"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary",1,"m-8",3,"click"]],template:function(t,n){1&t&&(s.Xb(0,"h1",0),s.Oc(1),s.Wb(),s.Xb(2,"mat-dialog-content"),s.Xb(3,"mat-card"),s.Xb(4,"mat-card-content"),s.Xb(5,"h5"),s.Oc(6),s.kc(7,"translate"),s.Wb(),s.Xb(8,"h5"),s.Oc(9),s.kc(10,"translate"),s.Wb(),s.Wb(),s.Wb(),s.Xb(11,"mat-card",1),s.Xb(12,"mat-card-content",1),s.Xb(13,"ngx-datatable",2),s.Xb(14,"ngx-datatable-column",3),s.Mc(15,m,0,0,"ng-template",4),s.Wb(),s.Xb(16,"ngx-datatable-column",5),s.kc(17,"translate"),s.Mc(18,g,2,4,"ng-template",4),s.Wb(),s.Xb(19,"ngx-datatable-column",5),s.kc(20,"translate"),s.Mc(21,y,1,1,"ng-template",4),s.Wb(),s.Xb(22,"ngx-datatable-column",5),s.kc(23,"translate"),s.Mc(24,k,2,3,"ng-template",4),s.Wb(),s.Xb(25,"ngx-datatable-column",5),s.kc(26,"translate"),s.Mc(27,P,1,1,"ng-template",4),s.Wb(),s.Wb(),s.Xb(28,"div",6),s.Mc(29,x,5,3,"button",7),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(30,"mat-dialog-content",8),s.Xb(31,"div",9),s.Xb(32,"button",10),s.fc("click",function(){return n.dialogRef.close(!1)}),s.Xb(33,"mat-icon"),s.Oc(34,"cancel"),s.Wb(),s.Oc(35),s.kc(36,"translate"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.Rc("",n.data.title,": ",n.data.payload.sProducto,""),s.Eb(2),s.pc("@animate",s.vc(46,R,s.uc(45,O))),s.Eb(3),s.Rc("",s.lc(7,31,"STOCKPOPUPCOMPONENT.DEPOSIT"),": ",n.data.payload.sDeposito,""),s.Eb(3),s.Rc("",s.lc(10,33,"STOCKPOPUPCOMPONENT.STOCK"),": ",n.data.payload.rStock,""),s.Eb(2),s.pc("@animate",s.vc(49,R,s.uc(48,O))),s.Eb(2),s.pc("rows",n.data.historialstock)("columnMode","force")("headerHeight",50)("footerHeight",n.data.historialstock.length>n.page.limit?50:0)("scrollbarH",!0)("rowHeight",50)("count",n.page.count)("offset",n.page.offset)("limit",n.page.limit),s.Eb(1),s.pc("cellClass",n.getCellClass)("sortable",!1)("width",10)("flexGrow",.1),s.Eb(2),s.qc("name",s.lc(17,35,"STOCKPOPUPCOMPONENT.DATE")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(20,37,"STOCKPOPUPCOMPONENT.DESCRIPTION")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(23,39,"STOCKPOPUPCOMPONENT.QUANTITY")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(26,41,"STOCKPOPUPCOMPONENT.OPERATOR")),s.pc("width",150),s.Eb(4),s.pc("ngIf",n.data.historialstock.length>0),s.Eb(6),s.Pc(s.lc(36,43,"STOCKPOPUPCOMPONENT.CANCEL")))},directives:[r.h,r.e,l.a,l.b,d.d,d.b,d.a,f.o,p.c,p.b,p.a,b.b,h.a],pipes:[v.c,f.f,f.g],styles:[""],data:{animation:[u.a]}}),n}()},vpPe:function(n,a,c){"use strict";c.d(a,"a",function(){return o});var r=c("8Y7J"),o=function(){var n=function(){function n(){t(this,n)}return e(n,[{key:"generateUUID",value:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?e:3&e|8).toString(16)})}}]),n}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=r.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()}}])}();