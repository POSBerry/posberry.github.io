!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{GmJt:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var o=a("GS7A"),i=Object(o.g)([Object(o.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(o.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(o.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),r=[Object(o.n)("animate",[Object(o.m)("void => *",[Object(o.o)(i)])]),Object(o.n)("fadeInOut",[Object(o.k)("0",Object(o.l)({opacity:0,display:"none"})),Object(o.k)("1",Object(o.l)({opacity:1,display:"block"})),Object(o.m)("0 => 1",Object(o.e)("300ms")),Object(o.m)("1 => 0",Object(o.e)("300ms"))])]},HkQJ:function(t,o,i){"use strict";i.r(o),i.d(o,"PointOfSaleSettingsModule",function(){return le});var r=i("SVse"),c=i("iInd"),n=i("u9T3"),l=i("s7LF"),s=i("Dxy4"),u=i("PDjf"),b=i("f44v"),d=i("iELJ"),p=i("Tj54"),f=i("e6WT"),m=i("ZTz/"),v=i("jMqV"),h=i("zHaW"),g=i("M9ds"),O=i("ZFy/"),P=i("TSSN"),E=i("w9WL"),y=i("PCNd"),F=i("GmJt"),W=i("3kSh"),k=i("3sEA"),X=i("vpPe"),T=i("cp0P"),C=i("Ap+n"),S=i("8Y7J"),I=i("VDRc"),w=i("Q2Ze"),D=i("pMoy"),R=i("UhP/");function x(e,t){if(1&e&&(S.Xb(0,"mat-option",24),S.Oc(1),S.Wb()),2&e){var a=t.$implicit;S.pc("value",a.idsucursal),S.Eb(1),S.Qc(" ",a.sdescripcion," ")}}function A(e,t){if(1&e&&(S.Xb(0,"mat-option",24),S.Oc(1),S.Wb()),2&e){var a=t.$implicit;S.pc("value",a.indice),S.Eb(1),S.Qc(" ",a.value," ")}}function U(e,t){if(1&e&&(S.Xb(0,"mat-option",24),S.Oc(1),S.Wb()),2&e){var a=t.$implicit;S.pc("value",a.scodcliente),S.Eb(1),S.Qc(" ",a.srazonsocial," ")}}function j(e,t){if(1&e&&(S.Xb(0,"mat-tab",25),S.Xb(1,"form",2),S.Xb(2,"mat-dialog-content",3),S.Xb(3,"div",10),S.Xb(4,"mat-form-field",7),S.Xb(5,"mat-label"),S.Oc(6),S.kc(7,"translate"),S.Wb(),S.Xb(8,"mat-select",26),S.Mc(9,U,2,2,"mat-option",9),S.Wb(),S.Wb(),S.Wb(),S.Xb(10,"div",15),S.Xb(11,"mat-checkbox",16),S.Oc(12,"Agrupar productos identicos "),S.Wb(),S.Wb(),S.Xb(13,"div",15),S.Xb(14,"mat-checkbox",16),S.Oc(15,"Forzar login al cerrar caja "),S.Wb(),S.Wb(),S.Xb(16,"div",15),S.Xb(17,"mat-checkbox",16),S.Oc(18,"Puede editar Precio Unitario "),S.Wb(),S.Wb(),S.Xb(19,"div",15),S.Xb(20,"mat-checkbox",16),S.Oc(21,"Puede editar Cantidades "),S.Wb(),S.Wb(),S.Xb(22,"div",15),S.Xb(23,"mat-checkbox",16),S.Oc(24,"Permitir cantidades negativas "),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb()),2&e){var a=S.jc();S.Eb(1),S.pc("formGroup",a.itemForm2),S.Eb(5),S.Pc(S.lc(7,9,"Cliente Predeterminado")),S.Eb(2),S.pc("formControl",a.itemForm2.controls.idclientegenerico),S.Eb(1),S.pc("ngForOf",a.listaDeClientes),S.Eb(2),S.pc("formControl",a.itemForm2.controls.bagruparproductosidenticos),S.Eb(3),S.pc("formControl",a.itemForm2.controls.bforzarloginalcerrarcaja),S.Eb(3),S.pc("formControl",a.itemForm2.controls.bpuedeeditarpreciounitario),S.Eb(3),S.pc("formControl",a.itemForm2.controls.bpuedeeditarcantidad),S.Eb(3),S.pc("formControl",a.itemForm2.controls.bpermitecantidadesnegativas)}}function N(e,t){if(1&e){var a=S.Yb();S.Xb(0,"mat-tab",27),S.Xb(1,"form",2),S.Xb(2,"mat-dialog-content",3),S.Xb(3,"div",10),S.Xb(4,"mat-form-field",5),S.Sb(5,"input",28),S.kc(6,"translate"),S.Wb(),S.Wb(),S.Xb(7,"div"),S.Xb(8,"label"),S.Oc(9,"Factura Electr\xf3nica - Archivo .key:"),S.Wb(),S.Xb(10,"div"),S.Xb(11,"input",29),S.fc("change",function(e){return S.Dc(a),S.jc().leerArchivoKey(e)}),S.Wb(),S.Xb(12,"pre",30),S.fc("ngModelChange",function(e){return S.Dc(a),S.jc().itemForm.controls.safipkey.value=e}),S.Oc(13),S.Wb(),S.Wb(),S.Wb(),S.Xb(14,"div"),S.Xb(15,"label"),S.Oc(16,"Factura Electr\xf3nica - Archivo .crt:"),S.Wb(),S.Xb(17,"div",31),S.Xb(18,"input",32),S.fc("change",function(e){return S.Dc(a),S.jc().leerArchivoCrt(e)}),S.Wb(),S.Xb(19,"pre",33),S.fc("ngModelChange",function(e){return S.Dc(a),S.jc().itemForm.controls.safipcrt.value=e}),S.Oc(20),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb()}if(2&e){var o=S.jc();S.Eb(1),S.pc("formGroup",o.itemForm),S.Eb(4),S.qc("placeholder",S.lc(6,7,"POINTOFSALESETTINGSPOPUP.POSCAEANUMBER")),S.pc("formControl",o.itemForm.controls.idpvcaea),S.Eb(7),S.pc("ngModel",o.itemForm.controls.safipkey.value),S.Eb(1),S.Pc(o.itemForm.controls.safipkey.value),S.Eb(6),S.pc("ngModel",o.itemForm.controls.safipcrt.value),S.Eb(1),S.Pc(o.itemForm.controls.safipcrt.value)}}var V,L,M=((V=function(){function t(a,o,i){e(this,t),this.data=a,this.dialogRef=o,this.fb=i,this.tipoFacturacion=[{value:"Sin Impresion",indice:0},{value:"Serial",indice:1},{value:"Fiscal",indice:2},{value:"Factura Electr\xf3nica",indice:3}],this.listaDeSucursales=[],this.listaDeClientes=[]}return a(t,[{key:"ngOnInit",value:function(){this.listaDeSucursales=this.data.sucursales,this.listaDeClientes=this.data.clientes,this.buildItemForm(this.data.payload,this.data.parametros)}},{key:"buildItemForm",value:function(e,t){this.itemForm=this.fb.group({id:[e.id||""],idsucursal:[e.idsucursal||this.listaDeSucursales[0].idsucursal,l.v.required],idpv:[e.idpv||"",l.v.required],idpvcaea:[e.idpvcaea||""],sdescripcion:[e.sdescripcion||"Punto de Venta",l.v.required],sdomicilio:[e.sdomicilio||"Domicilio"],slocalidad:[e.slocalidad||""],sprovincia:[e.sprovincia||""],spais:[e.spais||""],sweathercode:[e.sweathercode||""],bactivo:[!e.hasOwnProperty("bactivo")||"T"==e.bactivo],soperadorcreacion:[e.soperadorcreacion||""],fcreacion:[e.fcreacion||null],soperadormodificacion:[e.soperadormodificacion||""],fmodificacion:[e.fmodificacion||null],insertedon:[e.insertedon||null],updatedon:[e.updatedon||null],deletedon:[e.deletedon||null],itipo:[e.itipo||0,l.v.required],busarpantallaalcliente:[!e.hasOwnProperty("busarpantallaalcliente")||"T"==e.busarpantallaalcliente],busarverificadordeprecios:[!e.hasOwnProperty("busarverificadordeprecios")||"T"==e.busarverificadordeprecios],busarventaypreventaremota:[!e.hasOwnProperty("busarventaypreventaremota")||"T"==e.busarventaypreventaremota],rtopedescuento:[e.rtopedescuento||0,l.v.required],rlatitud:[e.rlatitud||0],rlongitud:[e.rlongitud||0],safipcrt:[e.safipcrt||""],safipkey:[e.safipkey||""],bfeenproduccion:[!e.hasOwnProperty("bfeenproduccion")||"T"==e.bfeenproduccion],hardid:[e.hardid||""],soperadoractivacion:[e.soperadoractivacion||""],factivacion:[e.factivacion||null],snumerodeserie:[e.snumerodeserie||""],rporcotrosimpuestos:[e.rporcotrosimpuestos||0]}),e.id&&(this.itemForm2=this.fb.group({id:[t.id||""],idpv:[t.idpv],smarcafiscal:[t.smarcafiscal],smodelofiscal:[t.smodelofiscal],bagruparproductosidenticos:[1==t.bagruparproductosidenticos],bpuedeeditarpreciounitario:[1==t.bpuedeeditarpreciounitario],bpuedeeditarcantidad:[1==t.bpuedeeditarcantidad],bpermitecantidadesnegativas:[1==t.bpermitecantidadesnegativas],idclientegenerico:[t.idclientegenerico.toString()],sformatofecha:[t.sformatofecha],sversion:[t.sversion],isegundosentresincro:[t.isegundosentresincro],fultimocalculodestock:[t.fultimocalculodestock],bforzarloginalcerrarcaja:[!t.hasOwnProperty("bforzarloginalcerrarcaja")||"T"==t.bforzarloginalcerrarcaja],soperadorcreacion:[t.soperadorcreacion],fcreacion:[t.fcreacion],soperadormodificacion:[t.soperadormodificacion],fmodificacion:[t.fmodificacion],insertedon:[t.insertedon],updatedon:[t.updatedon],deletedon:[t.deletedon]}))}},{key:"leerArchivoKey",value:function(e){var t=this,a=e.target.files[0];if(a){var o=new FileReader;o.onload=function(e){var a=e.target.result;t.itemForm.get("safipkey").setValue(a)},o.readAsText(a)}}},{key:"leerArchivoCrt",value:function(e){var t=this,a=e.target.files[0];if(a){var o=new FileReader;o.onload=function(e){var a=e.target.result;t.itemForm.get("safipcrt").setValue(a)},o.readAsText(a)}}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value.id?[this.itemForm.value,this.itemForm2.value]:[this.itemForm.value,null])}}]),t}()).\u0275fac=function(e){return new(e||V)(S.Rb(d.a),S.Rb(d.g),S.Rb(l.d))},V.\u0275cmp=S.Lb({type:V,selectors:[["app-point-of-sale-settings-popup"]],decls:63,vars:43,consts:[["matDialogTitle",""],["label","Detalles"],[3,"formGroup"],["mat-dialog-content","","fxLayout","row wrap","fxLayout.lt-sm","column",2,"max-width","100%","margin","0px","padding-top","10px"],["fxFlex","50",1,"pr-16",3,"hidden"],[1,"full-width"],["matInput","","name","idpv",3,"formControl","placeholder"],["appearance","fill"],["name","idsucursal",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","50",1,"pr-16"],["matInput","","name","sdescripcion",3,"formControl","placeholder"],["name","itipo",3,"formControl"],["matInput","","name","rtopedescuento",3,"formControl","placeholder"],["name","bactivo",3,"formControl"],["fxFlex","50",1,"mb-16"],[3,"formControl"],["fxFlex","100"],["label","Parametros",4,"ngIf"],["label","Factura Electr\xf3nica",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],[3,"value"],["label","Parametros"],["name","idclientegenerico",3,"formControl"],["label","Factura Electr\xf3nica"],["matInput","","name","idpvcaea",3,"formControl","placeholder"],["type","file","id","file-input-key","accept",".key",3,"change"],["id","contenido-archivo-key",3,"ngModel","ngModelChange"],[1,"col-sm-10"],["type","file","id","file-input-crt","accept",".crt",3,"change"],["id","contenido-archivo-crt",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(S.Xb(0,"h1",0),S.Oc(1),S.Wb(),S.Xb(2,"mat-tab-group"),S.Xb(3,"mat-tab",1),S.Xb(4,"form",2),S.Xb(5,"mat-dialog-content",3),S.Xb(6,"div",4),S.Xb(7,"mat-form-field",5),S.Sb(8,"input",6),S.kc(9,"translate"),S.Wb(),S.Wb(),S.Xb(10,"div",4),S.Xb(11,"mat-form-field",7),S.Xb(12,"mat-label"),S.Oc(13),S.kc(14,"translate"),S.Wb(),S.Xb(15,"mat-select",8),S.Mc(16,x,2,2,"mat-option",9),S.Wb(),S.Wb(),S.Wb(),S.Xb(17,"div",10),S.Xb(18,"mat-form-field",5),S.Sb(19,"input",11),S.kc(20,"translate"),S.Wb(),S.Wb(),S.Xb(21,"div",10),S.Xb(22,"mat-form-field",7),S.Xb(23,"mat-label"),S.Oc(24),S.kc(25,"translate"),S.Wb(),S.Xb(26,"mat-select",12),S.Mc(27,A,2,2,"mat-option",9),S.Wb(),S.Wb(),S.Wb(),S.Xb(28,"div",10),S.Xb(29,"mat-form-field",5),S.Sb(30,"input",13),S.kc(31,"translate"),S.Wb(),S.Wb(),S.Xb(32,"div",10),S.Xb(33,"mat-slide-toggle",14),S.Oc(34),S.kc(35,"translate"),S.Wb(),S.Wb(),S.Xb(36,"div",15),S.Xb(37,"mat-checkbox",16),S.Oc(38,"Usar Pantalla al Cliente "),S.Wb(),S.Wb(),S.Xb(39,"div",15),S.Xb(40,"mat-checkbox",16),S.Oc(41,"Usar Venta y Preventa Remota "),S.Wb(),S.Wb(),S.Xb(42,"div",15),S.Xb(43,"mat-checkbox",16),S.Oc(44,"Usar Verificador de Precios "),S.Wb(),S.Wb(),S.Xb(45,"div",17),S.Xb(46,"i"),S.Oc(47,'* "Usar Pantalla al Cliente", "Usar Venta y Preventa Remota" y "Usar Verificador de Precios" tienen un costo adicional.'),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Wb(),S.Mc(48,j,25,11,"mat-tab",18),S.Mc(49,N,21,9,"mat-tab",19),S.Wb(),S.Xb(50,"mat-dialog-content",3),S.Xb(51,"div",20),S.Xb(52,"button",21),S.fc("click",function(){return t.submit()}),S.Xb(53,"mat-icon"),S.Oc(54,"save"),S.Wb(),S.Oc(55),S.kc(56,"translate"),S.Wb(),S.Sb(57,"span",22),S.Xb(58,"button",23),S.fc("click",function(){return t.dialogRef.close(!1)}),S.Xb(59,"mat-icon"),S.Oc(60,"cancel"),S.Wb(),S.Oc(61),S.kc(62,"translate"),S.Wb(),S.Wb(),S.Wb()),2&e&&(S.Eb(1),S.Rc("",t.data.title," ",t.data.payload.idpv,""),S.Eb(3),S.pc("formGroup",t.itemForm),S.Eb(2),S.pc("hidden",t.itemForm.value.id),S.Eb(2),S.qc("placeholder",S.lc(9,27,"*Numero de PV")),S.pc("formControl",t.itemForm.controls.idpv),S.Eb(2),S.pc("hidden",t.itemForm.value.id),S.Eb(3),S.Pc(S.lc(14,29,"*Sucursal")),S.Eb(2),S.pc("formControl",t.itemForm.controls.idsucursal),S.Eb(1),S.pc("ngForOf",t.listaDeSucursales),S.Eb(3),S.rc("placeholder","*",S.lc(20,31,"POINTOFSALESETTINGSPOPUP.DESCRIPTION"),""),S.pc("formControl",t.itemForm.controls.sdescripcion),S.Eb(5),S.Qc("*",S.lc(25,33,"Tipo de Facturaci\xf3n"),""),S.Eb(2),S.pc("formControl",t.itemForm.controls.itipo),S.Eb(1),S.pc("ngForOf",t.tipoFacturacion),S.Eb(3),S.rc("placeholder","*",S.lc(31,35,"Tope de Descuento"),""),S.pc("formControl",t.itemForm.controls.rtopedescuento),S.Eb(3),S.pc("formControl",t.itemForm.controls.bactivo),S.Eb(1),S.Qc(" ",S.lc(35,37,"POINTOFSALESETTINGSPOPUP.ACTIVE"),""),S.Eb(3),S.pc("formControl",t.itemForm.controls.busarpantallaalcliente),S.Eb(3),S.pc("formControl",t.itemForm.controls.busarventaypreventaremota),S.Eb(3),S.pc("formControl",t.itemForm.controls.busarverificadordeprecios),S.Eb(5),S.pc("ngIf",t.itemForm.value.id),S.Eb(1),S.pc("ngIf",3==t.itemForm.controls.itipo.value),S.Eb(3),S.pc("disabled",t.itemForm.invalid),S.Eb(3),S.Qc("",S.lc(56,39,"POINTOFSALESETTINGSPOPUP.SAVE")," "),S.Eb(6),S.Qc("",S.lc(62,41,"POINTOFSALESETTINGSPOPUP.CANCEL")," "))},directives:[d.h,g.b,g.a,l.w,l.p,l.i,d.e,I.c,I.a,w.c,f.b,l.c,l.o,l.f,w.f,m.a,r.n,v.a,D.a,r.o,s.b,p.a,R.n,l.r],pipes:[P.c],styles:[""],data:{animation:[F.a]}}),V),G=i("AytR"),z=i("IheW"),q=((L=function(){function t(a){e(this,t),this.http=a}return a(t,[{key:"obtenerDatos",value:function(e,t,a,o){return this.http.get(encodeURI("".concat(G.a.apiURL,'PuntosVenta?filter={"where":').concat(e,',"limit":').concat(t,',"skip":').concat(a,',"order":"').concat(o,'"}')))}},{key:"obtenerCount",value:function(e){return this.http.get(encodeURI("".concat(G.a.apiURL,"PuntosVenta/count?where=").concat(e)))}},{key:"actualizarPuntoDeVenta",value:function(e){return this.http.put("".concat(G.a.apiURL,"PuntosVenta/").concat(e.id),e)}},{key:"actualizarParametros",value:function(e){return this.http.put("".concat(G.a.apiURL,"Parametros/").concat(e.id),e)}},{key:"agregarPuntoDeVenta",value:function(e){return this.http.post(G.a.apiURL+"PuntosVenta",e)}},{key:"obtenerSucursales",value:function(){return this.http.get(encodeURI(G.a.apiURL+"Sucursales?"))}},{key:"obtenerParametros",value:function(){return this.http.get(encodeURI(G.a.apiURL+"Parametros?"))}},{key:"obtenerClientes",value:function(){return this.http.get(encodeURI(G.a.apiURL+'Clientes?filter={"where":{"deletedon":{"eq":null}},"order":"srazonsocial ASC"}'))}}]),t}()).\u0275fac=function(e){return new(e||L)(S.bc(z.c))},L.\u0275prov=S.Nb({token:L,factory:L.\u0275fac,providedIn:"root"}),L);function Q(e,t){if(1&e){var a=S.Yb();S.Xb(0,"button",12),S.fc("click",function(e){S.Dc(a);var t=S.jc(),o=S.Ac(10);return t.updateFilter(e)&&(o.value="")}),S.Xb(1,"mat-icon"),S.Oc(2,"close"),S.Wb(),S.Wb()}}function H(e,t){if(1&e&&S.Oc(0),2&e){var a=t.row;S.Qc(" ",null==a?null:a.sdescripcion," ")}}function J(e,t){if(1&e){var a=S.Yb();S.Xb(0,"button",13),S.fc("click",function(){S.Dc(a);var e=t.row;return S.jc().openPopUp(e)}),S.Xb(1,"mat-icon"),S.Oc(2,"edit"),S.Wb(),S.Wb(),S.Xb(3,"button",13),S.fc("click",function(){S.Dc(a);var e=t.row;return S.jc().openUserInfoPopUp(e)}),S.Xb(4,"mat-icon"),S.Oc(5,"person_pin"),S.Wb(),S.Wb()}}var K,Y,Z=function(){return{y:"50px",delay:"300ms"}},$=function(e){return{value:"*",params:e}},B=[{path:"",component:(K=function(){function t(a,o,i,r,c,n){e(this,t),this.servicioPuntoDeVenta=a,this.dialog=o,this.snack=i,this.confirmService=r,this.loader=c,this.servicioUUID=n,this.timeOutDuration=800,this.rows=[],this.order="sdescripcion ASC",this.search="",this.page={count:0,offset:0,limit:10}}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.prepararFiltro(),this.refresh(),this.servicioPuntoDeVenta.obtenerSucursales().subscribe(function(t){e.sucursales=t}),this.servicioPuntoDeVenta.obtenerClientes().subscribe(function(t){e.clientes=t})}},{key:"prepararFiltro",value:function(){var e=this;if(this.search){this.filter='{"and":[';var t=this.search.split(" ");t.length>0&&(t.forEach(function(t,a){t.length>1&&(e.filter+='{"or":[{"sdescripcion":{"ilike":"%'.concat(t,'%"}}]}'),a<e.search.length-1&&(e.filter+=","))}),this.filter+='{"deletedon":{"eq":null}}]}')}else this.filter='{"deletedon":{"eq":null}}'}},{key:"refresh",value:function(){var e=this;this.prepararFiltro(),Object(T.a)([this.servicioPuntoDeVenta.obtenerCount(this.filter),this.servicioPuntoDeVenta.obtenerDatos(this.filter,this.page.limit,this.page.offset*this.page.limit,this.order),this.servicioPuntoDeVenta.obtenerParametros()]).subscribe(function(t){e.page.count=t[0].count,e.rows=t[1],e.parametros=t[2]},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}},{key:"pageCallback",value:function(e){this.page.offset=e.offset,this.refresh()}},{key:"updateFilter",value:function(e){var t=this;return this.search=e instanceof MouseEvent?"":e.target.value,clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){t.refresh()},this.timeOutDuration),!0}},{key:"onSort",value:function(e){var t=e.sorts[0];this.order="".concat(t.prop," ").concat(t.dir.toUpperCase()),this.refresh()}},{key:"openPopUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.dialog.open(M,{width:"720px",disableClose:!0,data:{title:a?"AGREGAR PUNTO DE VENTA":"ACTUALIZAR PUNTO DE VENTA",payload:t,sucursales:this.sucursales,parametros:this.parametros.find(function(e){return e.idpv==t.idpv}),clientes:this.clientes}}).afterClosed().subscribe(function(t){if(t){e.loader.open();var o={};if(Object.assign(o,t[0]),o.bactivo=t[0].bactivo?"T":"F",o.busarpantallaalcliente=t[0].busarpantallaalcliente?"T":"F",o.busarverificadordeprecios=t[0].busarverificadordeprecios?"T":"F",o.busarventaypreventaremota=t[0].busarventaypreventaremota?"T":"F",o.bfeenproduccion=t[0].bfeenproduccion?"T":"F",a)o.id=e.servicioUUID.generateUUID(),e.servicioPuntoDeVenta.agregarPuntoDeVenta(o).subscribe(function(t){e.refresh(),e.loader.close(),e.snack.open("\xa1Punto de Venta Agregado!","OK",{duration:4e3})},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})});else{var i={};Object.assign(i,t[1]),i.bagruparproductosidenticos=t[1].bagruparproductosidenticos?1:0,i.bpuedeeditarpreciounitario=t[1].bpuedeeditarpreciounitario?1:0,i.bpuedeeditarcantidad=t[1].bpuedeeditarcantidad?1:0,i.bpermitecantidadesnegativas=t[1].bpermitecantidadesnegativas?1:0,i.bforzarloginalcerrarcaja=t[1].bforzarloginalcerrarcaja?"T":"F",Object(T.a)([e.servicioPuntoDeVenta.actualizarPuntoDeVenta(o),e.servicioPuntoDeVenta.actualizarParametros(i)]).subscribe(function(t){e.refresh(),e.loader.close(),e.snack.open("\xa1Punto de Venta Actualizado!","OK",{duration:4e3})},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}}})}},{key:"openUserInfoPopUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(C.a,{width:"720px",disableClose:!0,data:{title:"INFORMACION DE MODIFICACION",payload:e}})}}]),t}(),K.\u0275fac=function(e){return new(e||K)(S.Rb(q),S.Rb(d.b),S.Rb(h.a),S.Rb(W.a),S.Rb(k.a),S.Rb(X.a))},K.\u0275cmp=S.Lb({type:K,selectors:[["app-point-of-sale-settings"]],decls:22,vars:30,consts:[[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-8",3,"click"],[1,"margin-333",2,"width","100%"],["matPrefix",""],["matInput","","value","",3,"placeholder","keyup"],["searchinput",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","externalPaging","selectionType","page","sort"],["prop","sdescripcion",3,"name","flexGrow"],["ngx-datatable-cell-template",""],[3,"name","flexGrow"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"]],template:function(e,t){if(1&e&&(S.Xb(0,"div",0),S.Xb(1,"button",1),S.fc("click",function(){return t.openPopUp({},!0)}),S.Xb(2,"mat-icon"),S.Oc(3,"library_add"),S.Wb(),S.Oc(4),S.kc(5,"translate"),S.Wb(),S.Wb(),S.Xb(6,"mat-form-field",2),S.Xb(7,"mat-icon",3),S.Oc(8,"search"),S.Wb(),S.Xb(9,"input",4,5),S.fc("keyup",function(e){return t.updateFilter(e)}),S.kc(11,"translate"),S.Wb(),S.Mc(12,Q,3,0,"button",6),S.Wb(),S.Xb(13,"mat-card",7),S.Xb(14,"mat-card-content",7),S.Xb(15,"ngx-datatable",8),S.fc("page",function(e){return t.pageCallback(e)})("sort",function(e){return t.onSort(e)}),S.Xb(16,"ngx-datatable-column",9),S.kc(17,"translate"),S.Mc(18,H,1,1,"ng-template",10),S.Wb(),S.Xb(19,"ngx-datatable-column",11),S.kc(20,"translate"),S.Mc(21,J,6,0,"ng-template",10),S.Wb(),S.Wb(),S.Wb(),S.Wb()),2&e){var a=S.Ac(10);S.Eb(4),S.Qc("",S.lc(5,19,"POINTOFSALESETTINGS.ADDPOINTOFSALE")," "),S.Eb(5),S.qc("placeholder",S.lc(11,21,"POINTOFSALESETTINGS.FILTER")),S.Eb(3),S.pc("ngIf",a.value),S.Eb(1),S.pc("@animate",S.vc(28,$,S.uc(27,Z))),S.Eb(2),S.pc("rows",t.rows)("columnMode","flex")("headerHeight",50)("footerHeight",50)("scrollbarH",!1)("rowHeight",50)("count",t.page.count)("offset",t.page.offset)("limit",t.page.limit)("externalPaging",!0)("selectionType","single"),S.Eb(1),S.qc("name",S.lc(17,23,"POINTOFSALESETTINGS.POINTOFSALE")),S.pc("flexGrow",1),S.Eb(3),S.qc("name",S.lc(20,25,"POINTOFSALESETTINGS.ACTIONS")),S.pc("flexGrow",1)}},directives:[s.b,p.a,w.c,w.g,f.b,r.o,u.a,u.b,E.d,E.b,E.a,w.h],pipes:[P.c],styles:[""],data:{animation:[F.a]}}),K),data:{title:"PUNTO DE VENTA"}}],_=i("TN/R"),ee=i("40+f"),te=i("SqCe"),ae=i("rJgo"),oe=i("BTe0"),ie=i("zQhy"),re=i("aYsj"),ce=i("hrfs"),ne=i("pYyI"),le=((Y=function t(){e(this,t)}).\u0275mod=S.Pb({type:Y}),Y.\u0275inj=S.Ob({factory:function(e){return new(e||Y)},imports:[[r.c,l.t,n.a,E.f,f.c,f.c,u.c,f.c,s.c,b.a,f.c,O.b,d.f,h.b,v.b,g.c,m.b,p.b,P.b,y.a,_.g,l.j,te.b,ae.c,ee.b,D.b,ie.c,oe.b,ce.a,ne.a,re.a,c.k.forChild(B)]]}),Y)}}])}();