!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function e(t,e,c){return e&&a(t.prototype,e),c&&a(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{GmJt:function(t,a,e){"use strict";e.d(a,"a",function(){return o});var c=e("GS7A"),n=Object(c.g)([Object(c.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(c.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(c.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),o=[Object(c.n)("animate",[Object(c.m)("void => *",[Object(c.o)(n)])]),Object(c.n)("fadeInOut",[Object(c.k)("0",Object(c.l)({opacity:0,display:"none"})),Object(c.k)("1",Object(c.l)({opacity:1,display:"block"})),Object(c.m)("0 => 1",Object(c.e)("300ms")),Object(c.m)("1 => 0",Object(c.e)("300ms"))])]},vkD5:function(a,c,n){"use strict";n.r(c),n.d(c,"RegistryModule",function(){return nt});var o=n("GmJt"),i=n("3kSh"),r=n("3sEA"),l=n("iELJ"),b=n("8Y7J"),u=n("PDjf"),s=n("SVse"),p=n("VDRc"),m=n("Dxy4"),d=n("Tj54"),f=n("TSSN");function h(t,a){if(1&t&&(b.Xb(0,"div"),b.Oc(1),b.kc(2,"number"),b.Wb()),2&t){var e=b.jc(2);b.Eb(1),b.Qc("Temperatura Actual: ",b.lc(2,1,e.data.payload.rtemperaturaactual),"\xb0c ")}}function g(t,a){if(1&t&&(b.Xb(0,"div"),b.Oc(1),b.kc(2,"number"),b.Wb()),2&t){var e=b.jc(2);b.Eb(1),b.Qc("Temperatura Promedio: ",b.lc(2,1,e.data.payload.rtemperaturapromedio),"\xb0c")}}function O(t,a){if(1&t&&(b.Xb(0,"div"),b.Xb(1,"h5"),b.Xb(2,"b"),b.Oc(3),b.Wb(),b.Wb(),b.Mc(4,h,3,3,"div",2),b.Mc(5,g,3,3,"div",2),b.Sb(6,"br"),b.Wb()),2&t){var e=b.jc();b.Eb(3),b.Qc("","Temperatura",":"),b.Eb(1),b.pc("ngIf",e.data.payload.rtemperaturaactual),b.Eb(1),b.pc("ngIf",e.data.payload.rtemperaturapromedio)}}var v,E,y=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}},w=((v=function(){function a(e,c){t(this,a),this.data=e,this.dialogRef=c}return e(a,[{key:"ngOnInit",value:function(){}}]),a}()).\u0275fac=function(t){return new(t||v)(b.Rb(l.a),b.Rb(l.g))},v.\u0275cmp=b.Lb({type:v,selectors:[["app-registry-popup"]],decls:59,vars:49,consts:[["matDialogTitle","",1,"popup-title"],[2,"font-size","small"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,a){1&t&&(b.Xb(0,"h1",0),b.Xb(1,"span"),b.Oc(2),b.Wb(),b.Xb(3,"span",1),b.Oc(4),b.kc(5,"date"),b.Wb(),b.Wb(),b.Xb(6,"mat-dialog-content"),b.Xb(7,"mat-card"),b.Xb(8,"mat-card-content"),b.Xb(9,"h5"),b.Xb(10,"b"),b.Oc(11),b.Wb(),b.Oc(12),b.Wb(),b.Sb(13,"br"),b.Mc(14,O,7,3,"div",2),b.Xb(15,"div"),b.Xb(16,"h5"),b.Xb(17,"b"),b.Oc(18),b.Wb(),b.Wb(),b.Xb(19,"div"),b.Oc(20),b.kc(21,"number"),b.kc(22,"number"),b.Wb(),b.Xb(23,"div"),b.Oc(24),b.kc(25,"number"),b.kc(26,"number"),b.Wb(),b.Sb(27,"br"),b.Wb(),b.Xb(28,"div"),b.Xb(29,"h5"),b.Xb(30,"b"),b.Oc(31),b.Wb(),b.Wb(),b.Xb(32,"div"),b.Oc(33),b.kc(34,"number"),b.Wb(),b.Xb(35,"div"),b.Oc(36),b.kc(37,"number"),b.Wb(),b.Sb(38,"br"),b.Wb(),b.Xb(39,"div"),b.Xb(40,"h5"),b.Xb(41,"b"),b.Oc(42),b.Wb(),b.Wb(),b.Xb(43,"div"),b.Oc(44),b.kc(45,"number"),b.kc(46,"number"),b.Wb(),b.Xb(47,"div"),b.Oc(48),b.kc(49,"number"),b.kc(50,"number"),b.Wb(),b.Sb(51,"br"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(52,"mat-dialog-content",3),b.Xb(53,"div",4),b.Xb(54,"button",5),b.fc("click",function(){return a.dialogRef.close(!1)}),b.Xb(55,"mat-icon"),b.Oc(56,"cancel"),b.Wb(),b.Oc(57),b.kc(58,"translate"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(2),b.Rc("",a.data.puntoDeVenta," (",a.data.payload.shostname,")"),b.Eb(2),b.Pc(b.mc(5,21,a.data.payload.fcreacion,"dd/MM/yyyy HH:mm:ss")),b.Eb(3),b.pc("@animate",b.vc(47,k,b.uc(46,y))),b.Eb(4),b.Qc("","Sistema Operativo",":"),b.Eb(1),b.Qc(" ",a.data.payload.ssistemaoperativo,""),b.Eb(2),b.pc("ngIf",a.data.payload.rtemperaturaactual||a.data.payload.rtemperaturapromedio),b.Eb(4),b.Qc("","Memoria",":"),b.Eb(2),b.Rc("Memoria Libre: ",b.lc(21,24,a.data.payload.imemorialibre/1e6)," GB (",b.lc(22,26,a.data.payload.imemorialibre)," KB)"),b.Eb(4),b.Rc("Memoria Total: ",b.lc(25,28,a.data.payload.imemoriatotal/1e6)," GB (",b.lc(26,30,a.data.payload.imemoriatotal)," KB)"),b.Eb(7),b.Qc("","Procesador",":"),b.Eb(2),b.Qc("Carga Actual: ",b.lc(34,32,a.data.payload.rcpuloadactual),"%"),b.Eb(3),b.Qc("Carga Promedio: ",b.lc(37,34,a.data.payload.rcpuloadpromedio),"%"),b.Eb(6),b.Qc("","Almacenamiento",":"),b.Eb(2),b.Rc("Almacenamiento Libre: ",b.lc(45,36,a.data.payload.ialmacenamientolibre/1e6)," GB (",b.lc(46,38,a.data.payload.ialmacenamientolibre)," KB)"),b.Eb(4),b.Rc("Almacenamiento Total: ",b.lc(49,40,a.data.payload.ialmacenamientototal/1e6)," GB (",b.lc(50,42,a.data.payload.ialmacenamientototal)," KB)"),b.Eb(9),b.Qc("",b.lc(58,44,"Cancelar")," "))},directives:[l.h,l.e,u.a,u.b,s.o,p.c,p.b,p.a,m.b,d.a],pipes:[s.f,s.g,f.c],styles:[".popup-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),v),R=n("AytR"),W=n("IheW"),X=((E=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerDatos",value:function(t,a,e,c){return this.http.get(encodeURI("".concat(R.a.apiURL,'Registro?filter={"where":').concat(t,',"limit":').concat(a,',"skip":').concat(e,',"order":"').concat(c,'"}')))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(R.a.apiURL,"Registro/count?where=").concat(t)))}},{key:"obtenerPV",value:function(){return this.http.get(R.a.apiURL+"PuntosVenta")}}]),a}()).\u0275fac=function(t){return new(t||E)(b.bc(W.c))},E.\u0275prov=b.Nb({token:E,factory:E.\u0275fac,providedIn:"root"}),E),T=n("zHaW"),M=n("Q2Ze"),P=n("e6WT"),S=n("w9WL");function N(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.sinstancia," ")}}function C(t,a){if(1&t&&(b.Oc(0),b.kc(1,"date")),2&t){var e=a.row;b.Qc(" ",b.mc(1,1,null==e?null:e.fcreacion,"dd/MM/yyyy HH:mm:ss")," ")}}function I(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.message," ")}}function x(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.soperadorcreacion," ")}}function j(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.shostname," ")}}function G(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.sversion," ")}}function A(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.idpv," ")}}function Q(t,a){if(1&t&&b.Oc(0),2&t){var e=a.row;b.Qc(" ",null==e?null:e.ssistemaoperativo," ")}}function q(t,a){if(1&t&&(b.Oc(0),b.kc(1,"date")),2&t){var e=a.row;b.Qc(" ",b.mc(1,1,null==e?null:e.finicioapp,"dd/MM/yyyy HH:mm:ss")," ")}}function D(t,a){if(1&t&&(b.Oc(0),b.kc(1,"number")),2&t){var e=a.row;b.Qc(" ",b.mc(1,1,null==e?null:e.rtemperaturaactual,"1.00-0")," ")}}function H(t,a){if(1&t&&(b.Oc(0),b.kc(1,"number")),2&t){var e=a.row;b.Qc(" ",b.mc(1,1,null==e?null:e.rtemperaturapromedio,"1.00-0")," ")}}function L(t,a){if(1&t&&(b.Oc(0),b.kc(1,"number")),2&t){var e=a.row;b.Qc(" ",b.mc(1,1,null==e?null:e.rcpuloadpromedio,"1.00-0")," ")}}function Y(t,a){if(1&t){var e=b.Yb();b.Xb(0,"button",19),b.fc("click",function(){b.Dc(e);var t=a.row;return b.jc().openPopUp(t)}),b.Xb(1,"mat-icon"),b.Oc(2,"info"),b.Wb(),b.Wb()}}var V,U,F=function(){return{y:"50px",delay:"300ms"}},B=function(t){return{value:"*",params:t}},J=[{path:"",component:(V=function(){function a(e,c,n,o,i){t(this,a),this.servicioRegistro=e,this.snack=c,this.loader=n,this.dialog=o,this.confirmService=i,this.timeOutDuration=800,this.rows=[],this.order="fcreacion DESC",this.search="",this.page={count:0,offset:0,limit:10}}return e(a,[{key:"ngOnInit",value:function(){var t=this;this.refresh(),this.servicioRegistro.obtenerPV().subscribe(function(a){t.puntosDeVenta=a,console.log(a)})}},{key:"prepararFiltro",value:function(){var t=this;if(this.search){this.filter='{"and":[';var a=this.search.split(" ");a.length>0&&(a.forEach(function(a,e){a.length>1&&(t.filter+='{"or":[{"sinstancia":{"ilike":"%'.concat(a,'%"}},{"message":{"ilike":"%').concat(a,'%"}},{"shostname":{"ilike":"%').concat(a,'%"}}]}'),e<t.search.length-1&&(t.filter+=","))}),this.filter+='{"deletedon":{"eq":null}}]}')}else this.filter="{}"}},{key:"refresh",value:function(){var t=this;this.prepararFiltro(),this.servicioRegistro.obtenerDatos(this.filter,this.page.limit,this.page.offset*this.page.limit,this.order).subscribe(function(a){t.page.count=50,t.rows=a,console.log(a)},function(a){t.loader.close(),t.snack.open("ERROR","OK",{duration:4e3})})}},{key:"pageCallback",value:function(t){this.page.offset=t.offset,this.refresh()}},{key:"updateFilter",value:function(t){var a=this;this.search=t.target.value,clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){a.refresh()},this.timeOutDuration)}},{key:"onSort",value:function(t){var a=t.sorts[0];this.order="".concat(a.prop," ").concat(a.dir.toUpperCase()),this.refresh()}},{key:"openPopUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(w,{width:"720px",disableClose:!0,data:{title:"INFORMACION",payload:t,puntoDeVenta:this.puntosDeVenta.find(function(a){return a.idpv=t.idpv}).sdescripcion}}).afterClosed()}}]),a}(),V.\u0275fac=function(t){return new(t||V)(b.Rb(X),b.Rb(T.a),b.Rb(r.a),b.Rb(l.b),b.Rb(i.a))},V.\u0275cmp=b.Lb({type:V,selectors:[["app-registry"]],decls:47,vars:71,consts:[[1,"margin-333",2,"width","100%"],["matPrefix",""],["matInput","","value","",3,"placeholder","keyup"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","externalPaging","selectionType","page","sort"],["prop","sinstancia",3,"name","width"],["ngx-datatable-cell-template",""],["prop","fcreacion",3,"name","width"],["prop","message",3,"name","width"],["prop","soperadorcreacion",3,"name","width"],["prop","hostname",3,"name","width"],["prop","sversion",3,"name","width"],["prop","idpv",3,"name","width"],["prop","ssistemaoperativo",3,"name","width"],["prop","finicioapp",3,"name","width"],["prop","rtemperaturaactual",3,"name","width"],["prop","rtemperaturapromedio",3,"name","width"],["prop","rcpuloadpromedio",3,"name","width"],[3,"name","flexGrow","sortable"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"]],template:function(t,a){1&t&&(b.Xb(0,"mat-form-field",0),b.Xb(1,"mat-icon",1),b.Oc(2,"search"),b.Wb(),b.Xb(3,"input",2),b.fc("keyup",function(t){return a.updateFilter(t)}),b.kc(4,"translate"),b.Wb(),b.Wb(),b.Xb(5,"mat-card",3),b.Xb(6,"mat-card-content",3),b.Xb(7,"ngx-datatable",4),b.fc("page",function(t){return a.pageCallback(t)})("sort",function(t){return a.onSort(t)}),b.Xb(8,"ngx-datatable-column",5),b.kc(9,"translate"),b.Mc(10,N,1,1,"ng-template",6),b.Wb(),b.Xb(11,"ngx-datatable-column",7),b.kc(12,"translate"),b.Mc(13,C,2,4,"ng-template",6),b.Wb(),b.Xb(14,"ngx-datatable-column",8),b.kc(15,"translate"),b.Mc(16,I,1,1,"ng-template",6),b.Wb(),b.Xb(17,"ngx-datatable-column",9),b.kc(18,"translate"),b.Mc(19,x,1,1,"ng-template",6),b.Wb(),b.Xb(20,"ngx-datatable-column",10),b.kc(21,"translate"),b.Mc(22,j,1,1,"ng-template",6),b.Wb(),b.Xb(23,"ngx-datatable-column",11),b.kc(24,"translate"),b.Mc(25,G,1,1,"ng-template",6),b.Wb(),b.Xb(26,"ngx-datatable-column",12),b.kc(27,"translate"),b.Mc(28,A,1,1,"ng-template",6),b.Wb(),b.Xb(29,"ngx-datatable-column",13),b.kc(30,"translate"),b.Mc(31,Q,1,1,"ng-template",6),b.Wb(),b.Xb(32,"ngx-datatable-column",14),b.kc(33,"translate"),b.Mc(34,q,2,4,"ng-template",6),b.Wb(),b.Xb(35,"ngx-datatable-column",15),b.kc(36,"translate"),b.Mc(37,D,2,4,"ng-template",6),b.Wb(),b.Xb(38,"ngx-datatable-column",16),b.kc(39,"translate"),b.Mc(40,H,2,4,"ng-template",6),b.Wb(),b.Xb(41,"ngx-datatable-column",17),b.kc(42,"translate"),b.Mc(43,L,2,4,"ng-template",6),b.Wb(),b.Xb(44,"ngx-datatable-column",18),b.kc(45,"translate"),b.Mc(46,Y,3,0,"ng-template",6),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Eb(3),b.qc("placeholder",b.lc(4,40,"REGISTRYCOMPONENT.FILTER")),b.Eb(2),b.pc("@animate",b.vc(69,B,b.uc(68,F))),b.Eb(2),b.pc("rows",a.rows)("columnMode","standard")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit)("externalPaging",!0)("selectionType","single"),b.Eb(1),b.qc("name",b.lc(9,42,"REGISTRYCOMPONENT.INSTANCE")),b.pc("width",200),b.Eb(3),b.qc("name",b.lc(12,44,"REGISTRYCOMPONENT.DATE")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(15,46,"REGISTRYCOMPONENT.MESSAGE")),b.pc("width",300),b.Eb(3),b.qc("name",b.lc(18,48,"REGISTRYCOMPONENT.OPERATOR")),b.pc("width",200),b.Eb(3),b.qc("name",b.lc(21,50,"REGISTRYCOMPONENT.PCNAME")),b.pc("width",200),b.Eb(3),b.qc("name",b.lc(24,52,"REGISTRYCOMPONENT.VERSION")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(27,54,"REGISTRYCOMPONENT.POS")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(30,56,"REGISTRYCOMPONENT.OS")),b.pc("width",300),b.Eb(3),b.qc("name",b.lc(33,58,"REGISTRYCOMPONENT.APPSTART")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(36,60,"REGISTRYCOMPONENT.CPUTEMP")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(39,62,"REGISTRYCOMPONENT.CPUAVERAGETEMP")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(42,64,"REGISTRYCOMPONENT.CPUAVERAGELOAD")),b.pc("width",150),b.Eb(3),b.qc("name",b.lc(45,66,"SALES.ACTIONS")),b.pc("flexGrow",1)("sortable",!1))},directives:[M.c,d.a,M.g,P.b,u.a,u.b,S.d,S.b,S.a,m.b],pipes:[f.c,s.f,s.g],styles:[""],data:{animation:[o.a]}}),V),data:{title:"REGISTRO"}}],z=n("iInd"),K=n("s7LF"),Z=n("f44v"),_=n("SqCe"),$=n("rJgo"),tt=n("jMqV"),at=n("ZFy/"),et=n("u9T3"),ct=n("PCNd"),nt=((U=function a(){t(this,a)}).\u0275mod=b.Pb({type:U}),U.\u0275inj=b.Ob({factory:function(t){return new(t||U)},providers:[X],imports:[[s.c,K.s,et.a,S.f,P.c,d.b,u.c,$.c,m.c,Z.a,_.b,at.b,l.f,T.b,tt.b,f.b,ct.a,z.k.forChild(J)]]}),U)}}])}();