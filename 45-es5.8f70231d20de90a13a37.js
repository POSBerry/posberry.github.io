!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function a(t,a,c){return a&&e(t.prototype,a),c&&e(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{qc6t:function(e,c,n){"use strict";n.r(c),n.d(c,"CashReportMovementModule",function(){return vt});var l,o,r=n("SVse"),i=n("s7LF"),s=n("GmJt"),u=n("3sEA"),b=n("bPAe"),p=n("CHRX"),d=n("UVsP"),f=n("Ap+n"),m=n("AytR"),g=n("8Y7J"),h=n("IheW"),v=((l=function(){function e(a){t(this,e),this.http=a}return a(e,[{key:"obtenerDatosTabla1",value:function(t,e,a){return this.http.get("".concat(m.a.apiURL,'Cajas?filter={"where":{"and":%20[{"and":%20[{"fcierre":%20{"gt":"').concat(t,'"}},%20{"fcierre":%20{"lt":"').concat(e,'"}}]},{"idpv":{"inq":%20[').concat(a,']}},{"deletedon":{"eq":null}}]}}'))}}]),e}()).\u0275fac=function(t){return new(t||l)(g.bc(h.c))},l.\u0275prov=g.Nb({token:l,factory:l.\u0275fac,providedIn:"root"}),l),w=n("PDjf"),C=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}},E=((o=function(){function e(){t(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=g.Lb({type:o,selectors:[["app-cash-report-popup"]],decls:2,vars:4,consts:[[1,"p-0"]],template:function(t,e){1&t&&(g.Xb(0,"mat-card",0),g.Sb(1,"mat-card-content",0),g.Wb()),2&t&&g.pc("@animate",g.vc(2,k,g.uc(1,C)))},directives:[w.a,w.b],styles:[""]}),o),y=n("iELJ"),x=n("zHaW"),M=n("VDRc"),O=n("Q2Ze"),S=n("e6WT"),W=n("n1FK"),D=n("TN/R"),X=n("ZTz/"),T=n("Dxy4"),A=n("Tj54"),j=n("w9WL"),I=n("UhP/"),R=n("TSSN");function q(t,e){if(1&t&&(g.Xb(0,"mat-option",18),g.Oc(1),g.Wb()),2&t){var a=e.$implicit;g.pc("value",a),g.Eb(1),g.Pc(null==a?null:a.nombre)}}function H(t,e){if(1&t&&g.Oc(0),2&t){var a=e.row;g.Qc(" ",null==a?null:a.idpv," ")}}function P(t,e){if(1&t&&(g.Oc(0),g.kc(1,"date")),2&t){var a=e.row;g.Qc(" ",g.mc(1,1,null==a?null:a.finicio,"dd/MM/yyyy HH:mm:ss")," ")}}function L(t,e){if(1&t&&(g.Oc(0),g.kc(1,"date")),2&t){var a=e.row;g.Qc(" ",g.mc(1,1,null==a?null:a.fcierre,"dd/MM/yyyy HH:mm:ss")," ")}}function Q(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rsaldoinicial)," ")}}function F(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtotefectivo)," ")}}function V(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtottarjetas)," ")}}function N(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtotacredito)," ")}}function U(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtotmovcaja)," ")}}function G(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtotmercadopago)," ")}}function J(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtotcheques)," ")}}function _(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rtottransferencias)," ")}}function Y(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rajustecaja)," ")}}function B(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rdiferencia),"\n")}}function K(t,e){if(1&t&&(g.Oc(0),g.kc(1,"currency")),2&t){var a=e.row;g.Qc(" ",g.lc(1,1,null==a?null:a.rsaldofinal),"\n")}}function Z(t,e){if(1&t&&g.Oc(0),2&t){var a=e.row;g.Qc(" ",null==a?null:a.soperadorapertura,"\n")}}function z(t,e){if(1&t&&g.Oc(0),2&t){var a=e.row;g.Qc(" ",null==a?null:a.soperadorcierre,"\n")}}function $(t,e){if(1&t){var a=g.Yb();g.Xb(0,"button",20),g.fc("click",function(){g.Dc(a);var t=g.jc().row;return g.jc().openPopUp(t)}),g.Xb(1,"mat-icon"),g.Oc(2,"info"),g.Wb(),g.Wb()}}function tt(t,e){if(1&t){var a=g.Yb();g.Xb(0,"button",20),g.fc("click",function(){g.Dc(a);var t=g.jc().row;return g.jc().openUserInfoPopUp(t)}),g.Xb(1,"mat-icon"),g.Oc(2,"person_pin"),g.Wb(),g.Wb()}}function et(t,e){if(1&t&&(g.Mc(0,$,3,0,"button",19),g.Mc(1,tt,3,0,"button",19)),2&t){var a=e.row;g.pc("ngIf",!a.isGroup),g.Eb(1),g.pc("ngIf",!a.isGroup)}}function at(t,e){if(1&t){var a=g.Yb();g.Xb(0,"button",11),g.fc("click",function(){return g.Dc(a),g.jc(3).export()}),g.Xb(1,"mat-icon"),g.Oc(2,"save_alt"),g.Wb(),g.Oc(3),g.kc(4,"translate"),g.Wb()}2&t&&(g.Eb(3),g.Pc(g.lc(4,1,"SALES.EXCEL")))}function ct(t,e){if(1&t&&(g.Xb(0,"div",22),g.Sb(1,"hr",23),g.Xb(2,"div"),g.Oc(3),g.kc(4,"translate"),g.Wb(),g.Wb(),g.Xb(5,"div",24),g.Mc(6,at,5,3,"button",25),g.Wb()),2&t){var a=g.jc(2);g.Eb(3),g.Rc("",g.lc(4,3,"Articulos Totales"),":",a.tabla1.footer.count," "),g.Eb(3),g.pc("ngIf",a.tabla1.data.length>0)}}function nt(t,e){1&t&&(g.Xb(0,"ngx-datatable-footer"),g.Mc(1,ct,7,5,"ng-template",21),g.Wb())}var lt,ot,rt=function(){return{y:"50px",delay:"300ms"}},it=function(t){return{value:"*",params:t}},st=[{path:"",component:(lt=function(){function e(a,c,n,l,o,r){t(this,e),this.dialog=a,this.servicioCaja=c,this.servicioExportarExcel=n,this.servicioSucursales=l,this.loader=o,this.snack=r,this.startDate=new i.e,this.endDate=new i.e}return a(e,[{key:"ngOnInit",value:function(){var t=this,e=new Date;e.setHours(0,0,0,0);var a=new Date;a.setHours(23,59,59,999),this.startDate.setValue(e),this.endDate.setValue(a),this.tabla1=new p.a,this.tabla1.groupField="",this.tabla1.secondarySort="fDocumento",this.tabla1.sum=["rTotBruto","rTotDescuento"],this.loader.open(),this.servicioSucursales.obtenerDatos(!0).subscribe(function(e){t.sucursales=e,t.sucursalActual=t.sucursales[0],t.loader.close()},function(e){t.loader.close(),t.snack.open("ERROR","OK",{duration:4e3})})}},{key:"export",value:function(){var t=this.tabla1.data.map(function(t){return{PV:t.idpv,"Saldo Inicial":t.rsaldoinicial,"Total Efectivo":t.rtotefectivo,"Total Tarjetas":t.rtottarjetas,"Total Credito":t.rtotacredito,"Total Mov Caja":t.rtotmovcaja,"Total Mercado Pago":t.rtotmercadopago,Ajuste:t.rajustecaja,Diferencia:t.rdiferencia,"Saldo Final":t.rsaldofinal,"Op.Apertura":t.soperadorapertura,"Op.Cierre":t.soperadorcierre}});this.servicioExportarExcel.exportExcel(t,"caja_reporte_movimineto","caja_reporte_movimineto")}},{key:"refresh",value:function(){var t=this;console.log(this.startDate),console.log(this.endDate),this.loader.open(),console.log(this.sucursalActual),this.servicioCaja.obtenerDatosTabla1(this.startDate.value.toISOString(),this.endDate.value.toISOString(),this.sucursalActual.puntosventasstr).subscribe(function(e){t.tabla1.setData(e.filter(function(){return!0})),t.loader.close(),console.log(t.tabla1)},function(e){t.loader.close(),t.snack.open("ERROR","OK",{duration:4e3})})}},{key:"getRowHeight",value:function(t){return 50}},{key:"getCellClass",value:function(t){return{ngxgroup:t.row.isGroup}}},{key:"tabla1OnActivate",value:function(t){"click"==t.type&&t.row.isGroup&&this.tabla1.setGroup(t.row)}},{key:"updateDate1",value:function(t){this.startDate=t.value.toDate()}},{key:"updateDate2",value:function(t){this.endDate=t.value.toDate()}},{key:"seleccionarSucursal",value:function(t){this.sucursalActual=t}},{key:"openUserInfoPopUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(f.a,{width:"720px",disableClose:!0,data:{title:"INFORMACION DE MODIFICACION",payload:t}})}},{key:"openPopUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(E,{width:"720px",disableClose:!0,data:{title:"DETALLE DE MOVIMIENTO",payload:t}})}}]),e}(),lt.\u0275fac=function(t){return new(t||lt)(g.Rb(y.b),g.Rb(v),g.Rb(b.a),g.Rb(d.a),g.Rb(u.a),g.Rb(x.a))},lt.\u0275cmp=g.Lb({type:lt,selectors:[["app-cash-report-movement"]],decls:81,vars:137,consts:[[1,"p-0"],["fxLayout","row wrap","fxLayoutAlign","end center",1,"p-8"],["appearance","fill",1,"m-8"],["matInput","",3,"ngxMatDatetimePicker","placeholder","formControl"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","stepHour","stepMinute","stepSecond","touchUi","color","enableMeridian","disableMinute","hideTime"],["picker",""],["picker2",""],["appearance","fill","fxFlex","100","fxFlex.gt-xs","25","fxFlex.gt-sm","16",1,"m-8"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-8",3,"click"],["summaryRow","true",1,"material","expandable","bg-white",2,"height","70vh",3,"columnMode","headerHeight","footerHeight","rowHeight","scrollbarV","scrollbarH","rows","selectionType","activate"],["myTable",""],[3,"cellClass","name","width"],["ngx-datatable-cell-template",""],[3,"name","width"],[4,"ngIf"],[3,"value"],["mat-icon-button","","mat-sm-button","","color","foreground","class","mr-16",3,"click",4,"ngIf"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"],["ngx-datatable-footer-template",""],[2,"padding","5px 10px"],[2,"width","100%"],[1,"p-8",2,"margin-left","auto"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"]],template:function(t,e){if(1&t&&(g.Xb(0,"mat-card",0),g.Xb(1,"div",1),g.Xb(2,"mat-form-field",2),g.Sb(3,"input",3),g.kc(4,"translate"),g.Sb(5,"mat-datepicker-toggle",4),g.Sb(6,"ngx-mat-datetime-picker",5,6),g.Wb(),g.Xb(8,"mat-form-field",2),g.Sb(9,"input",3),g.kc(10,"translate"),g.Sb(11,"mat-datepicker-toggle",4),g.Sb(12,"ngx-mat-datetime-picker",5,7),g.Wb(),g.Xb(14,"mat-form-field",8),g.Xb(15,"mat-label"),g.Oc(16),g.kc(17,"translate"),g.Wb(),g.Xb(18,"mat-select",9),g.fc("selectionChange",function(t){return e.seleccionarSucursal(t.value)})("valueChange",function(t){return e.sucursalActual=t}),g.Mc(19,q,2,2,"mat-option",10),g.Wb(),g.Wb(),g.Xb(20,"button",11),g.fc("click",function(){return e.refresh()}),g.Xb(21,"mat-icon"),g.Oc(22,"search"),g.Wb(),g.Oc(23),g.kc(24,"translate"),g.Wb(),g.Wb(),g.Wb(),g.Xb(25,"mat-card",0),g.Xb(26,"mat-card-content",0),g.Xb(27,"ngx-datatable",12,13),g.fc("activate",function(t){return e.tabla1OnActivate(t)}),g.Xb(29,"ngx-datatable-column",14),g.kc(30,"translate"),g.Mc(31,H,1,1,"ng-template",15),g.Wb(),g.Xb(32,"ngx-datatable-column",14),g.kc(33,"translate"),g.Mc(34,P,2,4,"ng-template",15),g.Wb(),g.Xb(35,"ngx-datatable-column",14),g.kc(36,"translate"),g.Mc(37,L,2,4,"ng-template",15),g.Wb(),g.Xb(38,"ngx-datatable-column",14),g.kc(39,"translate"),g.Mc(40,Q,2,3,"ng-template",15),g.Wb(),g.Xb(41,"ngx-datatable-column",14),g.kc(42,"translate"),g.Mc(43,F,2,3,"ng-template",15),g.Wb(),g.Xb(44,"ngx-datatable-column",14),g.kc(45,"translate"),g.Mc(46,V,2,3,"ng-template",15),g.Wb(),g.Xb(47,"ngx-datatable-column",14),g.kc(48,"translate"),g.Mc(49,N,2,3,"ng-template",15),g.Wb(),g.Xb(50,"ngx-datatable-column",14),g.kc(51,"translate"),g.Mc(52,U,2,3,"ng-template",15),g.Wb(),g.Xb(53,"ngx-datatable-column",14),g.kc(54,"translate"),g.Mc(55,G,2,3,"ng-template",15),g.Wb(),g.Xb(56,"ngx-datatable-column",14),g.kc(57,"translate"),g.Mc(58,J,2,3,"ng-template",15),g.Wb(),g.Xb(59,"ngx-datatable-column",14),g.kc(60,"translate"),g.Mc(61,_,2,3,"ng-template",15),g.Wb(),g.Xb(62,"ngx-datatable-column",14),g.kc(63,"translate"),g.Mc(64,Y,2,3,"ng-template",15),g.Wb(),g.Xb(65,"ngx-datatable-column",14),g.kc(66,"translate"),g.Mc(67,B,2,3,"ng-template",15),g.Wb(),g.Xb(68,"ngx-datatable-column",14),g.kc(69,"translate"),g.Mc(70,K,2,3,"ng-template",15),g.Wb(),g.Xb(71,"ngx-datatable-column",14),g.kc(72,"translate"),g.Mc(73,Z,1,1,"ng-template",15),g.Wb(),g.Xb(74,"ngx-datatable-column",14),g.kc(75,"translate"),g.Mc(76,z,1,1,"ng-template",15),g.Wb(),g.Xb(77,"ngx-datatable-column",16),g.kc(78,"translate"),g.Mc(79,et,2,2,"ng-template",15),g.Wb(),g.Mc(80,nt,2,0,"ngx-datatable-footer",17),g.Wb(),g.Wb(),g.Wb()),2&t){var a=g.Ac(7),c=g.Ac(13);g.Eb(3),g.qc("placeholder",g.lc(4,92,"SALES.STARTDATE")),g.pc("ngxMatDatetimePicker",a)("formControl",e.startDate),g.Eb(2),g.pc("for",a),g.Eb(1),g.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!1)("hideTime",!1),g.Eb(3),g.qc("placeholder",g.lc(10,94,"SALES.ENDDATE")),g.pc("ngxMatDatetimePicker",c)("formControl",e.endDate),g.Eb(2),g.pc("for",c),g.Eb(1),g.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!1)("hideTime",!1),g.Eb(4),g.Pc(g.lc(17,96,"SALES.BRANCH")),g.Eb(2),g.pc("value",e.sucursalActual),g.Eb(1),g.pc("ngForOf",e.sucursales),g.Eb(4),g.Pc(g.lc(24,98,"SALES.SHOW")),g.Eb(2),g.pc("@animate",g.vc(135,it,g.uc(134,rt))),g.Eb(2),g.pc("columnMode","standard")("headerHeight",50)("footerHeight",100)("rowHeight",e.getRowHeight)("scrollbarV",!0)("scrollbarH",!0)("rows",e.tabla1.rows)("selectionType","single"),g.Eb(2),g.qc("name",g.lc(30,100,"SALES.PV")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(33,102,"Fecha de inicio")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(36,104,"Fecha de Cierre")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(39,106,"Saldo inicial")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(42,108,"Total Efectivo")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(45,110,"Total Tarjetas")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(48,112,"Total Credito")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(51,114,"Total MovCaja")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(54,116,"Total MercadoPago")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(57,118,"Total Cheques")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(60,120,"Total Transferencias")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(63,122,"Ajuste")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(66,124,"Diferencia")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(69,126,"Saldo Final")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(72,128,"Op.Apertura")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(75,130,"Op.Cierre")),g.pc("cellClass",e.getCellClass)("width",150),g.Eb(3),g.qc("name",g.lc(78,132,"SALES.ACTIONS")),g.pc("width",150),g.Eb(3),g.pc("ngIf",e.tabla1.data.length>0)}},directives:[w.a,M.c,M.b,O.c,S.b,W.a,i.c,i.o,i.f,D.h,O.h,W.b,M.a,O.f,X.a,r.n,T.b,A.a,w.b,j.d,j.b,j.a,r.o,I.n,j.e,j.c],pipes:[R.c,r.f,r.d],styles:[""],data:{animation:[s.a]}}),lt),data:{title:"REPORTE DE MOVIMIENTO DE CAJA"}}],ut=n("iInd"),bt=n("u9T3"),pt=n("f44v"),dt=n("jMqV"),ft=n("M9ds"),mt=n("ZFy/"),gt=n("PCNd"),ht=n("BxcV"),vt=((ot=function e(){t(this,e)}).\u0275mod=g.Pb({type:ot}),ot.\u0275inj=g.Ob({factory:function(t){return new(t||ot)},imports:[[r.c,i.t,bt.a,j.f,S.c,S.c,w.c,S.c,T.c,pt.a,S.c,mt.b,y.f,x.b,dt.b,ft.c,X.b,A.b,R.b,gt.a,D.g,ht.a,W.c,W.e,W.d,i.j,ut.k.forChild(st)]]}),ot)}}])}();