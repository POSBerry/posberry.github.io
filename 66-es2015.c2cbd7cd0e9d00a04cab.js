(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{WDA5:function(e,a,t){"use strict";t.r(a),t.d(a,"TicketSettingsModule",function(){return G});var i=t("SVse"),s=t("3sEA"),n=t("O/+5"),c=t("8Y7J"),o=t("zHaW"),r=t("PDjf"),b=t("Dxy4"),l=t("Tj54"),d=t("s7LF"),h=t("Q2Ze"),p=t("e6WT"),m=t("iELJ"),g=t("TSSN");const u=[{path:"",component:(()=>{class e{constructor(e,a,t){this.servicioTicket=e,this.loader=a,this.snack=t,this.encabezado1="",this.encabezado2="",this.pie="",this.pie2="",this.pie3="",this.mostrarEliminar=!1,this.fileName="",this.formCancelar=function(){this.cargarlogo("canvaslogo",this.empresas.slogo),this.empresas.sencabezado1&&(this.encabezado1=this.empresas.sencabezado1),this.empresas.sencabezado2&&(this.encabezado2=this.empresas.sencabezado2),this.empresas.spie&&(this.pie=this.empresas.spie),this.empresas.spie2&&(this.pie2=this.empresas.spie2),this.empresas.spie3&&(this.pie3=this.empresas.spie3)}}ngOnInit(){this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(e=>{this.empresas=e[0],this.cargarlogo("canvaslogo",this.empresas.slogo),this.empresas.sencabezado1&&(this.encabezado1=this.empresas.sencabezado1),this.empresas.sencabezado2&&(this.encabezado2=this.empresas.sencabezado2),this.empresas.spie&&(this.pie=this.empresas.spie),this.empresas.spie2&&(this.pie2=this.empresas.spie2),this.empresas.spie3&&(this.pie3=this.empresas.spie3),this.loader.close()},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}formGuardar(){this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(e=>{this.empresas=e[0];var a=document.getElementById("canvaslogo"),t={};Object.assign(t,this.empresas),t.slogo=0!=a.width&&0!=a.height?a.toDataURL():null,t.sencabezado1=this.encabezado1,t.sencabezado2=this.encabezado2,t.spie=this.pie,t.spie2=this.pie2,t.spie3=this.pie3,this.servicioTicket.actualizarEmpresa(t).subscribe(e=>{this.loader.close(),this.snack.open("\xa1Configuraci\xf3n Guardada!","OK",{duration:4e3})},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}formEliminar(){var e=document.getElementById("canvaslogo");e.width=0,e.height=0,this.mostrarEliminar=!1}cargarlogo(e,a){this.mostrarEliminar=a;var t=document.getElementById(e),i=t.getContext("2d");if(t.width=0,t.height=0,a){var s=new Image;s.onload=function(){t.width=s.width,t.height=s.height,i.drawImage(s,0,0)},s.src=a}}fileExist(e){const a=e.target.files[0];a&&(this.fileName=a.name)}submitLogo(e,a,t){var i=document.getElementById(e),s=i.getContext("2d"),n=document.getElementById(a).files[0];if(null!=n){this.mostrarEliminar=!0;var c=new FileReader;c.onload=e=>{var a=new Image;a.onload=()=>{i.width=a.width,i.height=a.height,s.drawImage(a,0,0);for(var e=s.getImageData(0,0,i.width,i.height),t=0;t<e.data.length;t+=4){var n=Math.round(.3*e.data[t]+.59*e.data[t+1]+.11*e.data[t+2])<127?0:255;e.data[t+3]<255&&(n=e.data[t+3]<127?255:0,e.data[t+3]=255),e.data[t]=n,e.data[t+1]=n,e.data[t+2]=n}s.putImageData(e,0,0,0,0,e.width,e.height)},a.src=e.target.result,this.fileName=""},c.readAsDataURL(n)}}}return e.\u0275fac=function(a){return new(a||e)(c.Rb(n.a),c.Rb(s.a),c.Rb(o.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-ticket-settings"]],decls:60,vars:37,consts:[["mat-button","","color","warn","type","button",3,"click"],["id","canvaslogo",1,"m-16"],[3,"hidden"],["type","file","id","inputlogo","accept","image/x-png",3,"change"],["fileUpload",""],["mat-raised-button","","color","primary",1,"m-8",3,"click"],["mat-raised-button","","type","submit","color","primary","value","Upload Image","name","submit",1,"mb-16",3,"click"],[1,"full-width"],["matInput","","maxlength","50","placeholder","Encabezado 1",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Encabezado 2",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 1",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 2",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 3",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,a){if(1&e){const e=c.Yb();c.Xb(0,"mat-card"),c.Xb(1,"mat-card-content"),c.Xb(2,"p"),c.Oc(3),c.kc(4,"translate"),c.Wb(),c.Xb(5,"p"),c.Oc(6),c.kc(7,"translate"),c.Xb(8,"strong"),c.Oc(9),c.kc(10,"translate"),c.Wb(),c.Oc(11),c.kc(12,"translate"),c.Xb(13,"strong"),c.Oc(14),c.kc(15,"translate"),c.Wb(),c.Oc(16,". "),c.Wb(),c.Wb(),c.Xb(17,"mat-card-content"),c.Xb(18,"button",0),c.fc("click",function(){return a.formEliminar()}),c.Xb(19,"mat-icon"),c.Oc(20,"delete"),c.Wb(),c.Oc(21),c.kc(22,"translate"),c.Wb(),c.Sb(23,"br"),c.Sb(24,"canvas",1),c.Xb(25,"form"),c.Xb(26,"div",2),c.Xb(27,"input",3,4),c.fc("change",function(e){return a.fileExist(e)}),c.Wb(),c.Wb(),c.Xb(29,"div",2),c.Oc(30),c.Xb(31,"button",5),c.fc("click",function(){return c.Dc(e),c.Ac(28).click()}),c.Xb(32,"mat-icon"),c.Oc(33,"attach_file"),c.Wb(),c.Oc(34),c.kc(35,"translate"),c.Wb(),c.Wb(),c.Xb(36,"div",2),c.Oc(37),c.Xb(38,"button",6),c.fc("click",function(){return a.submitLogo("canvaslogo","inputlogo","logo")}),c.Xb(39,"mat-icon"),c.Oc(40,"cloud_upload"),c.Wb(),c.Oc(41),c.kc(42,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(43,"mat-card-content"),c.Xb(44,"mat-form-field",7),c.Xb(45,"input",8),c.fc("ngModelChange",function(e){return a.encabezado1=e}),c.Wb(),c.Wb(),c.Xb(46,"mat-form-field",7),c.Xb(47,"input",9),c.fc("ngModelChange",function(e){return a.encabezado2=e}),c.Wb(),c.Wb(),c.Xb(48,"mat-form-field",7),c.Xb(49,"input",10),c.fc("ngModelChange",function(e){return a.pie=e}),c.Wb(),c.Wb(),c.Xb(50,"mat-form-field",7),c.Xb(51,"input",11),c.fc("ngModelChange",function(e){return a.pie2=e}),c.Wb(),c.Wb(),c.Xb(52,"mat-form-field",7),c.Xb(53,"input",12),c.fc("ngModelChange",function(e){return a.pie3=e}),c.Wb(),c.Wb(),c.Xb(54,"mat-dialog-content"),c.Xb(55,"button",13),c.fc("click",function(){return a.formGuardar()}),c.Xb(56,"mat-icon"),c.Oc(57,"save"),c.Wb(),c.Oc(58),c.kc(59,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}2&e&&(c.Eb(3),c.Pc(c.lc(4,19,"TICKETSSETTINGSCOMPONENT.PARRAF1")),c.Eb(3),c.Qc("",c.lc(7,21,"TICKETSSETTINGSCOMPONENT.PARRAF2")," "),c.Eb(3),c.Qc("",c.lc(10,23,"TICKETSSETTINGSCOMPONENT.PARRAF3")," "),c.Eb(2),c.Qc(" ",c.lc(12,25,"TICKETSSETTINGSCOMPONENT.PARRAF4")," "),c.Eb(3),c.Pc(c.lc(15,27,"TICKETSSETTINGSCOMPONENT.PARRAF5")),c.Eb(7),c.Qc("",c.lc(22,29,"TICKETSSETTINGSCOMPONENT.DELETELOGO")," "),c.Eb(5),c.pc("hidden",!0),c.Eb(3),c.pc("hidden",a.fileName),c.Eb(1),c.Qc(" ",a.fileName||"Ning\xfan archivo cargado todav\xeda."," "),c.Eb(4),c.Qc("",c.lc(35,31,"TICKETSSETTINGSCOMPONENT.UPLOADIMAGE")," "),c.Eb(2),c.pc("hidden",!a.fileName),c.Eb(1),c.Qc(" ",a.fileName||"Ning\xfan archivo cargado todav\xeda."," "),c.Eb(4),c.Qc("",c.lc(42,33,"TICKETSSETTINGSCOMPONENT.UPLOAD")," "),c.Eb(4),c.pc("ngModel",a.encabezado1),c.Eb(2),c.pc("ngModel",a.encabezado2),c.Eb(2),c.pc("ngModel",a.pie),c.Eb(2),c.pc("ngModel",a.pie2),c.Eb(2),c.pc("ngModel",a.pie3),c.Eb(5),c.Qc("",c.lc(59,35,"TICKETSSETTINGSCOMPONENT.SAVE")," "))},directives:[r.a,r.b,b.b,l.a,d.w,d.p,d.q,h.c,p.b,d.c,d.k,d.o,d.r,m.e],pipes:[g.c],styles:[""]}),e})(),data:{title:"TICKETS CONFIGURACION"}}];var E=t("iInd"),f=t("u9T3"),T=t("pMoy"),O=t("f44v"),I=t("TN/R"),N=t("40+f"),C=t("SqCe"),S=t("rJgo"),W=t("BTe0"),M=t("zQhy"),v=t("ZTz/"),k=t("jMqV"),X=t("M9ds"),z=t("ZFy/"),R=t("w9WL"),w=t("aYsj"),P=t("PCNd"),y=t("hrfs"),A=t("pYyI");let G=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(a){return new(a||e)},imports:[[i.c,d.t,f.a,R.f,p.c,p.c,r.c,p.c,b.c,O.a,p.c,z.b,m.f,o.b,k.b,X.c,v.b,l.b,g.b,P.a,I.g,d.j,C.b,S.c,N.b,T.b,M.c,W.b,y.a,A.a,w.a,E.k.forChild(u)]]}),e})()}}]);