!function(){function t(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{CHRX:function(a,r,c){"use strict";c.d(r,"a",function(){return i});var o=c("wd/R"),i=function(){function a(){e(this,a),this.sum=[],this.data=[],this.rows=[],this.filter={},this.groups={},this.groupField="",this.secondarySort="",this.sortDir="asc",this.footer={},this.summaryRow=!0,this.emptyRow=!0,this.customFilter=function(t){return t}}return n(a,[{key:"setGroup",value:function(t){this.groups[t.name]=!this.groups[t.name],this.filterRows()}},{key:"setData",value:function(t){this.data=t,this.sortData()}},{key:"sortData",value:function(){var t=this;this.data.sort(function(e,a){if(e[t.groupField]==a[t.groupField]){if(t.secondarySort){if(null==e[t.secondarySort])return 1;if(null==a[t.secondarySort])return-1;if(e[t.secondarySort]>a[t.secondarySort])return 1*("desc"===t.sortDir?-1:1);if(e[t.secondarySort]<a[t.secondarySort])return-1*("desc"===t.sortDir?-1:1)}}else{if(null==e[t.groupField])return 1;if(null==a[t.groupField])return-1;if(e[t.groupField]>a[t.groupField])return 1;if(e[t.groupField]<a[t.groupField])return-1}return 0}),this.filterRows()}},{key:"filterRows",value:function(){var e=this,a=[];a=this.data.filter(function(t){for(var a in e.filter){if(e.filter[a]&&null==t[a])return!1;switch(typeof t[a]){case"number":if(e.filter[a]&&Math.trunc(t[a]).toString()!==Math.trunc(e.filter[a]).toString())return!1;break;case"string":if("f"==a.charAt(0).toLowerCase()&&o(t[a]).isValid){if(-1==o(t[a]).format("DD/MM/YYYY HH:mm:ss").indexOf(e.filter[a]))return!1;break}if(-1==t[a].toLowerCase().indexOf(e.filter[a].toLowerCase()))return!1}}return!0}),a=this.customFilter(a);var n={};this.groupField?n[this.groupField]=a.length.toString():n.count=a.length.toString(),this.sum.forEach(function(t){return n[t]=0});for(var r=0;r<a.length;r++)this.sum.forEach(function(t){return n[t]+=a[r][t]});if(n.isGroup=!0,this.footer=n,this.groupField){var c=[];a.forEach(function(t){-1==c.indexOf(t[e.groupField])&&c.push(t[e.groupField])}),c=c.map(function(t){return{name:t,count:1}});var i=[],l=!0,u=0,s=null,b=function(){s&&(s[e.groupField]+=" ("+c[u-1].count.toString()+")")};for(r=0;r<a.length;r++){if(l&&a[r][this.groupField]==c[u].name){var f;b();var m="+";this.groups[c[u].name]&&(m="-"),t(f={},this.groupField,m+" "+c[u].name),t(f,"isGroup",!0),t(f,"name",c[u].name),s=f,this.sum.forEach(function(t){return s[t]=0}),i.push(s),l=++u<c.length}else c[u-1].count++;this.sum.forEach(function(t){return s[t]+=a[r][t]}),i.push(a[r])}b(),a=null,i=i.filter(function(t){return!!t.isGroup||!!e.groups[t[e.groupField]]||void 0}),this.rows=i}else this.rows=a;this.summaryRow&&this.rows.push(this.footer),0==this.rows.length&&this.emptyRow&&this.rows.push({})}},{key:"updateFilter",value:function(t,e){if(t&&e){var a=t.target.value;t instanceof MouseEvent&&(a=""),this.filter[e]=a,this.filterRows()}return!0}},{key:"updateFilterBoolean",value:function(t,e){return this.filter[e]=t,this.filterRows(),!0}}],[{key:"prepararFiltroAPI",value:function(t){var e="";for(var a in t)t[a].search&&(e+="number"==typeof t[a].search?'{"'.concat(a,'":').concat(t[a].search,"},"):t[a].exact?'{"'.concat(a,'":"').concat(t[a].search,'"},'):'{"'.concat(a,'":{"ilike":"%').concat(t[a].search,'%"}},'));return e}}]),a}()},GmJt:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("GS7A"),r=Object(n.g)([Object(n.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(n.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(n.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),c=[Object(n.n)("animate",[Object(n.m)("void => *",[Object(n.o)(r)])]),Object(n.n)("fadeInOut",[Object(n.k)("0",Object(n.l)({opacity:0,display:"none"})),Object(n.k)("1",Object(n.l)({opacity:1,display:"block"})),Object(n.m)("0 => 1",Object(n.e)("300ms")),Object(n.m)("1 => 0",Object(n.e)("300ms"))])]},vkD5:function(t,a,r){"use strict";r.r(a),r.d(a,"RegistryModule",function(){return Wt});var c=r("GmJt"),o=r("3kSh"),i=r("3sEA"),l=r("iELJ"),u=r("8Y7J"),s=r("PDjf"),b=r("SVse"),f=r("VDRc"),m=r("Dxy4"),p=r("Tj54"),d=r("TSSN");function h(t,e){if(1&t&&(u.Xb(0,"div"),u.Oc(1),u.kc(2,"number"),u.Wb()),2&t){var a=u.jc(2);u.Eb(1),u.Qc("Temperatura Actual: ",u.lc(2,1,a.data.payload.rtemperaturaactual),"\xb0c ")}}function g(t,e){if(1&t&&(u.Xb(0,"div"),u.Oc(1),u.kc(2,"number"),u.Wb()),2&t){var a=u.jc(2);u.Eb(1),u.Qc("Temperatura Promedio: ",u.lc(2,1,a.data.payload.rtemperaturapromedio),"\xb0c")}}function v(t,e){if(1&t&&(u.Xb(0,"div"),u.Xb(1,"h5"),u.Xb(2,"b"),u.Oc(3),u.Wb(),u.Wb(),u.Mc(4,h,3,3,"div",2),u.Mc(5,g,3,3,"div",2),u.Sb(6,"br"),u.Wb()),2&t){var a=u.jc();u.Eb(3),u.Qc("","Temperatura",":"),u.Eb(1),u.pc("ngIf",a.data.payload.rtemperaturaactual),u.Eb(1),u.pc("ngIf",a.data.payload.rtemperaturapromedio)}}var y,O,w=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}},E=((y=function(){function t(a,n){e(this,t),this.data=a,this.dialogRef=n}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||y)(u.Rb(l.a),u.Rb(l.g))},y.\u0275cmp=u.Lb({type:y,selectors:[["app-registry-popup"]],decls:66,vars:57,consts:[["matDialogTitle","",1,"popup-title"],[2,"font-size","small"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(u.Xb(0,"h1",0),u.Xb(1,"span"),u.Oc(2),u.Wb(),u.Xb(3,"span",1),u.Oc(4),u.kc(5,"date"),u.Wb(),u.Wb(),u.Xb(6,"mat-dialog-content"),u.Xb(7,"mat-card"),u.Xb(8,"mat-card-content"),u.Xb(9,"div"),u.Xb(10,"h5"),u.Xb(11,"b"),u.Oc(12),u.Wb(),u.Oc(13),u.Wb(),u.Xb(14,"div"),u.Oc(15),u.kc(16,"date"),u.Wb(),u.Xb(17,"div"),u.Oc(18),u.kc(19,"date"),u.Wb(),u.Sb(20,"br"),u.Wb(),u.Mc(21,v,7,3,"div",2),u.Xb(22,"div"),u.Xb(23,"h5"),u.Xb(24,"b"),u.Oc(25),u.Wb(),u.Wb(),u.Xb(26,"div"),u.Oc(27),u.kc(28,"number"),u.kc(29,"number"),u.Wb(),u.Xb(30,"div"),u.Oc(31),u.kc(32,"number"),u.kc(33,"number"),u.Wb(),u.Sb(34,"br"),u.Wb(),u.Xb(35,"div"),u.Xb(36,"h5"),u.Xb(37,"b"),u.Oc(38),u.Wb(),u.Wb(),u.Xb(39,"div"),u.Oc(40),u.kc(41,"number"),u.Wb(),u.Xb(42,"div"),u.Oc(43),u.kc(44,"number"),u.Wb(),u.Sb(45,"br"),u.Wb(),u.Xb(46,"div"),u.Xb(47,"h5"),u.Xb(48,"b"),u.Oc(49),u.Wb(),u.Wb(),u.Xb(50,"div"),u.Oc(51),u.kc(52,"number"),u.kc(53,"number"),u.Wb(),u.Xb(54,"div"),u.Oc(55),u.kc(56,"number"),u.kc(57,"number"),u.Wb(),u.Sb(58,"br"),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(59,"mat-dialog-content",3),u.Xb(60,"div",4),u.Xb(61,"button",5),u.fc("click",function(){return e.dialogRef.close(!1)}),u.Xb(62,"mat-icon"),u.Oc(63,"cancel"),u.Wb(),u.Oc(64),u.kc(65,"translate"),u.Wb(),u.Wb(),u.Wb()),2&t&&(u.Eb(2),u.Rc("",e.data.puntoDeVenta," (",e.data.payload.shostname,")"),u.Eb(2),u.Pc(u.mc(5,23,e.data.payload.fcreacion,"dd/MM/yyyy HH:mm:ss")),u.Eb(3),u.pc("@animate",u.vc(55,k,u.uc(54,w))),u.Eb(5),u.Qc("","Sistema Operativo",":"),u.Eb(1),u.Qc(" ",e.data.payload.ssistemaoperativo,""),u.Eb(2),u.Qc("Inicio del Sistema: ",u.mc(16,26,e.data.payload.finicioos,"dd/MM/yyyy HH:mm:ss"),""),u.Eb(3),u.Qc("Inicio de POSBerry: ",u.mc(19,29,e.data.payload.finicioapp,"dd/MM/yyyy HH:mm:ss"),""),u.Eb(3),u.pc("ngIf",e.data.payload.rtemperaturaactual||e.data.payload.rtemperaturapromedio),u.Eb(4),u.Qc("","Memoria",":"),u.Eb(2),u.Rc("Memoria Libre: ",u.lc(28,32,e.data.payload.imemorialibre/1e6)," GB (",u.lc(29,34,e.data.payload.imemorialibre)," KB)"),u.Eb(4),u.Rc("Memoria Total: ",u.lc(32,36,e.data.payload.imemoriatotal/1e6)," GB (",u.lc(33,38,e.data.payload.imemoriatotal)," KB)"),u.Eb(7),u.Qc("","Procesador",":"),u.Eb(2),u.Qc("Carga Actual: ",u.lc(41,40,e.data.payload.rcpuloadactual),"%"),u.Eb(3),u.Qc("Carga Promedio: ",u.lc(44,42,e.data.payload.rcpuloadpromedio),"%"),u.Eb(6),u.Qc("","Almacenamiento",":"),u.Eb(2),u.Rc("Almacenamiento Libre: ",u.lc(52,44,e.data.payload.ialmacenamientolibre/1e6)," GB (",u.lc(53,46,e.data.payload.ialmacenamientolibre)," KB)"),u.Eb(4),u.Rc("Almacenamiento Total: ",u.lc(56,48,e.data.payload.ialmacenamientototal/1e6)," GB (",u.lc(57,50,e.data.payload.ialmacenamientototal)," KB)"),u.Eb(9),u.Qc("",u.lc(65,52,"Cancelar")," "))},directives:[l.h,l.e,s.a,s.b,b.o,f.c,f.b,f.a,m.b,p.a],pipes:[b.f,b.g,d.c],styles:[".popup-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),y),X=r("AytR"),M=r("IheW"),x=((O=function(){function t(a){e(this,t),this.http=a}return n(t,[{key:"obtenerDatos",value:function(t,e,a,n){return this.http.get(encodeURI("".concat(X.a.apiURL,'Registro?filter={"where":').concat(t,',"limit":').concat(e,',"skip":').concat(a,',"order":"').concat(n,'"}')))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(X.a.apiURL,"Registro/count?where=").concat(t)))}},{key:"obtenerPV",value:function(){return this.http.get(X.a.apiURL+"PuntosVenta")}}]),t}()).\u0275fac=function(t){return new(t||O)(u.bc(M.c))},O.\u0275prov=u.Nb({token:O,factory:O.\u0275fac,providedIn:"root"}),O),R=r("CHRX"),W=r("cp0P"),S=r("HeVh"),I=r("zHaW"),G=r("Q2Ze"),T=r("e6WT"),F=r("w9WL");function j(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",25),u.fc("click",function(t){u.Dc(a);var e=u.jc(),n=u.Ac(4);return e.updateFilter(t,null,null)&&(n.value="")}),u.Xb(1,"mat-icon"),u.Oc(2,"close"),u.Wb(),u.Wb()}}function P(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.sinstancia," ")}}function C(t,e){if(1&t&&(u.Xb(0,"ngx-datatable-column",26),u.kc(1,"translate"),u.Mc(2,P,1,1,"ng-template",20),u.Wb()),2&t){u.jc();var a=u.Ac(32);u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.INSTANCE")),u.pc("summaryTemplate",a)("flexGrow",1)}}function A(t,e){if(1&t&&(u.Oc(0),u.kc(1,"date")),2&t){var a=e.row;u.Qc(" ",u.mc(1,1,null==a?null:a.fcreacion,"dd/MM/yyyy HH:mm:ss")," ")}}function L(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",27),u.kc(1,"translate"),u.Mc(2,A,2,4,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,2,"REGISTRYCOMPONENT.DATE")),u.pc("flexGrow",1))}function N(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.message," ")}}function D(t,e){if(1&t&&(u.Xb(0,"ngx-datatable-column",28),u.kc(1,"translate"),u.Mc(2,N,1,1,"ng-template",20),u.Wb()),2&t){u.jc();var a=u.Ac(28);u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.MESSAGE")),u.pc("summaryTemplate",a)("flexGrow",2)}}function Y(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.soperadorcreacion," ")}}function Q(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",29),u.kc(1,"translate"),u.Mc(2,Y,1,1,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,2,"REGISTRYCOMPONENT.OPERATOR")),u.pc("flexGrow",1.5))}function H(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.shostname," ")}}function q(t,e){if(1&t&&(u.Xb(0,"ngx-datatable-column",30),u.kc(1,"translate"),u.Mc(2,H,1,1,"ng-template",20),u.Wb()),2&t){u.jc();var a=u.Ac(30);u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.PCNAME")),u.pc("summaryTemplate",a)("flexGrow",1)}}function V(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.sversion," ")}}function U(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",31),u.kc(1,"translate"),u.Mc(2,V,1,1,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,2,"REGISTRYCOMPONENT.VERSION")),u.pc("flexGrow",.7))}function B(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.idpv," ")}}function J(t,e){if(1&t&&(u.Xb(0,"ngx-datatable-column",32),u.kc(1,"translate"),u.Mc(2,B,1,1,"ng-template",20),u.Wb()),2&t){u.jc();var a=u.Ac(26);u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.POS")),u.pc("summaryTemplate",a)("flexGrow",1)}}function z(t,e){if(1&t&&u.Oc(0),2&t){var a=e.row;u.Qc(" ",null==a?null:a.ssistemaoperativo," ")}}function K(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",33),u.kc(1,"translate"),u.Mc(2,z,1,1,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,2,"REGISTRYCOMPONENT.OS")),u.pc("flexGrow",1.5))}function Z(t,e){if(1&t&&(u.Oc(0),u.kc(1,"date")),2&t){var a=e.row;u.Qc(" ",u.mc(1,1,null==a?null:a.finicioapp,"dd/MM/yyyy HH:mm:ss")," ")}}function _(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",34),u.kc(1,"translate"),u.Mc(2,Z,2,4,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,2,"REGISTRYCOMPONENT.APPSTART")),u.pc("flexGrow",1))}function $(t,e){if(1&t&&(u.Oc(0),u.kc(1,"number")),2&t){var a=e.row;u.Qc(" ",u.mc(1,1,null==a?null:a.rtemperaturaactual,"1.00-0")," ")}}function tt(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",35),u.kc(1,"translate"),u.Mc(2,$,2,4,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.CPUTEMP")),u.pc("summaryFunc",null)("flexGrow",.7))}function et(t,e){if(1&t&&(u.Oc(0),u.kc(1,"number")),2&t){var a=e.row;u.Qc(" ",u.mc(1,1,null==a?null:a.rtemperaturapromedio,"1.00-0")," ")}}function at(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",36),u.kc(1,"translate"),u.Mc(2,et,2,4,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.CPUAVERAGETEMP")),u.pc("summaryFunc",null)("flexGrow",.7))}function nt(t,e){if(1&t&&(u.Oc(0),u.kc(1,"number")),2&t){var a=e.row;u.Qc(" ",u.mc(1,1,null==a?null:a.rcpuloadpromedio,"1.00-0")," ")}}function rt(t,e){1&t&&(u.Xb(0,"ngx-datatable-column",37),u.kc(1,"translate"),u.Mc(2,nt,2,4,"ng-template",20),u.Wb()),2&t&&(u.qc("name",u.lc(1,3,"REGISTRYCOMPONENT.CPUAVERAGELOAD")),u.pc("summaryFunc",null)("flexGrow",.7))}function ct(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",38),u.fc("click",function(){u.Dc(a);var t=e.row;return u.jc().openPopUp(t)}),u.Xb(1,"mat-icon"),u.Oc(2,"info"),u.Wb(),u.Wb()}}function ot(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",25),u.fc("click",function(t){u.Dc(a),u.jc();var e=u.Ac(2);return u.jc().updateFilter(t,"idpv",!0)&&(e.value="")}),u.Xb(1,"mat-icon"),u.Oc(2,"close"),u.Wb(),u.Wb()}}function it(t,e){if(1&t){var a=u.Yb();u.Xb(0,"mat-form-field",0),u.Xb(1,"input",39,3),u.fc("keyup",function(t){return u.Dc(a),u.jc().updateFilter(t,"idpv",!0)}),u.Wb(),u.Mc(3,ot,3,0,"button",4),u.Wb()}if(2&t){var n=u.Ac(2);u.Eb(3),u.pc("ngIf",n.value)}}function lt(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",25),u.fc("click",function(t){u.Dc(a),u.jc();var e=u.Ac(2);return u.jc().updateFilter(t,"message",!1)&&(e.value="")}),u.Xb(1,"mat-icon"),u.Oc(2,"close"),u.Wb(),u.Wb()}}function ut(t,e){if(1&t){var a=u.Yb();u.Xb(0,"mat-form-field",0),u.Xb(1,"input",39,3),u.fc("keyup",function(t){return u.Dc(a),u.jc().updateFilter(t,"message",!1)}),u.Wb(),u.Mc(3,lt,3,0,"button",4),u.Wb()}if(2&t){var n=u.Ac(2);u.Eb(3),u.pc("ngIf",n.value)}}function st(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",25),u.fc("click",function(t){u.Dc(a),u.jc();var e=u.Ac(2);return u.jc().updateFilter(t,"shostname",!1)&&(e.value="")}),u.Xb(1,"mat-icon"),u.Oc(2,"close"),u.Wb(),u.Wb()}}function bt(t,e){if(1&t){var a=u.Yb();u.Xb(0,"mat-form-field",0),u.Xb(1,"input",39,3),u.fc("keyup",function(t){return u.Dc(a),u.jc().updateFilter(t,"shostname",!1)}),u.Wb(),u.Mc(3,st,3,0,"button",4),u.Wb()}if(2&t){var n=u.Ac(2);u.Eb(3),u.pc("ngIf",n.value)}}function ft(t,e){if(1&t){var a=u.Yb();u.Xb(0,"button",25),u.fc("click",function(t){u.Dc(a),u.jc();var e=u.Ac(2);return u.jc().updateFilter(t,"sinstancia",!1)&&(e.value="")}),u.Xb(1,"mat-icon"),u.Oc(2,"close"),u.Wb(),u.Wb()}}function mt(t,e){if(1&t){var a=u.Yb();u.Xb(0,"mat-form-field",0),u.Xb(1,"input",39,3),u.fc("keyup",function(t){return u.Dc(a),u.jc().updateFilter(t,"sinstancia",!1)}),u.Wb(),u.Mc(3,ft,3,0,"button",4),u.Wb()}if(2&t){var n=u.Ac(2);u.Eb(3),u.pc("ngIf",n.value)}}var pt,dt,ht=function(){return{y:"50px",delay:"300ms"}},gt=function(t){return{value:"*",params:t}},vt=[{path:"",component:(pt=function(){function t(a,n,r,c,o,i){e(this,t),this.servicioRegistro=a,this.snack=n,this.loader=r,this.dialog=c,this.confirmService=o,this.breakpointObserver=i,this.fields={},this.timeOutDuration=800,this.rows=[],this.order="fcreacion DESC",this.search="",this.page={count:0,offset:0,limit:10}}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.refresh(),this.servicioRegistro.obtenerPV().subscribe(function(e){t.puntosDeVenta=e,console.log(e)}),this.breakpointObserver.observe([S.b.XSmall,S.b.Small,S.b.Medium,S.b.Large,S.b.XLarge]).subscribe(function(e){t.isXSmall=t.breakpointObserver.isMatched(S.b.XSmall),t.isSmall=t.breakpointObserver.isMatched(S.b.Small),t.isMedium=t.breakpointObserver.isMatched(S.b.Medium),t.isLarge=t.breakpointObserver.isMatched(S.b.Large),t.isXLarge=t.breakpointObserver.isMatched(S.b.XLarge)})}},{key:"mostrarOcultar",value:function(t){switch(t){case"XS":return!0;case"S":return this.isSmall||this.isMedium||this.isLarge||this.isXLarge;case"M":return this.isMedium||this.isLarge||this.isXLarge;case"L":return this.isLarge||this.isXLarge;case"XL":return this.isXLarge}}},{key:"prepararFiltro",value:function(){var t=this;this.filter='{"and":[';var e=this.search.split(" ");e.length>0&&e.forEach(function(e,a){e.length>1&&(t.filter+='{"or":[{"sinstancia":{"ilike":"%'.concat(e,'%"}},{"message":{"ilike":"%').concat(e,'%"}},{"shostname":{"ilike":"%').concat(e,'%"}}]}'),a<t.search.length-1&&(t.filter+=","))}),this.filter+=R.a.prepararFiltroAPI(this.fields),this.filter+='{"deletedon":{"eq":null}}]}'}},{key:"refresh",value:function(){var t=this;this.prepararFiltro(),Object(W.a)([this.servicioRegistro.obtenerCount(this.filter),this.servicioRegistro.obtenerDatos(this.filter,this.page.limit,this.page.offset*this.page.limit,this.order)]).subscribe(function(e){t.page.count=e[0].count,t.rows=e[1],0==t.rows.length&&t.rows.push({})},function(e){t.loader.close(),t.snack.open("ERROR","OK",{duration:4e3})})}},{key:"pageCallback",value:function(t){this.page.offset=t.offset,this.refresh()}},{key:"updateFilter",value:function(t,e,a){var n=this;if(t&&e){var r=t.target.value;t instanceof MouseEvent&&(r=""),this.fields[e]={search:r,exact:a}}else t&&(this.search=t instanceof MouseEvent?"":t.target.value);return clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){n.refresh()},this.timeOutDuration),!0}},{key:"onSort",value:function(t){var e=t.sorts[0];this.order="".concat(e.prop," ").concat(e.dir.toUpperCase()),this.refresh()}},{key:"openPopUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(E,{width:"720px",disableClose:!0,data:{title:"INFORMACION",payload:t,puntoDeVenta:this.puntosDeVenta.find(function(e){return e.idpv=t.idpv}).sdescripcion}}).afterClosed()}}]),t}(),pt.\u0275fac=function(t){return new(t||pt)(u.Rb(x),u.Rb(I.a),u.Rb(i.a),u.Rb(l.b),u.Rb(o.a),u.Rb(S.a))},pt.\u0275cmp=u.Lb({type:pt,selectors:[["app-registry"]],decls:33,vars:36,consts:[[1,"margin-333",2,"width","100%"],["matPrefix",""],["matInput","","value","",3,"placeholder","keyup"],["searchinput",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"p-0"],["summaryRow","true",1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","externalPaging","selectionType","page","sort"],["prop","sinstancia",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","fcreacion",3,"name","flexGrow",4,"ngIf"],["prop","message",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","soperadorcreacion",3,"name","flexGrow",4,"ngIf"],["prop","hostname",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","sversion",3,"name","flexGrow",4,"ngIf"],["prop","idpv",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","ssistemaoperativo",3,"name","flexGrow",4,"ngIf"],["prop","finicioapp",3,"name","flexGrow",4,"ngIf"],["prop","rtemperaturaactual",3,"summaryFunc","name","flexGrow",4,"ngIf"],["prop","rtemperaturapromedio",3,"summaryFunc","name","flexGrow",4,"ngIf"],["prop","rcpuloadpromedio",3,"summaryFunc","name","flexGrow",4,"ngIf"],[3,"name","flexGrow","sortable"],["ngx-datatable-cell-template",""],["tabla1idpv",""],["tabla1message",""],["tabla1shostname",""],["tabla1sinstancia",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["prop","sinstancia",3,"summaryTemplate","name","flexGrow"],["prop","fcreacion",3,"name","flexGrow"],["prop","message",3,"summaryTemplate","name","flexGrow"],["prop","soperadorcreacion",3,"name","flexGrow"],["prop","hostname",3,"summaryTemplate","name","flexGrow"],["prop","sversion",3,"name","flexGrow"],["prop","idpv",3,"summaryTemplate","name","flexGrow"],["prop","ssistemaoperativo",3,"name","flexGrow"],["prop","finicioapp",3,"name","flexGrow"],["prop","rtemperaturaactual",3,"summaryFunc","name","flexGrow"],["prop","rtemperaturapromedio",3,"summaryFunc","name","flexGrow"],["prop","rcpuloadpromedio",3,"summaryFunc","name","flexGrow"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"],["matInput","","placeholder","","value","",3,"keyup"]],template:function(t,e){if(1&t&&(u.Xb(0,"mat-form-field",0),u.Xb(1,"mat-icon",1),u.Oc(2,"search"),u.Wb(),u.Xb(3,"input",2,3),u.fc("keyup",function(t){return e.updateFilter(t,null,null)}),u.kc(5,"translate"),u.Wb(),u.Mc(6,j,3,0,"button",4),u.Wb(),u.Xb(7,"mat-card",5),u.Xb(8,"mat-card-content",5),u.Xb(9,"ngx-datatable",6),u.fc("page",function(t){return e.pageCallback(t)})("sort",function(t){return e.onSort(t)}),u.Mc(10,C,3,5,"ngx-datatable-column",7),u.Mc(11,L,3,4,"ngx-datatable-column",8),u.Mc(12,D,3,5,"ngx-datatable-column",9),u.Mc(13,Q,3,4,"ngx-datatable-column",10),u.Mc(14,q,3,5,"ngx-datatable-column",11),u.Mc(15,U,3,4,"ngx-datatable-column",12),u.Mc(16,J,3,5,"ngx-datatable-column",13),u.Mc(17,K,3,4,"ngx-datatable-column",14),u.Mc(18,_,3,4,"ngx-datatable-column",15),u.Mc(19,tt,3,5,"ngx-datatable-column",16),u.Mc(20,at,3,5,"ngx-datatable-column",17),u.Mc(21,rt,3,5,"ngx-datatable-column",18),u.Xb(22,"ngx-datatable-column",19),u.kc(23,"translate"),u.Mc(24,ct,3,0,"ng-template",20),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Mc(25,it,4,1,"ng-template",null,21,u.Nc),u.Mc(27,ut,4,1,"ng-template",null,22,u.Nc),u.Mc(29,bt,4,1,"ng-template",null,23,u.Nc),u.Mc(31,mt,4,1,"ng-template",null,24,u.Nc)),2&t){var a=u.Ac(4);u.Eb(3),u.qc("placeholder",u.lc(5,29,"REGISTRYCOMPONENT.FILTER")),u.Eb(3),u.pc("ngIf",a.value),u.Eb(1),u.pc("@animate",u.vc(34,gt,u.uc(33,ht))),u.Eb(2),u.pc("rows",e.rows)("columnMode","flex")("headerHeight",50)("footerHeight",50)("scrollbarH",!1)("rowHeight","auto")("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit)("externalPaging",!0)("selectionType","single"),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("S")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XS")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XS")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("L")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("L")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("L")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XS")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("L")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("L")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XL")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XL")),u.Eb(1),u.pc("ngIf",e.mostrarOcultar("XL")),u.Eb(1),u.qc("name",u.lc(23,31,"SALES.ACTIONS")),u.pc("flexGrow",1)("sortable",!1)}},directives:[G.c,p.a,G.g,T.b,b.o,s.a,s.b,F.d,F.b,F.a,m.b,G.h],pipes:[d.c,b.f,b.g],styles:[""],data:{animation:[c.a]}}),pt),data:{title:"REGISTRO"}}],yt=r("iInd"),Ot=r("s7LF"),wt=r("f44v"),kt=r("SqCe"),Et=r("rJgo"),Xt=r("jMqV"),Mt=r("ZFy/"),xt=r("u9T3"),Rt=r("PCNd"),Wt=((dt=function t(){e(this,t)}).\u0275mod=u.Pb({type:dt}),dt.\u0275inj=u.Ob({factory:function(t){return new(t||dt)},providers:[x],imports:[[b.c,Ot.t,xt.a,F.f,T.c,p.b,s.c,Et.c,m.c,wt.a,kt.b,Mt.b,l.f,I.b,Xt.b,d.b,Rt.a,yt.k.forChild(vt)]]}),dt)}}])}();