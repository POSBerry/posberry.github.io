(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"Ap+n":function(t,e,a){"use strict";a.d(e,"a",function(){return b});var n=a("iELJ"),o=a("GmJt"),c=a("8Y7J"),r=a("PDjf"),i=a("VDRc"),s=a("Dxy4"),l=a("Tj54"),u=a("TSSN"),d=a("SVse");const p=function(){return{y:"50px",delay:"300ms"}},f=function(t){return{value:"*",params:t}};let b=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(n.a),c.Rb(n.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-user-info-popup"]],decls:23,vars:37,consts:[["matDialogTitle",""],["ng-if","data.payload.fModificacion"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"h1",0),c.Oc(1),c.Wb(),c.Xb(2,"mat-dialog-content"),c.Xb(3,"mat-card"),c.Xb(4,"mat-card-content"),c.Xb(5,"h5"),c.Oc(6),c.kc(7,"translate"),c.kc(8,"date"),c.kc(9,"date"),c.Wb(),c.Xb(10,"h5",1),c.Oc(11),c.kc(12,"translate"),c.kc(13,"date"),c.kc(14,"date"),c.kc(15,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"mat-dialog-content",2),c.Xb(17,"div",3),c.Xb(18,"button",4),c.fc("click",function(){return e.dialogRef.close(!1)}),c.Xb(19,"mat-icon"),c.Oc(20,"cancel"),c.Wb(),c.Oc(21),c.kc(22,"translate"),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Eb(1),c.Pc(e.data.title),c.Eb(2),c.pc("@animate",c.vc(35,f,c.uc(34,p))),c.Eb(3),c.Uc("",c.lc(7,14,"Creado")," ",c.mc(8,16,e.data.payload.fcreacion,"dd/MM/yyyy ' a las ' HH:mm")," ",c.mc(9,19,e.data.payload.fCreacion,"dd/MM/yyyy ' a las ' HH:mm")," por ",e.data.payload.soperadorcreacion," ",e.data.payload.sOperadorCreacion,""),c.Eb(5),c.Vc("",c.lc(12,22,"Modificado")," ",c.mc(13,24,e.data.payload.fmodificacion,"dd/MM/yyyy ' a las ' HH:mm"),"",c.mc(14,27,e.data.payload.fModificacion,"dd/MM/yyyy ' a las ' HH:mm")," ",c.lc(15,30,"por")," ",e.data.payload.soperadormodificacion," ",e.data.payload.sOperadorModificacion,""),c.Eb(10),c.Pc(c.lc(22,32,"Cancelar")))},directives:[n.g,n.d,r.a,r.b,i.c,i.b,i.a,s.b,l.a],pipes:[u.c,d.f],styles:[""],data:{animation:[o.a]}}),t})()},BxcV:function(t,e,a){"use strict";a.d(e,"a",function(){return E});var n=a("SVse"),o=a("u9T3"),c=a("s7LF"),r=a("Dxy4"),i=a("PDjf"),s=a("f44v"),l=a("TN/R"),u=a("iELJ"),d=a("Tj54"),p=a("e6WT"),f=a("ZTz/"),b=a("jMqV"),m=a("zHaW"),h=a("M9ds"),g=a("ZFy/"),v=a("TSSN"),y=a("w9WL"),x=a("PCNd"),w=a("8Y7J");let E=(()=>{class t{}return t.\u0275mod=w.Pb({type:t}),t.\u0275inj=w.Ob({factory:function(e){return new(e||t)},imports:[[n.c,c.s,o.a,y.f,p.c,p.c,i.c,p.c,r.c,s.a,p.c,g.b,u.e,m.b,b.b,h.c,f.b,d.b,v.b,x.a,l.c]]}),t})()},IAdc:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=a("Kqap"),o=a("BFxc"),c=a("xbPD"),r=a("mCNh");function i(t,e,a){return 0===a?[e]:(t.push(e),t)}function s(){return function(t,e){return arguments.length>=2?function(a){return Object(r.a)(Object(n.a)(t,e),Object(o.a)(1),Object(c.a)(e))(a)}:function(e){return Object(r.a)(Object(n.a)((e,a,n)=>t(e,a,n+1)),Object(o.a)(1))(e)}}(i,[])}},Iab2:function(t,e,a){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){r(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(t,c,r){var i=o.URL||o.webkitURL,s=document.createElement("a");s.download=c=c||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?n(s):a(s.href)?e(t,c,r):n(s,s.target="_blank")):(s.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(s.href)},4e4),setTimeout(function(){n(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,c){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,c),o);else if(a(t))e(t,o,c);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){n(r)})}}:function(t,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var i="application/octet-stream"===t.type,s=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s||c)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});o.saveAs=r.saveAs=r,t.exports=r})?n.apply(e,[]):n)||(t.exports=o)},UVsP:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var n=a("AytR"),o=a("HDdC"),c=a("cp0P"),r=a("8Y7J"),i=a("IheW");let s=(()=>{class t{constructor(t){this.http=t}obtenerDatos(t=!1,e=!1,a=!1){return new o.a(o=>{let r=n.a.apiURL+"Sucursales/SucursalesPorOperador";a&&(r=n.a.apiURL+'Sucursales/?filter={"where":{"deletedon":{"eq":null}}}');var i=[this.http.get(encodeURI(r))];t&&i.push(this.http.get(encodeURI(n.a.apiURL+'PuntosVenta/?filter={"where":{"deletedon":{"eq":null}}}'))),Object(c.a)(i).subscribe(n=>{var c=n[0];if(c=c.map((t,e,a)=>({bactivo:"T"==t.bactivo,nombre:t.sdescripcion,id:t.idsucursal,idsucursal:t.idsucursal,puntosventas:new Array})),e&&(c=c.filter(t=>t.bactivo)),c.sort((t,e)=>t.nombre>e.nombre?1:t.nombre<e.nombre?-1:0),c.splice(0,0,{nombre:"TODAS",id:"",puntosventas:new Array}),t){var r=n[1];e&&(r=r.filter(t=>"T"==t.bactivo));for(var i=0;i<r.length;i++){1!=c.length&&-1==c[0].puntosventas.indexOf(r[i])&&c[0].puntosventas.push(r[i].idpv);for(var s=1;s<c.length;s++)r[i].idsucursal==c[s].idsucursal&&-1==c[s].puntosventas.indexOf(r[i].idpv)&&c[s].puntosventas.push(r[i].idpv)}for(i=0;i<c.length;i++)c[i].puntosventasstr=c[i].puntosventas.join()}a||2!=c.length||c.shift(),o.next(c),o.complete()},t=>o.error(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bPAe:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a("Iab2"),o=a("EUZL"),c=a("8Y7J");let r=(()=>{class t{constructor(){this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}exportExcel(t,e,a){const n=o.utils.json_to_sheet(t),c=o.write({Sheets:{[a]:n},SheetNames:[a]},{bookType:"xlsx",type:"array"});this.saveExcelFile(c,e)}saveExcelFile(t,e){const a=new Blob([t],{type:this.fileType});n.saveAs(a,e+this.fileExtension)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qA6C:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a("AytR"),o=a("8Y7J"),c=a("IheW");let r=(()=>{class t{constructor(t){this.http=t,this.listaProductos=[]}obtenerDatos(t,e,a,o){return this.http.get(encodeURI(`${n.a.apiURL}Productos?filter={"where":${t},"limit":${e},"skip":${a},"order":"${o}"}`))}traerProductosPagina(t,e,a,o){this.http.get(encodeURI(`${n.a.apiURL}Productos?filter={"limit":${t},"skip":${e},"order":"${a}"}`)).subscribe(n=>{n.length>0?(this.listaProductos=this.listaProductos.concat(n),this.traerProductosPagina(t,e+t,a,o)):o()})}traerProductos(t,e){this.listaProductos.length=0,this.traerProductosPagina(2e4,0,t,e)}obtenerFamilias(){return this.http.get(encodeURI(n.a.apiURL+'Familias?filter={"where":{"deletedon":{"eq":null}}}'))}obtenerProveedores(){return this.http.get(encodeURI(n.a.apiURL+'Proveedores?filter={"where":{"deletedon":{"eq":null}}}'))}obtenerCount(t){return this.http.get(encodeURI(`${n.a.apiURL}Productos/count?where=${t}`))}actualizarProducto(t){return this.http.put(`${n.a.apiURL}Productos/${t.id}`,t)}agregarProducto(t){return this.http.post(n.a.apiURL+"Productos",t)}obtenerEmpresas(){return this.http.get(n.a.apiURL+"Empresas")}}return t.\u0275fac=function(e){return new(e||t)(o.bc(c.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},rGvg:function(t,e,a){"use strict";a.d(e,"a",function(){return R});var n=a("iELJ"),o=a("bPAe"),c=a("wd/R"),r=a("GmJt"),i=a("8Y7J"),s=a("PDjf"),l=a("w9WL"),u=a("SVse"),d=a("VDRc"),p=a("Dxy4"),f=a("Tj54"),b=a("TSSN");function m(t,e){if(1&t&&(i.Oc(0),i.kc(1,"date")),2&t){const t=e.row;i.Qc(" ",i.mc(1,1,null==t?null:t.Fecha,"dd/MM/yyyy HH:mm:ss")," ")}}function h(t,e){if(1&t&&i.Oc(0),2&t){const t=e.row;i.Qc(" ",null==t?null:t.Descripcion," ")}}function g(t,e){if(1&t&&(i.Oc(0),i.kc(1,"number")),2&t){const t=e.row;i.Qc(" ",i.lc(1,1,null==t?null:t.Cantidad)," ")}}function v(t,e){if(1&t&&i.Oc(0),2&t){const t=e.row;i.Qc(" ",null==t?null:t.Operador," ")}}function y(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",12),i.fc("click",function(){return i.Dc(t),i.jc(3).export()}),i.Xb(1,"mat-icon"),i.Oc(2,"save_alt"),i.Wb(),i.Oc(3),i.kc(4,"translate"),i.Wb()}2&t&&(i.Eb(3),i.Pc(i.lc(4,1,"SALES.EXCEL")))}function x(t,e){if(1&t&&(i.Xb(0,"div",10),i.Mc(1,y,5,3,"button",11),i.Wb()),2&t){const t=i.jc(2);i.Eb(1),i.pc("ngIf",t.data.historialstock.length>0)}}function w(t,e){1&t&&(i.Xb(0,"ngx-datatable-footer"),i.Mc(1,x,2,1,"ng-template",9),i.Wb())}const E=function(){return{y:"50px",delay:"300ms"}},k=function(t){return{value:"*",params:t}};let R=(()=>{class t{constructor(t,e,a,n){this.data=t,this.dialogRef=e,this.servicioExportarExcel=a,this.cdRef=n,this.page={count:0,offset:0,limit:10}}ngOnInit(){}ngAfterViewChecked(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}export(){var t=this.data.historialstock.map(t=>({Fecha:c(t.Fecha).format("DD/MM/YYYY HH:mm:ss"),Descripci\u00f3n:t.Descripcion,Cantidad:t.Cantidad,Operador:t.Operador}));this.servicioExportarExcel.exportExcel(t,"historial_stock_"+this.data.payload.sProducto,"historial_stock")}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(n.a),i.Rb(n.f),i.Rb(o.a),i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-products-popup"]],decls:32,vars:42,consts:[["matDialogTitle",""],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","selectionType"],[3,"name","width"],["ngx-datatable-cell-template",""],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["ngx-datatable-footer-template",""],[1,"p-8",2,"margin-left","auto"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-8",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"h1",0),i.Oc(1),i.Wb(),i.Xb(2,"mat-dialog-content"),i.Xb(3,"mat-card"),i.Xb(4,"mat-card-content"),i.Xb(5,"h5"),i.Oc(6),i.Wb(),i.Xb(7,"h5"),i.Oc(8),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"mat-card",1),i.Xb(10,"mat-card-content",1),i.Xb(11,"ngx-datatable",2),i.Xb(12,"ngx-datatable-column",3),i.kc(13,"translate"),i.Mc(14,m,2,4,"ng-template",4),i.Wb(),i.Xb(15,"ngx-datatable-column",3),i.kc(16,"translate"),i.Mc(17,h,1,1,"ng-template",4),i.Wb(),i.Xb(18,"ngx-datatable-column",3),i.kc(19,"translate"),i.Mc(20,g,2,3,"ng-template",4),i.Wb(),i.Xb(21,"ngx-datatable-column",3),i.kc(22,"translate"),i.Mc(23,v,1,1,"ng-template",4),i.Wb(),i.Mc(24,w,2,0,"ngx-datatable-footer",5),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(25,"mat-dialog-content",6),i.Xb(26,"div",7),i.Xb(27,"button",8),i.fc("click",function(){return e.dialogRef.close(!1)}),i.Xb(28,"mat-icon"),i.Oc(29,"cancel"),i.Wb(),i.Oc(30),i.kc(31,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.Rc("",e.data.title,": ",e.data.payload.sProducto,""),i.Eb(2),i.pc("@animate",i.vc(37,k,i.uc(36,E))),i.Eb(3),i.Qc("Dep\xf3sito: ",e.data.payload.sDeposito,""),i.Eb(2),i.Qc("Stock: ",e.data.payload.rStock,""),i.Eb(1),i.pc("@animate",i.vc(40,k,i.uc(39,E))),i.Eb(2),i.pc("rows",e.data.historialstock)("columnMode","force")("headerHeight",50)("footerHeight",100)("scrollbarH",!0)("rowHeight",50)("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit)("selectionType","single"),i.Eb(1),i.qc("name",i.lc(13,26,"Fecha")),i.pc("width",150),i.Eb(3),i.qc("name",i.lc(16,28,"Descripci\xf3n")),i.pc("width",150),i.Eb(3),i.qc("name",i.lc(19,30,"Cantidad")),i.pc("width",150),i.Eb(3),i.qc("name",i.lc(22,32,"Operador")),i.pc("width",150),i.Eb(3),i.pc("ngIf",e.data.historialstock.length>0),i.Eb(6),i.Pc(i.lc(31,34,"Cancelar")))},directives:[n.g,n.d,s.a,s.b,l.d,l.b,l.a,u.o,d.c,d.b,d.a,p.b,f.a,l.e,l.c],pipes:[b.c,u.f,u.g],styles:[""],data:{animation:[r.a]}}),t})()},vpPe:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var n=a("8Y7J");let o=(()=>{class t{constructor(){}generateUUID(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:3&a|8).toString(16)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);