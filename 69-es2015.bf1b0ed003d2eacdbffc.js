(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{WDA5:function(e,t,a){"use strict";a.r(t),a.d(t,"TicketSettingsModule",function(){return G});var i=a("SVse"),s=a("3sEA"),n=a("O/+5"),c=a("8Y7J"),o=a("zHaW"),r=a("PDjf"),l=a("Dxy4"),b=a("Tj54"),d=a("s7LF"),h=a("Q2Ze"),p=a("e6WT"),m=a("iELJ"),g=a("TSSN");const u=[{path:"",component:(()=>{class e{constructor(e,t,a){this.servicioTicket=e,this.loader=t,this.snack=a,this.encabezado1="",this.encabezado2="",this.pie="",this.pie2="",this.pie3="",this.mostrarEliminar=!1,this.fileName="",this.formCancelar=function(){this.cargarlogo("canvaslogo",this.empresas.slogo),this.empresas.sencabezado1&&(this.encabezado1=this.empresas.sencabezado1),this.empresas.sencabezado2&&(this.encabezado2=this.empresas.sencabezado2),this.empresas.spie&&(this.pie=this.empresas.spie),this.empresas.spie2&&(this.pie2=this.empresas.spie2),this.empresas.spie3&&(this.pie3=this.empresas.spie3)}}ngOnInit(){this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(e=>{this.empresas=e[0],this.cargarlogo("canvaslogo",this.empresas.slogo),this.empresas.sencabezado1&&(this.encabezado1=this.empresas.sencabezado1),this.empresas.sencabezado2&&(this.encabezado2=this.empresas.sencabezado2),this.empresas.spie&&(this.pie=this.empresas.spie),this.empresas.spie2&&(this.pie2=this.empresas.spie2),this.empresas.spie3&&(this.pie3=this.empresas.spie3),this.loader.close()},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}formGuardar(){this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(e=>{this.empresas=e[0];var t=document.getElementById("canvaslogo"),a={};Object.assign(a,this.empresas),a.slogo=0!=t.width&&0!=t.height?t.toDataURL():null,a.sencabezado1=this.encabezado1,a.sencabezado2=this.encabezado2,a.spie=this.pie,a.spie2=this.pie2,a.spie3=this.pie3,this.servicioTicket.actualizarEmpresa(a).subscribe(e=>{this.loader.close(),this.snack.open("\xa1Configuraci\xf3n Guardada!","OK",{duration:4e3})},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})},e=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}formEliminar(){var e=document.getElementById("canvaslogo");e.width=0,e.height=0,this.mostrarEliminar=!1}cargarlogo(e,t){this.mostrarEliminar=t;var a=document.getElementById(e),i=a.getContext("2d");if(a.width=0,a.height=0,t){var s=new Image;s.onload=function(){a.width=s.width,a.height=s.height,i.drawImage(s,0,0)},s.src=t}}fileExist(e){const t=e.target.files[0];t&&(this.fileName=t.name)}submitLogo(e,t,a){var i=document.getElementById(e),s=i.getContext("2d"),n=document.getElementById(t).files[0];if(null!=n){this.mostrarEliminar=!0;var c=new FileReader;c.onload=e=>{var t=new Image;t.onload=()=>{i.width=t.width,i.height=t.height,s.drawImage(t,0,0);for(var e=s.getImageData(0,0,i.width,i.height),a=0;a<e.data.length;a+=4){var n=Math.round(.3*e.data[a]+.59*e.data[a+1]+.11*e.data[a+2])<127?0:255;e.data[a+3]<255&&(n=e.data[a+3]<127?255:0,e.data[a+3]=255),e.data[a]=n,e.data[a+1]=n,e.data[a+2]=n}s.putImageData(e,0,0,0,0,e.width,e.height)},t.src=e.target.result,this.fileName=""},c.readAsDataURL(n)}}}return e.\u0275fac=function(t){return new(t||e)(c.Rb(n.a),c.Rb(s.a),c.Rb(o.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-ticket-settings"]],decls:62,vars:41,consts:[["mat-button","","color","warn","type","button",3,"click"],["id","canvaslogo",1,"m-16"],[3,"hidden"],["type","file","id","inputlogo","accept","image/x-png",3,"change"],["fileUpload",""],["mat-raised-button","","color","primary",1,"m-8",3,"click"],["mat-raised-button","","type","submit","color","primary","value","Upload Image","name","submit",1,"mb-16",3,"click"],[1,"full-width"],["matInput","","maxlength","50","placeholder","Encabezado 1",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Encabezado 2",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 1",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 2",3,"ngModel","ngModelChange"],["matInput","","maxlength","50","placeholder","Pie 3",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){if(1&e){const e=c.Yb();c.Xb(0,"mat-card"),c.Xb(1,"mat-card-content"),c.Xb(2,"p"),c.Oc(3),c.kc(4,"translate"),c.Wb(),c.Xb(5,"p"),c.Oc(6),c.kc(7,"translate"),c.Xb(8,"strong"),c.Oc(9),c.kc(10,"translate"),c.Wb(),c.Oc(11),c.kc(12,"translate"),c.Xb(13,"strong"),c.Oc(14),c.kc(15,"translate"),c.Wb(),c.Oc(16,". "),c.Wb(),c.Wb(),c.Xb(17,"mat-card-content"),c.Xb(18,"button",0),c.fc("click",function(){return t.formEliminar()}),c.Xb(19,"mat-icon"),c.Oc(20,"delete"),c.Wb(),c.Oc(21),c.kc(22,"translate"),c.Wb(),c.Sb(23,"br"),c.Sb(24,"canvas",1),c.Xb(25,"form"),c.Xb(26,"div",2),c.Xb(27,"input",3,4),c.fc("change",function(e){return t.fileExist(e)}),c.Wb(),c.Wb(),c.Xb(29,"div",2),c.Oc(30),c.kc(31,"translate"),c.Xb(32,"button",5),c.fc("click",function(){return c.Dc(e),c.Ac(28).click()}),c.Xb(33,"mat-icon"),c.Oc(34,"attach_file"),c.Wb(),c.Oc(35),c.kc(36,"translate"),c.Wb(),c.Wb(),c.Xb(37,"div",2),c.Oc(38),c.kc(39,"translate"),c.Xb(40,"button",6),c.fc("click",function(){return t.submitLogo("canvaslogo","inputlogo","logo")}),c.Xb(41,"mat-icon"),c.Oc(42,"cloud_upload"),c.Wb(),c.Oc(43),c.kc(44,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(45,"mat-card-content"),c.Xb(46,"mat-form-field",7),c.Xb(47,"input",8),c.fc("ngModelChange",function(e){return t.encabezado1=e}),c.Wb(),c.Wb(),c.Xb(48,"mat-form-field",7),c.Xb(49,"input",9),c.fc("ngModelChange",function(e){return t.encabezado2=e}),c.Wb(),c.Wb(),c.Xb(50,"mat-form-field",7),c.Xb(51,"input",10),c.fc("ngModelChange",function(e){return t.pie=e}),c.Wb(),c.Wb(),c.Xb(52,"mat-form-field",7),c.Xb(53,"input",11),c.fc("ngModelChange",function(e){return t.pie2=e}),c.Wb(),c.Wb(),c.Xb(54,"mat-form-field",7),c.Xb(55,"input",12),c.fc("ngModelChange",function(e){return t.pie3=e}),c.Wb(),c.Wb(),c.Xb(56,"mat-dialog-content"),c.Xb(57,"button",13),c.fc("click",function(){return t.formGuardar()}),c.Xb(58,"mat-icon"),c.Oc(59,"save"),c.Wb(),c.Oc(60),c.kc(61,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}2&e&&(c.Eb(3),c.Pc(c.lc(4,19,"TICKETSSETTINGSCOMPONENT.PARRAF1")),c.Eb(3),c.Qc("",c.lc(7,21,"TICKETSSETTINGSCOMPONENT.PARRAF2")," "),c.Eb(3),c.Qc("",c.lc(10,23,"TICKETSSETTINGSCOMPONENT.PARRAF3")," "),c.Eb(2),c.Qc(" ",c.lc(12,25,"TICKETSSETTINGSCOMPONENT.PARRAF4")," "),c.Eb(3),c.Pc(c.lc(15,27,"TICKETSSETTINGSCOMPONENT.PARRAF5")),c.Eb(7),c.Qc("",c.lc(22,29,"TICKETSSETTINGSCOMPONENT.DELETELOGO")," "),c.Eb(5),c.pc("hidden",!0),c.Eb(3),c.pc("hidden",t.fileName),c.Eb(1),c.Qc(" ",c.lc(31,31,t.fileName||"TICKETSSETTINGSCOMPONENT.NOFILEUPLOADEDYET.")," "),c.Eb(5),c.Qc("",c.lc(36,33,"TICKETSSETTINGSCOMPONENT.UPLOADIMAGE")," "),c.Eb(2),c.pc("hidden",!t.fileName),c.Eb(1),c.Qc(" ",c.lc(39,35,t.fileName||"TICKETSSETTINGSCOMPONENT.NOFILEUPLOADEDYET.")," "),c.Eb(5),c.Qc("",c.lc(44,37,"TICKETSSETTINGSCOMPONENT.UPLOAD")," "),c.Eb(4),c.pc("ngModel",t.encabezado1),c.Eb(2),c.pc("ngModel",t.encabezado2),c.Eb(2),c.pc("ngModel",t.pie),c.Eb(2),c.pc("ngModel",t.pie2),c.Eb(2),c.pc("ngModel",t.pie3),c.Eb(5),c.Qc("",c.lc(61,39,"TICKETSSETTINGSCOMPONENT.SAVE")," "))},directives:[r.a,r.b,l.b,b.a,d.w,d.p,d.q,h.c,p.b,d.c,d.k,d.o,d.r,m.e],pipes:[g.c],styles:[""]}),e})(),data:{title:"TICKETS CONFIGURACION"}}];var E=a("iInd"),f=a("u9T3"),T=a("pMoy"),O=a("f44v"),I=a("TN/R"),N=a("40+f"),C=a("SqCe"),S=a("rJgo"),M=a("BTe0"),W=a("zQhy"),k=a("ZTz/"),X=a("jMqV"),v=a("M9ds"),z=a("ZFy/"),P=a("w9WL"),R=a("aYsj"),w=a("PCNd"),A=a("hrfs"),y=a("pYyI");let G=(()=>{class e{}return e.\u0275mod=c.Pb({type:e}),e.\u0275inj=c.Ob({factory:function(t){return new(t||e)},imports:[[i.c,d.t,f.a,P.f,p.c,p.c,r.c,p.c,l.c,O.a,p.c,z.b,m.f,o.b,X.b,v.c,k.b,b.b,g.b,w.a,I.g,d.j,C.b,S.c,N.b,T.b,W.c,M.b,A.a,y.a,R.a,E.k.forChild(u)]]}),e})()}}]);