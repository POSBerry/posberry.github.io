!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var n=0;n<a.length;n++){var e=a[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"Ap+n":function(a,e,c){"use strict";c.d(e,"a",function(){return m});var o=c("iELJ"),r=c("GmJt"),i=c("8Y7J"),u=c("PDjf"),s=c("VDRc"),l=c("Dxy4"),d=c("Tj54"),f=c("TSSN"),b=c("SVse"),p=function(){return{y:"50px",delay:"300ms"}},h=function(t){return{value:"*",params:t}},m=function(){var a=function(){function a(n,e){t(this,a),this.data=n,this.dialogRef=e}return n(a,[{key:"ngOnInit",value:function(){}}]),a}();return a.\u0275fac=function(t){return new(t||a)(i.Rb(o.a),i.Rb(o.f))},a.\u0275cmp=i.Lb({type:a,selectors:[["app-user-info-popup"]],decls:23,vars:37,consts:[["matDialogTitle",""],["ng-if","data.payload.fModificacion"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,a){1&t&&(i.Xb(0,"h1",0),i.Oc(1),i.Wb(),i.Xb(2,"mat-dialog-content"),i.Xb(3,"mat-card"),i.Xb(4,"mat-card-content"),i.Xb(5,"h5"),i.Oc(6),i.kc(7,"translate"),i.kc(8,"date"),i.kc(9,"date"),i.Wb(),i.Xb(10,"h5",1),i.Oc(11),i.kc(12,"translate"),i.kc(13,"date"),i.kc(14,"date"),i.kc(15,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"mat-dialog-content",2),i.Xb(17,"div",3),i.Xb(18,"button",4),i.fc("click",function(){return a.dialogRef.close(!1)}),i.Xb(19,"mat-icon"),i.Oc(20,"cancel"),i.Wb(),i.Oc(21),i.kc(22,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.Pc(a.data.title),i.Eb(2),i.pc("@animate",i.vc(35,h,i.uc(34,p))),i.Eb(3),i.Uc("",i.lc(7,14,"Creado")," ",i.mc(8,16,a.data.payload.fcreacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.mc(9,19,a.data.payload.fCreacion,"dd/MM/yyyy ' a las ' HH:mm")," por ",a.data.payload.soperadorcreacion," ",a.data.payload.sOperadorCreacion,""),i.Eb(5),i.Vc("",i.lc(12,22,"Modificado")," ",i.mc(13,24,a.data.payload.fmodificacion,"dd/MM/yyyy ' a las ' HH:mm"),"",i.mc(14,27,a.data.payload.fModificacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.lc(15,30,"por")," ",a.data.payload.soperadormodificacion," ",a.data.payload.sOperadorModificacion,""),i.Eb(10),i.Pc(i.lc(22,32,"Cancelar")))},directives:[o.g,o.d,u.a,u.b,s.c,s.b,s.a,l.b,d.a],pipes:[f.c,b.f],styles:[""],data:{animation:[r.a]}}),a}()},BxcV:function(a,n,e){"use strict";e.d(n,"a",function(){return R});var c=e("SVse"),o=e("u9T3"),r=e("s7LF"),i=e("Dxy4"),u=e("PDjf"),s=e("f44v"),l=e("TN/R"),d=e("iELJ"),f=e("Tj54"),b=e("e6WT"),p=e("ZTz/"),h=e("jMqV"),m=e("zHaW"),v=e("M9ds"),y=e("ZFy/"),g=e("TSSN"),x=e("w9WL"),k=e("PCNd"),w=e("8Y7J"),R=function(){var a=function a(){t(this,a)};return a.\u0275mod=w.Pb({type:a}),a.\u0275inj=w.Ob({factory:function(t){return new(t||a)},imports:[[c.c,r.s,o.a,x.f,b.c,b.c,u.c,b.c,i.c,s.a,b.c,y.b,d.e,m.b,h.b,v.c,p.b,f.b,g.b,k.a,l.c]]}),a}()},IAdc:function(t,a,n){"use strict";n.d(a,"a",function(){return u});var e=n("Kqap"),c=n("BFxc"),o=n("xbPD"),r=n("mCNh");function i(t,a,n){return 0===n?[a]:(t.push(a),t)}function u(){return function(t,a){return arguments.length>=2?function(n){return Object(r.a)(Object(e.a)(t,a),Object(c.a)(1),Object(o.a)(a))(n)}:function(a){return Object(r.a)(Object(e.a)(function(a,n,e){return t(a,n,e+1)}),Object(c.a)(1))(a)}}(i,[])}},UVsP:function(a,e,c){"use strict";c.d(e,"a",function(){return l});var o=c("AytR"),r=c("HDdC"),i=c("cp0P"),u=c("8Y7J"),s=c("IheW"),l=function(){var a=function(){function a(n){t(this,a),this.http=n}return n(a,[{key:"obtenerDatos",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new r.a(function(c){var r=o.a.apiURL+"Sucursales/SucursalesPorOperador";e&&(r=o.a.apiURL+'Sucursales/?filter={"where":{"deletedon":{"eq":null}}}');var u=[t.http.get(encodeURI(r))];a&&u.push(t.http.get(encodeURI(o.a.apiURL+'PuntosVenta/?filter={"where":{"deletedon":{"eq":null}}}'))),Object(i.a)(u).subscribe(function(t){var o=t[0];if(o=o.map(function(t,a,n){return{bactivo:"T"==t.bactivo,nombre:t.sdescripcion,id:t.idsucursal,idsucursal:t.idsucursal,puntosventas:new Array}}),n&&(o=o.filter(function(t){return t.bactivo})),o.sort(function(t,a){return t.nombre>a.nombre?1:t.nombre<a.nombre?-1:0}),o.splice(0,0,{nombre:"TODAS",id:"",puntosventas:new Array}),a){var r=t[1];n&&(r=r.filter(function(t){return"T"==t.bactivo}));for(var i=0;i<r.length;i++){1!=o.length&&-1==o[0].puntosventas.indexOf(r[i])&&o[0].puntosventas.push(r[i].idpv);for(var u=1;u<o.length;u++)r[i].idsucursal==o[u].idsucursal&&-1==o[u].puntosventas.indexOf(r[i].idpv)&&o[u].puntosventas.push(r[i].idpv)}for(i=0;i<o.length;i++)o[i].puntosventasstr=o[i].puntosventas.join()}e||2!=o.length||o.shift(),c.next(o),c.complete()},function(t){return c.error(t)})})}}]),a}();return a.\u0275fac=function(t){return new(t||a)(u.bc(s.c))},a.\u0275prov=u.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},qA6C:function(a,e,c){"use strict";c.d(e,"a",function(){return u});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),u=function(){var a=function(){function a(n){t(this,a),this.http=n,this.listaProductos=[]}return n(a,[{key:"obtenerDatos",value:function(t,a,n,e){return this.http.get(encodeURI("".concat(o.a.apiURL,'Productos?filter={"where":').concat(t,',"limit":').concat(a,',"skip":').concat(n,',"order":"').concat(e,'"}')))}},{key:"traerProductosPagina",value:function(t,a,n,e){var c=this;this.http.get(encodeURI("".concat(o.a.apiURL,'Productos?filter={"limit":').concat(t,',"skip":').concat(a,',"order":"').concat(n,'"}'))).subscribe(function(o){o.length>0?(c.listaProductos=c.listaProductos.concat(o),c.traerProductosPagina(t,a+t,n,e)):e()})}},{key:"traerProductos",value:function(t,a){this.listaProductos.length=0,this.traerProductosPagina(2e4,0,t,a)}},{key:"obtenerFamilias",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Familias?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerProveedores",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Proveedores?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(o.a.apiURL,"Productos/count?where=").concat(t)))}},{key:"actualizarProducto",value:function(t){return this.http.put("".concat(o.a.apiURL,"Productos/").concat(t.id),t)}},{key:"agregarProducto",value:function(t){return this.http.post(o.a.apiURL+"Productos",t)}},{key:"obtenerEmpresas",value:function(){return this.http.get(o.a.apiURL+"Empresas")}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},rGvg:function(a,e,c){"use strict";c.d(e,"a",function(){return E});var o=c("iELJ"),r=c("bPAe"),i=c("wd/R"),u=c("GmJt"),s=c("8Y7J"),l=c("PDjf"),d=c("w9WL"),f=c("SVse"),b=c("VDRc"),p=c("Dxy4"),h=c("Tj54"),m=c("TSSN");function v(t,a){if(1&t&&(s.Oc(0),s.kc(1,"date")),2&t){var n=a.row;s.Qc(" ",s.mc(1,1,null==n?null:n.Fecha,"dd/MM/yyyy HH:mm:ss")," ")}}function y(t,a){if(1&t&&s.Oc(0),2&t){var n=a.row;s.Qc(" ",null==n?null:n.Descripcion," ")}}function g(t,a){if(1&t&&(s.Oc(0),s.kc(1,"number")),2&t){var n=a.row;s.Qc(" ",s.lc(1,1,null==n?null:n.Cantidad)," ")}}function x(t,a){if(1&t&&s.Oc(0),2&t){var n=a.row;s.Qc(" ",null==n?null:n.Operador," ")}}function k(t,a){if(1&t){var n=s.Yb();s.Xb(0,"button",12),s.fc("click",function(){return s.Dc(n),s.jc(3).export()}),s.Xb(1,"mat-icon"),s.Oc(2,"save_alt"),s.Wb(),s.Oc(3),s.kc(4,"translate"),s.Wb()}2&t&&(s.Eb(3),s.Pc(s.lc(4,1,"SALES.EXCEL")))}function w(t,a){if(1&t&&(s.Xb(0,"div",10),s.Mc(1,k,5,3,"button",11),s.Wb()),2&t){var n=s.jc(2);s.Eb(1),s.pc("ngIf",n.data.historialstock.length>0)}}function R(t,a){1&t&&(s.Xb(0,"ngx-datatable-footer"),s.Mc(1,w,2,1,"ng-template",9),s.Wb())}var D=function(){return{y:"50px",delay:"300ms"}},P=function(t){return{value:"*",params:t}},E=function(){var a=function(){function a(n,e,c,o){t(this,a),this.data=n,this.dialogRef=e,this.servicioExportarExcel=c,this.cdRef=o,this.page={count:0,offset:0,limit:10}}return n(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}},{key:"export",value:function(){var t=this.data.historialstock.map(function(t){return{Fecha:i(t.Fecha).format("DD/MM/YYYY HH:mm:ss"),"Descripci\xf3n":t.Descripcion,Cantidad:t.Cantidad,Operador:t.Operador}});this.servicioExportarExcel.exportExcel(t,"historial_stock_"+this.data.payload.sProducto,"historial_stock")}}]),a}();return a.\u0275fac=function(t){return new(t||a)(s.Rb(o.a),s.Rb(o.f),s.Rb(r.a),s.Rb(s.h))},a.\u0275cmp=s.Lb({type:a,selectors:[["app-products-popup"]],decls:32,vars:42,consts:[["matDialogTitle",""],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","selectionType"],[3,"name","width"],["ngx-datatable-cell-template",""],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["ngx-datatable-footer-template",""],[1,"p-8",2,"margin-left","auto"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-8",3,"click"]],template:function(t,a){1&t&&(s.Xb(0,"h1",0),s.Oc(1),s.Wb(),s.Xb(2,"mat-dialog-content"),s.Xb(3,"mat-card"),s.Xb(4,"mat-card-content"),s.Xb(5,"h5"),s.Oc(6),s.Wb(),s.Xb(7,"h5"),s.Oc(8),s.Wb(),s.Wb(),s.Wb(),s.Xb(9,"mat-card",1),s.Xb(10,"mat-card-content",1),s.Xb(11,"ngx-datatable",2),s.Xb(12,"ngx-datatable-column",3),s.kc(13,"translate"),s.Mc(14,v,2,4,"ng-template",4),s.Wb(),s.Xb(15,"ngx-datatable-column",3),s.kc(16,"translate"),s.Mc(17,y,1,1,"ng-template",4),s.Wb(),s.Xb(18,"ngx-datatable-column",3),s.kc(19,"translate"),s.Mc(20,g,2,3,"ng-template",4),s.Wb(),s.Xb(21,"ngx-datatable-column",3),s.kc(22,"translate"),s.Mc(23,x,1,1,"ng-template",4),s.Wb(),s.Mc(24,R,2,0,"ngx-datatable-footer",5),s.Wb(),s.Wb(),s.Wb(),s.Wb(),s.Xb(25,"mat-dialog-content",6),s.Xb(26,"div",7),s.Xb(27,"button",8),s.fc("click",function(){return a.dialogRef.close(!1)}),s.Xb(28,"mat-icon"),s.Oc(29,"cancel"),s.Wb(),s.Oc(30),s.kc(31,"translate"),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Eb(1),s.Rc("",a.data.title,": ",a.data.payload.sProducto,""),s.Eb(2),s.pc("@animate",s.vc(37,P,s.uc(36,D))),s.Eb(3),s.Qc("Dep\xf3sito: ",a.data.payload.sDeposito,""),s.Eb(2),s.Qc("Stock: ",a.data.payload.rStock,""),s.Eb(1),s.pc("@animate",s.vc(40,P,s.uc(39,D))),s.Eb(2),s.pc("rows",a.data.historialstock)("columnMode","force")("headerHeight",50)("footerHeight",100)("scrollbarH",!0)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit)("selectionType","single"),s.Eb(1),s.qc("name",s.lc(13,26,"Fecha")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(16,28,"Descripci\xf3n")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(19,30,"Cantidad")),s.pc("width",150),s.Eb(3),s.qc("name",s.lc(22,32,"Operador")),s.pc("width",150),s.Eb(3),s.pc("ngIf",a.data.historialstock.length>0),s.Eb(6),s.Pc(s.lc(31,34,"Cancelar")))},directives:[o.g,o.d,l.a,l.b,d.d,d.b,d.a,f.o,b.c,b.b,b.a,p.b,h.a,d.e,d.c],pipes:[m.c,f.f,f.g],styles:[""],data:{animation:[u.a]}}),a}()},rbHy:function(a,e,c){"use strict";c.d(e,"a",function(){return s});var o=c("AytR"),r=c("cp0P"),i=c("8Y7J"),u=c("IheW"),s=function(){var a=function(){function a(n){t(this,a),this.http=n}return n(a,[{key:"obtenerDatosTabla1",value:function(t,a,n){var e="".concat(o.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a);return n&&(e="".concat(o.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a,"&idsucursal=").concat(n)),this.http.get(encodeURI(e))}},{key:"obtenerDatosTabla2",value:function(t,a,n){var e="".concat(o.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a);return n&&(e="".concat(o.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a,"&idsucursal=").concat(n)),this.http.get(encodeURI(e))}},{key:"obtenerDatosVenta",value:function(t){return Object(r.a)([this.http.get(encodeURI("".concat(o.a.apiURL,"Ventasitems/DetalleDeVentaPorId?idVenta=").concat(t))),this.http.get(encodeURI("".concat(o.a.apiURL,"Ventas/DetalleDeMovCajaVenta?idVenta=").concat(t)))])}}]),a}();return a.\u0275fac=function(t){return new(t||a)(i.bc(u.c))},a.\u0275prov=i.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},vpPe:function(a,e,c){"use strict";c.d(e,"a",function(){return r});var o=c("8Y7J"),r=function(){var a=function(){function a(){t(this,a)}return n(a,[{key:"generateUUID",value:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==a?n:3&n|8).toString(16)})}}]),a}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()}}])}();