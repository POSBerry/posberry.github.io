!function(){function a(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function t(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function n(a,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}function c(a,t,c){return t&&n(a.prototype,t),c&&n(a,c),a}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CHRX:function(n,o,e){"use strict";e.d(o,"a",function(){return i});var r=e("wd/R"),i=function(){function n(){t(this,n),this.sum=[],this.data=[],this.rows=[],this.filter={},this.groups={},this.groupField="",this.secondarySort="",this.sortDir="asc",this.footer={},this.customFilter=function(a){return a}}return c(n,[{key:"setGroup",value:function(a){this.groups[a.name]=!this.groups[a.name],this.filterRows()}},{key:"setData",value:function(a){this.data=a,this.sortData()}},{key:"sortData",value:function(){var a=this;this.data.sort(function(t,n){if(t[a.groupField]==n[a.groupField]){if(a.secondarySort){if(t[a.secondarySort]>n[a.secondarySort])return 1*("desc"===a.sortDir?-1:1);if(t[a.secondarySort]<n[a.secondarySort])return-1*("desc"===a.sortDir?-1:1)}}else{if(t[a.groupField]>n[a.groupField])return 1;if(t[a.groupField]<n[a.groupField])return-1}return 0}),this.filterRows()}},{key:"filterRows",value:function(){var t=this,n=[];n=this.data.filter(function(a){for(var n in t.filter)switch(typeof a[n]){case"number":if(t.filter[n]&&a[n].toString()!==t.filter[n].toString())return!1;break;case"string":if("f"==n.charAt(0).toLowerCase()&&r(a[n]).isValid){if(-1==r(a[n]).format("DD/MM/YYYY HH:mm:ss").indexOf(t.filter[n]))return!1;break}if(-1==a[n].toLowerCase().indexOf(t.filter[n].toLowerCase()))return!1}return!0}),n=this.customFilter(n);var c={};this.groupField?c[this.groupField]=n.length.toString():c.count=n.length.toString(),this.sum.forEach(function(a){return c[a]=0});for(var o=0;o<n.length;o++)this.sum.forEach(function(a){return c[a]+=n[o][a]});if(c.isGroup=!0,this.footer=c,this.groupField){var e=[];n.forEach(function(a){-1==e.indexOf(a[t.groupField])&&e.push(a[t.groupField])}),e=e.map(function(a){return{name:a,count:1}});var i=[],l=!0,d=0,u=null,s=function(){u&&(u[t.groupField]+=" ("+e[d-1].count.toString()+")")};for(o=0;o<n.length;o++){if(l&&n[o][this.groupField]==e[d].name){var f;s();var p="+";this.groups[e[d].name]&&(p="-"),a(f={},this.groupField,p+" "+e[d].name),a(f,"isGroup",!0),a(f,"name",e[d].name),u=f,this.sum.forEach(function(a){return u[a]=0}),i.push(u),l=++d<e.length}else e[d-1].count++;this.sum.forEach(function(a){return u[a]+=n[o][a]}),i.push(n[o])}s(),n=null,i=i.filter(function(a){return!!a.isGroup||!!t.groups[a[t.groupField]]||void 0}),this.rows=i}else this.rows=n;this.rows.push(this.footer),0==this.rows.length&&this.rows.push({})}},{key:"updateFilter",value:function(a,t){a&&t&&(this.filter[t]=a.target.value,this.filterRows())}},{key:"updateFilterBoolean",value:function(a,t){this.filter[t]=a,this.filterRows()}}]),n}()},i59u:function(a,n,o){"use strict";o.d(n,"a",function(){return Q});var e=o("iELJ"),r=o("GmJt"),i=o("wd/R"),l=o("8Y7J"),d=o("SVse"),u=o("PDjf"),s=o("w9WL"),f=o("VDRc"),p=o("Dxy4"),b=o("Tj54"),m=o("ZFy/"),g=o("TSSN");function h(a,t){if(1&a&&(l.Xb(0,"h1",12),l.Oc(1),l.Xb(2,"mat-icon",13),l.Oc(3,"person_pin"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(1),l.Rc("",n.data.payload.idTipoDoc,"-",n.data.payload.Comprobante,""),l.Eb(1),l.pc("matTooltip",n.tooltip)}}function y(a,t){if(1&a&&(l.Xb(0,"h1",12),l.Oc(1),l.Xb(2,"mat-icon",13),l.Oc(3,"person_pin"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(1),l.Sc("",n.data.payload.idtipodoc,"-",0!=n.data.payload.idpvcaea?n.data.payload.idpvcaea.toString().padStart(4,"0"):n.data.payload.idpv.toString().padStart(4,"0"),"-",n.data.payload.idnumdoc.toString().padStart(8,"0"),""),l.Eb(1),l.pc("matTooltip",n.tooltip)}}function v(a,t){if(1&a&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Cliente:")),l.Eb(2),l.Qc(" ",n.data.payload.sRazonSocial,"")}}function w(a,t){if(1&a&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Domicilio:")),l.Eb(2),l.Qc(" ",n.data.payload.sDomicilio,"")}}function E(a,t){if(1&a&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.kc(5,"date"),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Fecha de Carga:")),l.Eb(2),l.Qc(" ",l.mc(5,4,n.data.payload.fCarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function k(a,t){if(1&a&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.kc(5,"date"),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Fecha de Carga:")),l.Eb(2),l.Qc(" ",l.mc(5,4,n.data.payload.fcarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function W(a,t){if(1&a&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2,"CAE:"),l.Wb(),l.Oc(3),l.Wb()),2&a){var n=l.jc();l.Eb(3),l.Qc(" ",n.data.payload.ImpresionCAE,"")}}function X(a,t){if(1&a&&l.Oc(0),2&a){var n=t.row;l.Qc(" ",null==n?null:n.sCodProducto," ")}}function O(a,t){if(1&a&&l.Oc(0),2&a){var n=t.row;l.Qc(" ",null==n?null:n.sProducto," ")}}function M(a,t){if(1&a&&(l.Oc(0),l.kc(1,"number")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rCantidad)," ")}}function D(a,t){if(1&a&&(l.Oc(0),l.kc(1,"currency")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rPrecioU)," ")}}function F(a,t){if(1&a&&(l.Oc(0),l.kc(1,"currency")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rDescuentos)," ")}}function R(a,t){if(1&a&&(l.Oc(0),l.kc(1,"currency")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rTotal)," ")}}function x(a,t){if(1&a&&l.Oc(0),2&a){var n=t.row;l.Qc(" ",null==n?null:n.scondpago," ")}}function H(a,t){if(1&a&&(l.Oc(0),l.kc(1,"currency")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rimporte)," ")}}function T(a,t){if(1&a&&l.Oc(0),2&a){var n=t.row;l.Qc(" ",null==n?null:n.srefpago," ")}}function C(a,t){if(1&a&&(l.Oc(0),l.kc(1,"number")),2&a){var n=t.row;l.Qc(" ",l.lc(1,1,null==n?null:n.icuotas)," ")}}function I(a,t){if(1&a&&(l.Xb(0,"div",14),l.Xb(1,"font",15),l.Oc(2),l.kc(3,"translate"),l.kc(4,"date"),l.kc(5,"translate"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Tc("",l.lc(3,4,"ANULADO el")," ",l.mc(4,6,n.data.payload.fAnulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",l.lc(5,9,"por")," ",n.data.payload.sOperadorAnulacion,"")}}function S(a,t){if(1&a&&(l.Xb(0,"div",14),l.Xb(1,"font",15),l.Oc(2),l.kc(3,"translate"),l.kc(4,"date"),l.kc(5,"translate"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Tc("",l.lc(3,4,"ANULADO el")," ",l.mc(4,6,n.data.payload.fanulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",l.lc(5,9,"por")," ",n.data.payload.soperadoranulacion,"")}}function A(a,t){if(1&a&&(l.Xb(0,"div",10),l.Xb(1,"h3"),l.Oc(2),l.kc(3,"currency"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Qc("Total: ",l.lc(3,1,n.data.payload.rTotBruto),"")}}function V(a,t){if(1&a&&(l.Xb(0,"div",10),l.Xb(1,"h3"),l.Oc(2),l.kc(3,"currency"),l.Wb(),l.Wb()),2&a){var n=l.jc();l.Eb(2),l.Qc("Total: ",l.lc(3,1,n.data.payload.rtotbruto),"")}}var j=function(){return{y:"50px",delay:"300ms"}},L=function(a){return{value:"*",params:a}},Q=function(){var a=function(){function a(n,c,o){t(this,a),this.data=n,this.dialogRef=c,this.cdRef=o,this.page={count:0,offset:0,limit:10};var e=[n.payload.sOperadorCreacion||n.payload.soperadorcreacion],r=[n.payload.sOperadorModificacion||n.payload.soperadormodificacion],l=[n.payload.sOperadorAnulacion||n.payload.soperadoranulacion],d=[n.payload.fModificacion||n.payload.fmodificacion],u=[n.payload.fAnulacion||n.payload.fanulacion],s="T"==n.payload.bAnulado||"T"==n.payload.banulado;this.tooltip="Creado: "+i([n.payload.fCreacion||n.payload.fcreacion]).format("DD/MM/YYYY HH:mm")+" por "+e+", Modificado: "+i(d).format("DD/MM/YYYY HH:mm")+" por "+r,s&&(this.tooltip+=", Anulado: "+i(u).format("DD/MM/YYYY HH:mm")+" por "+l)}return c(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}}]),a}();return a.\u0275fac=function(t){return new(t||a)(l.Rb(e.a),l.Rb(e.f),l.Rb(l.h))},a.\u0275cmp=l.Lb({type:a,selectors:[["app-products-popup"]],decls:59,vars:87,consts:[["matDialogTitle","","align","right",4,"ngIf"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","selectionType"],[3,"name","width"],["ngx-datatable-cell-template",""],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100","class","mt-16",4,"ngIf"],["fxFlex","100","fxLayoutAlign","end","class","mt-16",4,"ngIf"],["fxFlex","100","fxLayoutAlign","end",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["matDialogTitle","","align","right"],[3,"matTooltip"],["fxFlex","100",1,"mt-16"],["color","red"]],template:function(a,t){1&a&&(l.Mc(0,h,4,3,"h1",0),l.Mc(1,y,4,4,"h1",0),l.Xb(2,"mat-dialog-content"),l.Xb(3,"mat-card"),l.Xb(4,"mat-card-content"),l.Mc(5,v,5,4,"p",1),l.Mc(6,w,5,4,"p",1),l.Mc(7,E,6,7,"p",1),l.Mc(8,k,6,7,"p",1),l.Mc(9,W,4,1,"p",1),l.Xb(10,"p",2),l.Oc(11),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"mat-card",3),l.Xb(13,"mat-card-content",3),l.Xb(14,"ngx-datatable",4),l.Xb(15,"ngx-datatable-column",5),l.kc(16,"translate"),l.Mc(17,X,1,1,"ng-template",6),l.Wb(),l.Xb(18,"ngx-datatable-column",5),l.kc(19,"translate"),l.Mc(20,O,1,1,"ng-template",6),l.Wb(),l.Xb(21,"ngx-datatable-column",5),l.kc(22,"translate"),l.Mc(23,M,2,3,"ng-template",6),l.Wb(),l.Xb(24,"ngx-datatable-column",5),l.kc(25,"translate"),l.Mc(26,D,2,3,"ng-template",6),l.Wb(),l.Xb(27,"ngx-datatable-column",5),l.kc(28,"translate"),l.Mc(29,F,2,3,"ng-template",6),l.Wb(),l.Xb(30,"ngx-datatable-column",5),l.kc(31,"translate"),l.Mc(32,R,2,3,"ng-template",6),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(33,"mat-card",3),l.Xb(34,"mat-card-content",3),l.Xb(35,"ngx-datatable",4),l.Xb(36,"ngx-datatable-column",5),l.kc(37,"translate"),l.Mc(38,x,1,1,"ng-template",6),l.Wb(),l.Xb(39,"ngx-datatable-column",5),l.kc(40,"translate"),l.Mc(41,H,2,3,"ng-template",6),l.Wb(),l.Xb(42,"ngx-datatable-column",5),l.kc(43,"translate"),l.Mc(44,T,1,1,"ng-template",6),l.Wb(),l.Xb(45,"ngx-datatable-column",5),l.kc(46,"translate"),l.Mc(47,C,2,3,"ng-template",6),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(48,"mat-dialog-content",7),l.Mc(49,I,6,11,"div",8),l.Mc(50,S,6,11,"div",8),l.Mc(51,A,4,3,"div",9),l.Mc(52,V,4,3,"div",9),l.Xb(53,"div",10),l.Xb(54,"button",11),l.fc("click",function(){return t.dialogRef.close(!1)}),l.Xb(55,"mat-icon"),l.Oc(56,"cancel"),l.Wb(),l.Oc(57),l.kc(58,"translate"),l.Wb(),l.Wb(),l.Wb()),2&a&&(l.pc("ngIf",t.data.payload.idTipoDoc),l.Eb(1),l.pc("ngIf",t.data.payload.idtipodoc),l.Eb(2),l.pc("@animate",l.vc(79,L,l.uc(78,j))),l.Eb(2),l.pc("ngIf",t.data.payload.sRazonSocial),l.Eb(1),l.pc("ngIf",t.data.payload.sDomicilio),l.Eb(1),l.pc("ngIf",t.data.payload.fCarga),l.Eb(1),l.pc("ngIf",t.data.payload.fcarga),l.Eb(1),l.pc("ngIf",t.data.payload.ImpresionCAE),l.Eb(2),l.Pc(t.data.sleyendacaea),l.Eb(1),l.pc("@animate",l.vc(82,L,l.uc(81,j))),l.Eb(2),l.pc("rows",t.data.ventaitems)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("rowHeight",50)("count",t.page.count)("offset",t.page.offset)("limit",t.page.limit)("selectionType","single"),l.Eb(1),l.qc("name",l.lc(16,56,"Codigo")),l.pc("width",200),l.Eb(3),l.qc("name",l.lc(19,58,"Descripci\xf3n")),l.pc("width",500),l.Eb(3),l.qc("name",l.lc(22,60,"Cantidad")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(25,62,"Precio")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(28,64,"Descuentos")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(31,66,"Total")),l.pc("width",150),l.Eb(3),l.pc("@animate",l.vc(85,L,l.uc(84,j))),l.Eb(2),l.pc("rows",t.data.ventamovcaja)("columnMode","standard")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("rowHeight",50)("count",t.page.count)("offset",t.page.offset)("limit",t.page.limit)("selectionType","single"),l.Eb(1),l.qc("name",l.lc(37,68,"Medio de Pago")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(40,70,"Importe")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(43,72,"Referencia")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(46,74,"Cuotas")),l.pc("width",150),l.Eb(4),l.pc("ngIf","T"==t.data.payload.bAnulado),l.Eb(1),l.pc("ngIf","T"==t.data.payload.banulado),l.Eb(1),l.pc("ngIf",t.data.payload.hasOwnProperty("rTotBruto")),l.Eb(1),l.pc("ngIf",t.data.payload.hasOwnProperty("rtotbruto")),l.Eb(5),l.Qc("",l.lc(58,76,"Cancelar")," "))},directives:[d.o,e.d,u.a,u.b,s.d,s.b,s.a,f.c,f.b,f.a,p.b,b.a,e.g,m.a],pipes:[g.c,d.f,d.g,d.d],styles:[""],data:{animation:[r.a]}}),a}()},rbHy:function(a,n,o){"use strict";o.d(n,"a",function(){return d});var e=o("AytR"),r=o("cp0P"),i=o("8Y7J"),l=o("IheW"),d=function(){var a=function(){function a(n){t(this,a),this.http=n}return c(a,[{key:"obtenerDatosTabla1",value:function(a,t,n){var c="".concat(e.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(a,"&fhasta=").concat(t);return n&&(c="".concat(e.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(a,"&fhasta=").concat(t,"&idsucursal=").concat(n)),this.http.get(encodeURI(c))}},{key:"obtenerDatosTabla2",value:function(a,t,n){var c="".concat(e.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(a,"&fhasta=").concat(t);return n&&(c="".concat(e.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(a,"&fhasta=").concat(t,"&idsucursal=").concat(n)),this.http.get(encodeURI(c))}},{key:"obtenerDatosVenta",value:function(a){return Object(r.a)([this.http.get(encodeURI("".concat(e.a.apiURL,"Ventasitems/DetalleDeVentaPorId?idVenta=").concat(a))),this.http.get(encodeURI("".concat(e.a.apiURL,"Ventas/DetalleDeMovCajaVenta?idVenta=").concat(a)))])}}]),a}();return a.\u0275fac=function(t){return new(t||a)(i.bc(l.c))},a.\u0275prov=i.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()}}])}();