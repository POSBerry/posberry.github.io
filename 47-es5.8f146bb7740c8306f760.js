!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"oZ/c":function(t,a,c){"use strict";c.r(a),c.d(a,"CustomerDisplaySettingsModule",function(){return J});var i=c("SVse"),o=c("3sEA"),r=c("vpPe"),s=c("O/+5"),d=c("8Y7J"),p=c("zHaW"),u=c("PDjf"),b=c("TSSN");function l(e,n){if(1&e){var t=d.Yb();d.Xb(0,"mat-card-content"),d.Xb(1,"h4"),d.Oc(2),d.kc(3,"translate"),d.Wb(),d.Sb(4,"img",1),d.Sb(5,"br"),d.Sb(6,"input",2),d.Xb(7,"button",3),d.fc("click",function(){d.Dc(t);var e=n.$implicit;return d.jc().enviarImagen(e.nombre,e.indice)}),d.Oc(8),d.kc(9,"translate"),d.Wb(),d.Wb()}if(2&e){var a=n.$implicit;d.Eb(2),d.Rc("",d.lc(3,5,"CUSTOMERDISPLAY.PICTURE")," ",11==a.indice?"Fondo Promociones":a.indice,""),d.Eb(2),d.qc("src",a.url,d.Fc),d.Eb(2),d.qc("id",a.nombre),d.Eb(2),d.Pc(d.lc(9,7,"CUSTOMERDISPLAY.SEND"))}}var m,f,v=[{path:"",component:(m=function(){function t(n,a,c,i){e(this,t),this.servicioTicket=n,this.loader=a,this.snack=c,this.servicioUUID=i,this.idEmpresa=""}var a,c,i;return a=t,(c=[{key:"ngOnInit",value:function(){var e=this;this.loader.open(),this.servicioTicket.obtenerEmpresas().subscribe(function(n){e.idEmpresa=n[0].id,e.listadoImagenes=[];for(var t=1;t<=11;t++)e.listadoImagenes.push({url:"https://s3.sa-east-1.amazonaws.com/images.posberry.com/".concat(e.idEmpresa,"-").concat(t,".png?")+e.servicioUUID.generateUUID(),indice:t,nombre:"".concat(e.idEmpresa,"-").concat(t)});e.loader.close()},function(n){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}},{key:"enviarImagen",value:function(e,n){!function(e,n){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e,a=[];a.push(encodeURIComponent("image")+"="+encodeURIComponent(t.result)),a.push(encodeURIComponent("name")+"="+encodeURIComponent(n)),e=a.join("&").replace(/%20/g,"+");var c=new XMLHttpRequest;c.withCredentials=!0,c.addEventListener("readystatechange",function(){4===this.readyState&&alert("Imagen enviada. Puede que necesite recargar la p\xe1gina para ver la nueva im\xe1gen en miniatura.")}),c.open("POST","/api/subidas3"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.setRequestHeader("cache-control","no-cache"),c.send(e)},t.onerror=function(e){alert("Error: no se pudo enviar la imagen")}}(document.getElementById(e).files[0],e)}}])&&n(a.prototype,c),i&&n(a,i),t}(),m.\u0275fac=function(e){return new(e||m)(d.Rb(s.a),d.Rb(o.a),d.Rb(p.a),d.Rb(r.a))},m.\u0275cmp=d.Lb({type:m,selectors:[["app-customer-display-settings"]],decls:6,vars:4,consts:[[4,"ngFor","ngForOf"],["width","320","height","auto",3,"src"],["type","file","accept",".png",3,"id"],["type","submit",1,"btn","btn-raised","btn-primary",3,"click"]],template:function(e,n){1&e&&(d.Xb(0,"mat-card"),d.Xb(1,"mat-card-content"),d.Xb(2,"p"),d.Oc(3),d.kc(4,"translate"),d.Wb(),d.Wb(),d.Mc(5,l,10,9,"mat-card-content",0),d.Wb()),2&e&&(d.Eb(3),d.Pc(d.lc(4,2,"CUSTOMERDISPLAY.PARRAF1")),d.Eb(2),d.pc("ngForOf",n.listadoImagenes))},directives:[u.a,u.b,i.n],pipes:[b.c],styles:[""]}),m),data:{title:"CUSTOMER DISPLAY"}}],g=c("iInd"),h=c("u9T3"),y=c("s7LF"),R=c("Dxy4"),E=c("pMoy"),I=c("f44v"),w=c("TN/R"),S=c("iELJ"),T=c("40+f"),C=c("Tj54"),O=c("e6WT"),P=c("SqCe"),U=c("rJgo"),k=c("BTe0"),D=c("zQhy"),L=c("ZTz/"),M=c("jMqV"),j=c("M9ds"),F=c("ZFy/"),W=c("w9WL"),q=c("aYsj"),A=c("PCNd"),Y=c("hrfs"),X=c("pYyI"),J=((f=function n(){e(this,n)}).\u0275mod=d.Pb({type:f}),f.\u0275inj=d.Ob({factory:function(e){return new(e||f)},imports:[[i.c,y.t,h.a,W.f,O.c,O.c,u.c,O.c,R.c,I.a,O.c,F.b,S.f,p.b,M.b,j.c,L.b,C.b,b.b,A.a,w.g,y.j,P.b,U.c,T.b,E.b,D.c,k.b,Y.a,X.a,q.a,g.k.forChild(v)]]}),f)}}])}();