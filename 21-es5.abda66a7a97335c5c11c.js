!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Iab2:function(e,t,o){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function t(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,i){var c=a.URL||a.webkitURL,s=document.createElement("a");s.download=r=r||e.name||"download",s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?n(s):o(s.href)?t(e,r,i):n(s,s.target="_blank")):(s.href=c.createObjectURL(e),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){n(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),a);else if(o(e))t(e,a,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){n(i)})}}:function(e,o,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,o,n);var c="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&s||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var f=a.URL||a.webkitURL,p=f.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});a.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,[]):n)||(e.exports=a)},bPAe:function(t,n,a){"use strict";a.d(n,"a",function(){return s});var r=a("Iab2"),i=a("EUZL"),c=a("8Y7J"),s=function(){var t=function(){function t(){e(this,t),this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}return o(t,[{key:"exportExcel",value:function(e,t,o){var n,a,r,c=i.utils.json_to_sheet(e),s=i.write({Sheets:(n={},a=o,r=c,a in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n),SheetNames:[o]},{bookType:"xlsx",type:"array"});this.saveExcelFile(s,t)}},{key:"saveExcelFile",value:function(e,t){var o=new Blob([e],{type:this.fileType});r.saveAs(o,t+this.fileExtension)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},gaU0:function(t,n,a){"use strict";a.r(n),a.d(n,"StockMovementsTransferenceModule",function(){return ae});var r=a("SVse"),i=a("s7LF"),c=a("GmJt"),s=a("3sEA"),l=a("vpPe"),u=a("cp0P"),f=a("JX91"),p=a("lJxs"),d=a("Sp5M"),b=a("bPAe"),m=a("wyE3"),v=a("qA6C"),h=a("Ao8+"),g=a("UVsP"),x=a("8Y7J"),E=a("zHaW"),w=a("PDjf"),O=a("M9ds"),y=a("Q2Ze"),P=a("VDRc"),k=a("ZTz/"),M=a("e6WT"),T=a("vrAh"),S=a("Dxy4"),C=a("Tj54"),R=a("w9WL"),D=a("UhP/"),W=a("TSSN");function A(e,t){if(1&e&&(x.Xb(0,"mat-option",14),x.Oc(1),x.Wb()),2&e){var o=t.$implicit;x.pc("value",o.iddeposito),x.Eb(1),x.Qc(" ",o.sdescripcion," ")}}function U(e,t){if(1&e&&(x.Xb(0,"mat-option",14),x.Oc(1),x.Wb()),2&e){var o=t.$implicit;x.pc("value",o),x.Eb(1),x.Rc(" ",null==o?null:o.scodproducto," - ",null==o?null:o.snombre," ")}}function X(e,t){if(1&e&&(x.Xb(0,"mat-option",14),x.Oc(1),x.Wb()),2&e){var o=t.$implicit;x.pc("value",o.iddeposito),x.Eb(1),x.Qc(" ",o.sdescripcion," ")}}function j(e,t){if(1&e&&x.Oc(0),2&e){var o=t.row;x.Qc(" ",null==o?null:o.sCodProducto," ")}}function I(e,t){if(1&e&&x.Oc(0),2&e){var o=t.row;x.Qc(" ",null==o?null:o.sProducto," ")}}function L(e,t){if(1&e&&x.Oc(0),2&e){var o=t.row;x.Qc(" ",null==o?null:o.rCantidad," ")}}function N(e,t){1&e&&(x.Xb(0,"input",15),x.fc("ngModelChange",function(e){return t.row.rCantidadAEnviar=e}),x.Wb()),2&e&&x.pc("ngModel",t.row.rCantidadAEnviar)}function F(e,t){if(1&e&&x.Oc(0),2&e){var o=t.row;x.Qc(" ",null==o?null:o.sDeposito," ")}}function _(e,t){if(1&e&&x.Oc(0),2&e){var o=t.row;x.Qc(" ",null==o?null:o.sOperador," ")}}var H,V,q=function(){return{y:"50px",delay:"300ms"}},K=function(e){return{value:"*",params:e}},Q=[{path:"",component:(H=function(){function t(o,n,a,r,c,s,l,u,f){e(this,t),this.servicioExportarExcel=o,this.servicioMovimientoDeStock=n,this.servicioUUID=a,this.snack=r,this.servicioProductos=c,this.servicioEmpresas=s,this.servicioSucursales=l,this.servicioNuevaCompra=u,this.loader=f,this.formDepositoOrigen=new i.e,this.formDepositoDestino=new i.e,this.editorProducto=new i.e(""),this.editorProveedor=new i.e(""),this.detalle=[],this.page={count:0,offset:0,limit:5},this.depositos=[]}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.servicioMovimientoDeStock.obtenerDepositos().subscribe(function(t){e.depositos=t,e.formDepositoOrigen.setValue(e.depositos[0].iddeposito),e.formDepositoDestino.setValue(e.depositos[0].iddeposito)}),this.servicioProductos.traerProductos("snombre ASC",function(){e.productos=e.servicioProductos.listaProductos,Object(u.a)([e.servicioEmpresas.obtenerEmpresas(),e.servicioProductos.obtenerProveedores(),e.servicioNuevaCompra.obtenerImpuestos(),e.servicioNuevaCompra.obtenerSucursales()]).subscribe(function(t){e.empresas=t[0],e.cantidaddecimales=e.empresas[0].icantidaddecimales,e.proveedores=t[1],e.impuestos=t[2],e.sucursales_data=t[3],e.filteredProveedores=e.editorProveedor.valueChanges.pipe(Object(f.a)(""),Object(p.a)(function(t){return e._filterProveedores(t)})),e.filteredProductos=e.editorProducto.valueChanges.pipe(Object(f.a)(""),Object(p.a)(function(t){return e._filterProductos(t)})),e.loader.close()},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}},{key:"displayFnProductos",value:function(e){return e&&e.snombre?e.snombre:""}},{key:"_filterProveedores",value:function(e){if("string"==typeof e){var t=e.toLowerCase();return this.proveedores.filter(function(e){return e.srazonsocial.toLowerCase().includes(t)})}return[]}},{key:"selectedItemChangeProducto",value:function(e){this.form_producto=e}},{key:"_filterProductos",value:function(e){if("string"==typeof e){var t=e.toLowerCase();return this.productos.filter(function(e){return e.snombre.toLowerCase().includes(t)})}return[]}},{key:"eliminarItem",value:function(e){var t=this.tabla1.data.indexOf(e);this.tabla1.data.splice(t,1),this.tabla1.sortData()}},{key:"guardarItem",value:function(){var e=this.tabla1.data.indexOf(this.temp_item);this.tabla1.data[e].idproducto=this.form_producto.id,this.tabla1.data[e].sconcepto=this.form_producto.snombre,this.tabla1.data.push({id:this.servicioUUID.generateUUID(),idproducto:this.form_producto.id,sconcepto:this.form_producto.snombre}),this.temp_item=null}}]),t}(),H.\u0275fac=function(e){return new(e||H)(x.Rb(b.a),x.Rb(h.a),x.Rb(l.a),x.Rb(E.a),x.Rb(v.a),x.Rb(d.a),x.Rb(g.a),x.Rb(m.a),x.Rb(s.a))},H.\u0275cmp=x.Lb({type:H,selectors:[["app-stock-movements-transference"]],decls:55,vars:65,consts:[[1,"p-0"],[3,"label"],["fxFlex","100","appearance","fill",1,"m-8"],["name","depositos",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","50",1,"m-8","graphic-select-form-field"],["type","text","aria-label","Producto","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto2","matAutocomplete"],["mat-button","","color","primary",1,"m-8",3,"click"],["mat-button","","color","primary",1,"m-8"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],[3,"name","flexGrow"],["ngx-datatable-cell-template",""],[3,"value"],["matInput","","placeholder","","type","number","step","any",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(x.Xb(0,"mat-card",0),x.Xb(1,"mat-card-content",0),x.Xb(2,"mat-tab-group"),x.Xb(3,"mat-tab",1),x.kc(4,"translate"),x.Xb(5,"mat-form-field",2),x.Xb(6,"mat-label"),x.Oc(7),x.kc(8,"translate"),x.Wb(),x.Xb(9,"mat-select",3),x.Mc(10,A,2,2,"mat-option",4),x.Wb(),x.Wb(),x.Xb(11,"mat-form-field",5),x.Xb(12,"mat-label"),x.Oc(13),x.kc(14,"translate"),x.Wb(),x.Sb(15,"input",6),x.Xb(16,"mat-autocomplete",7,8),x.fc("optionSelected",function(e){return t.selectedItemChangeProducto(e.option.value)}),x.Mc(18,U,2,3,"mat-option",4),x.kc(19,"async"),x.Wb(),x.Wb(),x.Xb(20,"button",9),x.fc("click",function(){return t.guardarItem()}),x.Xb(21,"mat-icon"),x.Oc(22,"save"),x.Wb(),x.Oc(23),x.kc(24,"translate"),x.Wb(),x.Xb(25,"mat-form-field",2),x.Xb(26,"mat-label"),x.Oc(27),x.kc(28,"translate"),x.Wb(),x.Xb(29,"mat-select",3),x.Mc(30,X,2,2,"mat-option",4),x.Wb(),x.Wb(),x.Xb(31,"button",10),x.Xb(32,"mat-icon"),x.Oc(33,"save"),x.Wb(),x.Oc(34),x.kc(35,"translate"),x.Wb(),x.Xb(36,"ngx-datatable",11),x.Xb(37,"ngx-datatable-column",12),x.kc(38,"translate"),x.Mc(39,j,1,1,"ng-template",13),x.Wb(),x.Xb(40,"ngx-datatable-column",12),x.kc(41,"translate"),x.Mc(42,I,1,1,"ng-template",13),x.Wb(),x.Xb(43,"ngx-datatable-column",12),x.kc(44,"translate"),x.Mc(45,L,1,1,"ng-template",13),x.Wb(),x.Xb(46,"ngx-datatable-column",12),x.kc(47,"translate"),x.Mc(48,N,1,1,"ng-template",13),x.Wb(),x.Xb(49,"ngx-datatable-column",12),x.kc(50,"translate"),x.Mc(51,F,1,1,"ng-template",13),x.Wb(),x.Xb(52,"ngx-datatable-column",12),x.kc(53,"translate"),x.Mc(54,_,1,1,"ng-template",13),x.Wb(),x.Wb(),x.Wb(),x.Wb(),x.Wb(),x.Wb()),2&e){var o=x.Ac(17);x.pc("@animate",x.vc(63,K,x.uc(62,q))),x.Eb(3),x.qc("label",x.lc(4,36,"STOCKMOVEMENTSPOPUP.DETAILS")),x.Eb(4),x.Pc(x.lc(8,38,"Deposito Origen")),x.Eb(2),x.pc("formControl",t.formDepositoOrigen),x.Eb(1),x.pc("ngForOf",t.depositos),x.Eb(3),x.Pc(x.lc(14,40,"NEWPURCHASES.PRODUCT")),x.Eb(2),x.pc("formControl",t.editorProducto)("matAutocomplete",o),x.Eb(1),x.pc("displayWith",t.displayFnProductos),x.Eb(2),x.pc("ngForOf",x.lc(19,42,t.filteredProductos)),x.Eb(5),x.Qc("",x.lc(24,44,"Agregar Producto")," "),x.Eb(4),x.Pc(x.lc(28,46,"Deposito Destino")),x.Eb(2),x.pc("formControl",t.formDepositoDestino),x.Eb(1),x.pc("ngForOf",t.depositos),x.Eb(4),x.Qc("",x.lc(35,48,"Realizar envio")," "),x.Eb(2),x.pc("rows",t.detalle)("columnMode","flex")("headerHeight",50)("footerHeight",t.detalle.length>t.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",t.page.count)("offset",t.page.offset)("limit",t.page.limit),x.Eb(1),x.qc("name",x.lc(38,50,"STOCKMOVEMENTSPOPUP.PRODUCTCODE")),x.pc("flexGrow",1),x.Eb(3),x.qc("name",x.lc(41,52,"STOCKMOVEMENTSPOPUP.PRODUCT")),x.pc("flexGrow",2),x.Eb(3),x.qc("name",x.lc(44,54,"STOCKMOVEMENTSPOPUP.QUANTITY")),x.pc("flexGrow",1),x.Eb(3),x.qc("name",x.lc(47,56,"A Enviar")),x.pc("flexGrow",1),x.Eb(3),x.qc("name",x.lc(50,58,"STOCKMOVEMENTSPOPUP.DEPOSIT")),x.pc("flexGrow",1),x.Eb(3),x.qc("name",x.lc(53,60,"STOCKMOVEMENTSPOPUP.OPERATOR")),x.pc("flexGrow",1)}},directives:[w.a,w.b,O.b,O.a,y.c,P.a,y.f,k.a,i.o,i.f,r.n,M.b,i.c,T.c,T.a,S.b,C.a,R.d,R.b,R.a,D.n,i.s,i.r],pipes:[W.c,r.b],styles:[""],data:{animation:[c.a]}}),H),data:{title:"TRANSFERENCIAS DE STOCK"}}],G=a("iInd"),J=a("n1FK"),B=a("u9T3"),Y=a("f44v"),z=a("TN/R"),Z=a("iELJ"),$=a("jMqV"),ee=a("ZFy/"),te=a("PCNd"),oe=a("pYyI"),ne=a("BxcV"),ae=((V=function t(){e(this,t)}).\u0275mod=x.Pb({type:V}),V.\u0275inj=x.Ob({factory:function(e){return new(e||V)},imports:[[r.c,i.t,B.a,R.f,M.c,M.c,w.c,M.c,S.c,Y.a,M.c,ee.b,Z.f,E.b,$.b,O.c,k.b,C.b,W.b,te.a,z.g,ne.a,J.c,J.e,J.d,i.j,oe.a,T.b,G.k.forChild(Q)]]}),V)},vpPe:function(t,n,a){"use strict";a.d(n,"a",function(){return i});var r=a("8Y7J"),i=function(){var t=function(){function t(){e(this,t)}return o(t,[{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?o:3&o|8).toString(16)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();