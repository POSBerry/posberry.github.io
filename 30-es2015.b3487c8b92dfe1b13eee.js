(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{CHRX:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var r=a("wd/R");class c{constructor(){this.sum=[],this.data=[],this.rows=[],this.filter={},this.groups={},this.groupField="",this.secondarySort="",this.sortDir="asc",this.footer={},this.customFilter=function(t){return t}}static prepararFiltroAPI(t){var e="";for(var a in t)t[a].search&&(e+="number"==typeof t[a].search?`{"${a}":${t[a].search}},`:t[a].exact?`{"${a}":"${t[a].search}"},`:`{"${a}":{"ilike":"%${t[a].search}%"}},`);return e}setGroup(t){this.groups[t.name]=!this.groups[t.name],this.filterRows()}setData(t){this.data=t,this.sortData()}sortData(){this.data.sort((t,e)=>{if(t[this.groupField]==e[this.groupField]){if(this.secondarySort){if(null==t[this.secondarySort])return 1;if(null==e[this.secondarySort])return-1;if(t[this.secondarySort]>e[this.secondarySort])return 1*("desc"===this.sortDir?-1:1);if(t[this.secondarySort]<e[this.secondarySort])return-1*("desc"===this.sortDir?-1:1)}}else{if(null==t[this.groupField])return 1;if(null==e[this.groupField])return-1;if(t[this.groupField]>e[this.groupField])return 1;if(t[this.groupField]<e[this.groupField])return-1}return 0}),this.filterRows()}filterRows(){var t=[];t=this.data.filter(t=>{for(var e in this.filter){if(this.filter[e]&&null==t[e])return!1;switch(typeof t[e]){case"number":if(this.filter[e]&&Math.trunc(t[e]).toString()!==Math.trunc(this.filter[e]).toString())return!1;break;case"string":if("f"==e.charAt(0).toLowerCase()&&r(t[e]).isValid){if(-1==r(t[e]).format("DD/MM/YYYY HH:mm:ss").indexOf(this.filter[e]))return!1;break}if(-1==t[e].toLowerCase().indexOf(this.filter[e].toLowerCase()))return!1}}return!0}),t=this.customFilter(t);var e={};this.groupField?e[this.groupField]=t.length.toString():e.count=t.length.toString(),this.sum.forEach(t=>e[t]=0);for(var a=0;a<t.length;a++)this.sum.forEach(r=>e[r]+=t[a][r]);if(e.isGroup=!0,this.footer=e,this.groupField){var c=[];t.forEach(t=>{-1==c.indexOf(t[this.groupField])&&c.push(t[this.groupField])}),c=c.map(t=>({name:t,count:1}));var n=[],i=!0,o=0,s=null,l=()=>{s&&(s[this.groupField]+=" ("+c[o-1].count.toString()+")")};for(a=0;a<t.length;a++){if(i&&t[a][this.groupField]==c[o].name){l();var u="+";this.groups[c[o].name]&&(u="-"),s={[this.groupField]:u+" "+c[o].name,isGroup:!0,name:c[o].name},this.sum.forEach(t=>s[t]=0),n.push(s),i=++o<c.length}else c[o-1].count++;this.sum.forEach(e=>s[e]+=t[a][e]),n.push(t[a])}l(),t=null,n=n.filter(t=>!!t.isGroup||!!this.groups[t[this.groupField]]||void 0),this.rows=n}else this.rows=t;this.rows.push(this.footer),0==this.rows.length&&this.rows.push({})}updateFilter(t,e){if(t&&e){var a=t.target.value;t instanceof MouseEvent&&(a=""),this.filter[e]=a,this.filterRows()}return!0}updateFilterBoolean(t,e){return this.filter[e]=t,this.filterRows(),!0}}},GmJt:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var r=a("GS7A");const c=Object(r.g)([Object(r.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(r.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(r.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),n=[Object(r.n)("animate",[Object(r.m)("void => *",[Object(r.o)(c)])]),Object(r.n)("fadeInOut",[Object(r.k)("0",Object(r.l)({opacity:0,display:"none"})),Object(r.k)("1",Object(r.l)({opacity:1,display:"block"})),Object(r.m)("0 => 1",Object(r.e)("300ms")),Object(r.m)("1 => 0",Object(r.e)("300ms"))])]},vkD5:function(t,e,a){"use strict";a.r(e),a.d(e,"RegistryModule",function(){return wt});var r=a("GmJt"),c=a("3kSh"),n=a("3sEA"),i=a("iELJ"),o=a("8Y7J"),s=a("PDjf"),l=a("SVse"),u=a("VDRc"),b=a("Dxy4"),m=a("Tj54"),p=a("TSSN");function f(t,e){if(1&t&&(o.Xb(0,"div"),o.Oc(1),o.kc(2,"number"),o.Wb()),2&t){const t=o.jc(2);o.Eb(1),o.Qc("Temperatura Actual: ",o.lc(2,1,t.data.payload.rtemperaturaactual),"\xb0c ")}}function d(t,e){if(1&t&&(o.Xb(0,"div"),o.Oc(1),o.kc(2,"number"),o.Wb()),2&t){const t=o.jc(2);o.Eb(1),o.Qc("Temperatura Promedio: ",o.lc(2,1,t.data.payload.rtemperaturapromedio),"\xb0c")}}function h(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"h5"),o.Xb(2,"b"),o.Oc(3),o.Wb(),o.Wb(),o.Mc(4,f,3,3,"div",2),o.Mc(5,d,3,3,"div",2),o.Sb(6,"br"),o.Wb()),2&t){const t=o.jc();o.Eb(3),o.Qc("","Temperatura",":"),o.Eb(1),o.pc("ngIf",t.data.payload.rtemperaturaactual),o.Eb(1),o.pc("ngIf",t.data.payload.rtemperaturapromedio)}}const g=function(){return{y:"50px",delay:"300ms"}},O=function(t){return{value:"*",params:t}};let y=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(i.a),o.Rb(i.g))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-registry-popup"]],decls:66,vars:57,consts:[["matDialogTitle","",1,"popup-title"],[2,"font-size","small"],[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,e){1&t&&(o.Xb(0,"h1",0),o.Xb(1,"span"),o.Oc(2),o.Wb(),o.Xb(3,"span",1),o.Oc(4),o.kc(5,"date"),o.Wb(),o.Wb(),o.Xb(6,"mat-dialog-content"),o.Xb(7,"mat-card"),o.Xb(8,"mat-card-content"),o.Xb(9,"div"),o.Xb(10,"h5"),o.Xb(11,"b"),o.Oc(12),o.Wb(),o.Oc(13),o.Wb(),o.Xb(14,"div"),o.Oc(15),o.kc(16,"date"),o.Wb(),o.Xb(17,"div"),o.Oc(18),o.kc(19,"date"),o.Wb(),o.Sb(20,"br"),o.Wb(),o.Mc(21,h,7,3,"div",2),o.Xb(22,"div"),o.Xb(23,"h5"),o.Xb(24,"b"),o.Oc(25),o.Wb(),o.Wb(),o.Xb(26,"div"),o.Oc(27),o.kc(28,"number"),o.kc(29,"number"),o.Wb(),o.Xb(30,"div"),o.Oc(31),o.kc(32,"number"),o.kc(33,"number"),o.Wb(),o.Sb(34,"br"),o.Wb(),o.Xb(35,"div"),o.Xb(36,"h5"),o.Xb(37,"b"),o.Oc(38),o.Wb(),o.Wb(),o.Xb(39,"div"),o.Oc(40),o.kc(41,"number"),o.Wb(),o.Xb(42,"div"),o.Oc(43),o.kc(44,"number"),o.Wb(),o.Sb(45,"br"),o.Wb(),o.Xb(46,"div"),o.Xb(47,"h5"),o.Xb(48,"b"),o.Oc(49),o.Wb(),o.Wb(),o.Xb(50,"div"),o.Oc(51),o.kc(52,"number"),o.kc(53,"number"),o.Wb(),o.Xb(54,"div"),o.Oc(55),o.kc(56,"number"),o.kc(57,"number"),o.Wb(),o.Sb(58,"br"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(59,"mat-dialog-content",3),o.Xb(60,"div",4),o.Xb(61,"button",5),o.fc("click",function(){return e.dialogRef.close(!1)}),o.Xb(62,"mat-icon"),o.Oc(63,"cancel"),o.Wb(),o.Oc(64),o.kc(65,"translate"),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Eb(2),o.Rc("",e.data.puntoDeVenta," (",e.data.payload.shostname,")"),o.Eb(2),o.Pc(o.mc(5,23,e.data.payload.fcreacion,"dd/MM/yyyy HH:mm:ss")),o.Eb(3),o.pc("@animate",o.vc(55,O,o.uc(54,g))),o.Eb(5),o.Qc("","Sistema Operativo",":"),o.Eb(1),o.Qc(" ",e.data.payload.ssistemaoperativo,""),o.Eb(2),o.Qc("Inicio del Sistema: ",o.mc(16,26,e.data.payload.finicioos,"dd/MM/yyyy HH:mm:ss"),""),o.Eb(3),o.Qc("Inicio de POSBerry: ",o.mc(19,29,e.data.payload.finicioapp,"dd/MM/yyyy HH:mm:ss"),""),o.Eb(3),o.pc("ngIf",e.data.payload.rtemperaturaactual||e.data.payload.rtemperaturapromedio),o.Eb(4),o.Qc("","Memoria",":"),o.Eb(2),o.Rc("Memoria Libre: ",o.lc(28,32,e.data.payload.imemorialibre/1e6)," GB (",o.lc(29,34,e.data.payload.imemorialibre)," KB)"),o.Eb(4),o.Rc("Memoria Total: ",o.lc(32,36,e.data.payload.imemoriatotal/1e6)," GB (",o.lc(33,38,e.data.payload.imemoriatotal)," KB)"),o.Eb(7),o.Qc("","Procesador",":"),o.Eb(2),o.Qc("Carga Actual: ",o.lc(41,40,e.data.payload.rcpuloadactual),"%"),o.Eb(3),o.Qc("Carga Promedio: ",o.lc(44,42,e.data.payload.rcpuloadpromedio),"%"),o.Eb(6),o.Qc("","Almacenamiento",":"),o.Eb(2),o.Rc("Almacenamiento Libre: ",o.lc(52,44,e.data.payload.ialmacenamientolibre/1e6)," GB (",o.lc(53,46,e.data.payload.ialmacenamientolibre)," KB)"),o.Eb(4),o.Rc("Almacenamiento Total: ",o.lc(56,48,e.data.payload.ialmacenamientototal/1e6)," GB (",o.lc(57,50,e.data.payload.ialmacenamientototal)," KB)"),o.Eb(9),o.Qc("",o.lc(65,52,"Cancelar")," "))},directives:[i.h,i.e,s.a,s.b,l.o,u.c,u.b,u.a,b.b,m.a],pipes:[l.f,l.g,p.c],styles:[".popup-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})();var v=a("AytR"),E=a("IheW");let w=(()=>{class t{constructor(t){this.http=t}obtenerDatos(t,e,a,r){return this.http.get(encodeURI(`${v.a.apiURL}Registro?filter={"where":${t},"limit":${e},"skip":${a},"order":"${r}"}`))}obtenerCount(t){return this.http.get(encodeURI(`${v.a.apiURL}Registro/count?where=${t}`))}obtenerPV(){return this.http.get(v.a.apiURL+"PuntosVenta")}}return t.\u0275fac=function(e){return new(e||t)(o.bc(E.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var X=a("CHRX"),M=a("cp0P"),x=a("HeVh"),k=a("zHaW"),W=a("Q2Ze"),R=a("e6WT"),S=a("w9WL");function I(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",25),o.fc("click",function(e){o.Dc(t);const a=o.jc(),r=o.Ac(4);return a.updateFilter(e,null,null)&&(r.value="")}),o.Xb(1,"mat-icon"),o.Oc(2,"close"),o.Wb(),o.Wb()}}function G(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.sinstancia," ")}}function T(t,e){if(1&t&&(o.Xb(0,"ngx-datatable-column",26),o.kc(1,"translate"),o.Mc(2,G,1,1,"ng-template",20),o.Wb()),2&t){o.jc();const t=o.Ac(32);o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.INSTANCE")),o.pc("summaryTemplate",t)("flexGrow",1)}}function F(t,e){if(1&t&&(o.Oc(0),o.kc(1,"date")),2&t){const t=e.row;o.Qc(" ",o.mc(1,1,null==t?null:t.fcreacion,"dd/MM/yyyy HH:mm:ss")," ")}}function j(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",27),o.kc(1,"translate"),o.Mc(2,F,2,4,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,2,"REGISTRYCOMPONENT.DATE")),o.pc("flexGrow",1))}function P(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.message," ")}}function C(t,e){if(1&t&&(o.Xb(0,"ngx-datatable-column",28),o.kc(1,"translate"),o.Mc(2,P,1,1,"ng-template",20),o.Wb()),2&t){o.jc();const t=o.Ac(28);o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.MESSAGE")),o.pc("summaryTemplate",t)("flexGrow",2)}}function A(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.soperadorcreacion," ")}}function L(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",29),o.kc(1,"translate"),o.Mc(2,A,1,1,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,2,"REGISTRYCOMPONENT.OPERATOR")),o.pc("flexGrow",1.5))}function N(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.shostname," ")}}function D(t,e){if(1&t&&(o.Xb(0,"ngx-datatable-column",30),o.kc(1,"translate"),o.Mc(2,N,1,1,"ng-template",20),o.Wb()),2&t){o.jc();const t=o.Ac(30);o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.PCNAME")),o.pc("summaryTemplate",t)("flexGrow",1)}}function Y(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.sversion," ")}}function Q(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",31),o.kc(1,"translate"),o.Mc(2,Y,1,1,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,2,"REGISTRYCOMPONENT.VERSION")),o.pc("flexGrow",.7))}function H(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.idpv," ")}}function $(t,e){if(1&t&&(o.Xb(0,"ngx-datatable-column",32),o.kc(1,"translate"),o.Mc(2,H,1,1,"ng-template",20),o.Wb()),2&t){o.jc();const t=o.Ac(26);o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.POS")),o.pc("summaryTemplate",t)("flexGrow",1)}}function q(t,e){if(1&t&&o.Oc(0),2&t){const t=e.row;o.Qc(" ",null==t?null:t.ssistemaoperativo," ")}}function V(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",33),o.kc(1,"translate"),o.Mc(2,q,1,1,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,2,"REGISTRYCOMPONENT.OS")),o.pc("flexGrow",1.5))}function U(t,e){if(1&t&&(o.Oc(0),o.kc(1,"date")),2&t){const t=e.row;o.Qc(" ",o.mc(1,1,null==t?null:t.finicioapp,"dd/MM/yyyy HH:mm:ss")," ")}}function B(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",34),o.kc(1,"translate"),o.Mc(2,U,2,4,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,2,"REGISTRYCOMPONENT.APPSTART")),o.pc("flexGrow",1))}function J(t,e){if(1&t&&(o.Oc(0),o.kc(1,"number")),2&t){const t=e.row;o.Qc(" ",o.mc(1,1,null==t?null:t.rtemperaturaactual,"1.00-0")," ")}}function z(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",35),o.kc(1,"translate"),o.Mc(2,J,2,4,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.CPUTEMP")),o.pc("summaryFunc",null)("flexGrow",.7))}function K(t,e){if(1&t&&(o.Oc(0),o.kc(1,"number")),2&t){const t=e.row;o.Qc(" ",o.mc(1,1,null==t?null:t.rtemperaturapromedio,"1.00-0")," ")}}function Z(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",36),o.kc(1,"translate"),o.Mc(2,K,2,4,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.CPUAVERAGETEMP")),o.pc("summaryFunc",null)("flexGrow",.7))}function _(t,e){if(1&t&&(o.Oc(0),o.kc(1,"number")),2&t){const t=e.row;o.Qc(" ",o.mc(1,1,null==t?null:t.rcpuloadpromedio,"1.00-0")," ")}}function tt(t,e){1&t&&(o.Xb(0,"ngx-datatable-column",37),o.kc(1,"translate"),o.Mc(2,_,2,4,"ng-template",20),o.Wb()),2&t&&(o.qc("name",o.lc(1,3,"REGISTRYCOMPONENT.CPUAVERAGELOAD")),o.pc("summaryFunc",null)("flexGrow",.7))}function et(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",38),o.fc("click",function(){o.Dc(t);const a=e.row;return o.jc().openPopUp(a)}),o.Xb(1,"mat-icon"),o.Oc(2,"info"),o.Wb(),o.Wb()}}function at(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",25),o.fc("click",function(e){o.Dc(t),o.jc();const a=o.Ac(2);return o.jc().updateFilter(e,"idpv",!0)&&(a.value="")}),o.Xb(1,"mat-icon"),o.Oc(2,"close"),o.Wb(),o.Wb()}}function rt(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-form-field",0),o.Xb(1,"input",39,3),o.fc("keyup",function(e){return o.Dc(t),o.jc().updateFilter(e,"idpv",!0)}),o.Wb(),o.Mc(3,at,3,0,"button",4),o.Wb()}if(2&t){const t=o.Ac(2);o.Eb(3),o.pc("ngIf",t.value)}}function ct(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",25),o.fc("click",function(e){o.Dc(t),o.jc();const a=o.Ac(2);return o.jc().updateFilter(e,"message",!1)&&(a.value="")}),o.Xb(1,"mat-icon"),o.Oc(2,"close"),o.Wb(),o.Wb()}}function nt(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-form-field",0),o.Xb(1,"input",39,3),o.fc("keyup",function(e){return o.Dc(t),o.jc().updateFilter(e,"message",!1)}),o.Wb(),o.Mc(3,ct,3,0,"button",4),o.Wb()}if(2&t){const t=o.Ac(2);o.Eb(3),o.pc("ngIf",t.value)}}function it(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",25),o.fc("click",function(e){o.Dc(t),o.jc();const a=o.Ac(2);return o.jc().updateFilter(e,"shostname",!1)&&(a.value="")}),o.Xb(1,"mat-icon"),o.Oc(2,"close"),o.Wb(),o.Wb()}}function ot(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-form-field",0),o.Xb(1,"input",39,3),o.fc("keyup",function(e){return o.Dc(t),o.jc().updateFilter(e,"shostname",!1)}),o.Wb(),o.Mc(3,it,3,0,"button",4),o.Wb()}if(2&t){const t=o.Ac(2);o.Eb(3),o.pc("ngIf",t.value)}}function st(t,e){if(1&t){const t=o.Yb();o.Xb(0,"button",25),o.fc("click",function(e){o.Dc(t),o.jc();const a=o.Ac(2);return o.jc().updateFilter(e,"sinstancia",!1)&&(a.value="")}),o.Xb(1,"mat-icon"),o.Oc(2,"close"),o.Wb(),o.Wb()}}function lt(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-form-field",0),o.Xb(1,"input",39,3),o.fc("keyup",function(e){return o.Dc(t),o.jc().updateFilter(e,"sinstancia",!1)}),o.Wb(),o.Mc(3,st,3,0,"button",4),o.Wb()}if(2&t){const t=o.Ac(2);o.Eb(3),o.pc("ngIf",t.value)}}const ut=function(){return{y:"50px",delay:"300ms"}},bt=function(t){return{value:"*",params:t}},mt=[{path:"",component:(()=>{class t{constructor(t,e,a,r,c,n){this.servicioRegistro=t,this.snack=e,this.loader=a,this.dialog=r,this.confirmService=c,this.breakpointObserver=n,this.fields={},this.timeOutDuration=800,this.rows=[],this.order="fcreacion DESC",this.search="",this.page={count:0,offset:0,limit:10}}ngOnInit(){this.refresh(),this.servicioRegistro.obtenerPV().subscribe(t=>{this.puntosDeVenta=t,console.log(t)}),this.breakpointObserver.observe([x.b.XSmall,x.b.Small,x.b.Medium,x.b.Large,x.b.XLarge]).subscribe(t=>{this.isXSmall=this.breakpointObserver.isMatched(x.b.XSmall),this.isSmall=this.breakpointObserver.isMatched(x.b.Small),this.isMedium=this.breakpointObserver.isMatched(x.b.Medium),this.isLarge=this.breakpointObserver.isMatched(x.b.Large),this.isXLarge=this.breakpointObserver.isMatched(x.b.XLarge)})}mostrarOcultar(t){switch(t){case"XS":return!0;case"S":return this.isSmall||this.isMedium||this.isLarge||this.isXLarge;case"M":return this.isMedium||this.isLarge||this.isXLarge;case"L":return this.isLarge||this.isXLarge;case"XL":return this.isXLarge}}prepararFiltro(){this.filter='{"and":[';var t=this.search.split(" ");t.length>0&&t.forEach((t,e)=>{t.length>1&&(this.filter+=`{"or":[{"sinstancia":{"ilike":"%${t}%"}},{"message":{"ilike":"%${t}%"}},{"shostname":{"ilike":"%${t}%"}}]}`,e<this.search.length-1&&(this.filter+=","))}),this.filter+=X.a.prepararFiltroAPI(this.fields),this.filter+='{"deletedon":{"eq":null}}]}'}refresh(){this.prepararFiltro(),Object(M.a)([this.servicioRegistro.obtenerCount(this.filter),this.servicioRegistro.obtenerDatos(this.filter,this.page.limit,this.page.offset*this.page.limit,this.order)]).subscribe(t=>{this.page.count=t[0].count,this.rows=t[1],0==this.rows.length&&this.rows.push({})},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}pageCallback(t){this.page.offset=t.offset,this.refresh()}updateFilter(t,e,a){if(t&&e){var r=t.target.value;t instanceof MouseEvent&&(r=""),this.fields[e]={search:r,exact:a}}else t&&(this.search=t instanceof MouseEvent?"":t.target.value);return clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.refresh()},this.timeOutDuration),!0}onSort(t){const e=t.sorts[0];this.order=`${e.prop} ${e.dir.toUpperCase()}`,this.refresh()}openPopUp(t={}){this.dialog.open(y,{width:"720px",disableClose:!0,data:{title:"INFORMACION",payload:t,puntoDeVenta:this.puntosDeVenta.find(e=>e.idpv=t.idpv).sdescripcion}}).afterClosed()}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(w),o.Rb(k.a),o.Rb(n.a),o.Rb(i.b),o.Rb(c.a),o.Rb(x.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-registry"]],decls:33,vars:36,consts:[[1,"margin-333",2,"width","100%"],["matPrefix",""],["matInput","","value","",3,"placeholder","keyup"],["searchinput",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"p-0"],["summaryRow","true",1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","externalPaging","selectionType","page","sort"],["prop","sinstancia",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","fcreacion",3,"name","flexGrow",4,"ngIf"],["prop","message",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","soperadorcreacion",3,"name","flexGrow",4,"ngIf"],["prop","hostname",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","sversion",3,"name","flexGrow",4,"ngIf"],["prop","idpv",3,"summaryTemplate","name","flexGrow",4,"ngIf"],["prop","ssistemaoperativo",3,"name","flexGrow",4,"ngIf"],["prop","finicioapp",3,"name","flexGrow",4,"ngIf"],["prop","rtemperaturaactual",3,"summaryFunc","name","flexGrow",4,"ngIf"],["prop","rtemperaturapromedio",3,"summaryFunc","name","flexGrow",4,"ngIf"],["prop","rcpuloadpromedio",3,"summaryFunc","name","flexGrow",4,"ngIf"],[3,"name","flexGrow","sortable"],["ngx-datatable-cell-template",""],["tabla1idpv",""],["tabla1message",""],["tabla1shostname",""],["tabla1sinstancia",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["prop","sinstancia",3,"summaryTemplate","name","flexGrow"],["prop","fcreacion",3,"name","flexGrow"],["prop","message",3,"summaryTemplate","name","flexGrow"],["prop","soperadorcreacion",3,"name","flexGrow"],["prop","hostname",3,"summaryTemplate","name","flexGrow"],["prop","sversion",3,"name","flexGrow"],["prop","idpv",3,"summaryTemplate","name","flexGrow"],["prop","ssistemaoperativo",3,"name","flexGrow"],["prop","finicioapp",3,"name","flexGrow"],["prop","rtemperaturaactual",3,"summaryFunc","name","flexGrow"],["prop","rtemperaturapromedio",3,"summaryFunc","name","flexGrow"],["prop","rcpuloadpromedio",3,"summaryFunc","name","flexGrow"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"],["matInput","","placeholder","","value","",3,"keyup"]],template:function(t,e){if(1&t&&(o.Xb(0,"mat-form-field",0),o.Xb(1,"mat-icon",1),o.Oc(2,"search"),o.Wb(),o.Xb(3,"input",2,3),o.fc("keyup",function(t){return e.updateFilter(t,null,null)}),o.kc(5,"translate"),o.Wb(),o.Mc(6,I,3,0,"button",4),o.Wb(),o.Xb(7,"mat-card",5),o.Xb(8,"mat-card-content",5),o.Xb(9,"ngx-datatable",6),o.fc("page",function(t){return e.pageCallback(t)})("sort",function(t){return e.onSort(t)}),o.Mc(10,T,3,5,"ngx-datatable-column",7),o.Mc(11,j,3,4,"ngx-datatable-column",8),o.Mc(12,C,3,5,"ngx-datatable-column",9),o.Mc(13,L,3,4,"ngx-datatable-column",10),o.Mc(14,D,3,5,"ngx-datatable-column",11),o.Mc(15,Q,3,4,"ngx-datatable-column",12),o.Mc(16,$,3,5,"ngx-datatable-column",13),o.Mc(17,V,3,4,"ngx-datatable-column",14),o.Mc(18,B,3,4,"ngx-datatable-column",15),o.Mc(19,z,3,5,"ngx-datatable-column",16),o.Mc(20,Z,3,5,"ngx-datatable-column",17),o.Mc(21,tt,3,5,"ngx-datatable-column",18),o.Xb(22,"ngx-datatable-column",19),o.kc(23,"translate"),o.Mc(24,et,3,0,"ng-template",20),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Mc(25,rt,4,1,"ng-template",null,21,o.Nc),o.Mc(27,nt,4,1,"ng-template",null,22,o.Nc),o.Mc(29,ot,4,1,"ng-template",null,23,o.Nc),o.Mc(31,lt,4,1,"ng-template",null,24,o.Nc)),2&t){const t=o.Ac(4);o.Eb(3),o.qc("placeholder",o.lc(5,29,"REGISTRYCOMPONENT.FILTER")),o.Eb(3),o.pc("ngIf",t.value),o.Eb(1),o.pc("@animate",o.vc(34,bt,o.uc(33,ut))),o.Eb(2),o.pc("rows",e.rows)("columnMode","flex")("headerHeight",50)("footerHeight",50)("scrollbarH",!1)("rowHeight","auto")("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit)("externalPaging",!0)("selectionType","single"),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("S")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XS")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XS")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("L")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("L")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("L")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XS")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("L")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("L")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XL")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XL")),o.Eb(1),o.pc("ngIf",e.mostrarOcultar("XL")),o.Eb(1),o.qc("name",o.lc(23,31,"SALES.ACTIONS")),o.pc("flexGrow",1)("sortable",!1)}},directives:[W.c,m.a,W.g,R.b,l.o,s.a,s.b,S.d,S.b,S.a,b.b,W.h],pipes:[p.c,l.f,l.g],styles:[""],data:{animation:[r.a]}}),t})(),data:{title:"REGISTRO"}}];var pt=a("iInd"),ft=a("s7LF"),dt=a("f44v"),ht=a("SqCe"),gt=a("rJgo"),Ot=a("jMqV"),yt=a("ZFy/"),vt=a("u9T3"),Et=a("PCNd");let wt=(()=>{class t{}return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},providers:[w],imports:[[l.c,ft.t,vt.a,S.f,R.c,m.b,s.c,gt.c,b.c,dt.a,ht.b,yt.b,i.f,k.b,Ot.b,p.b,Et.a,pt.k.forChild(mt)]]}),t})()}}]);