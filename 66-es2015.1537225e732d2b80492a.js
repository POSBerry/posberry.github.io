(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"3loT":function(t,a,o){"use strict";o.r(a),o.d(a,"WipeDataSettingsModule",function(){return L});var i=o("SVse"),e=o("3kSh"),s=o("3sEA"),c=o("vpPe"),r=o("iELJ"),n=o("8Y7J"),b=o("s7LF"),l=o("VDRc"),p=o("Q2Ze"),d=o("e6WT"),m=o("Dxy4"),u=o("Tj54"),f=o("TSSN");let h=(()=>{class t{constructor(t,a,o){this.data=t,this.dialogRef=a,this.fb=o}ngOnInit(){this.buildItemForm(this.data.payload)}buildItemForm(t){this.itemForm=this.fb.group({sconfirmar:[t.sconfirmar||""]})}submit(){this.dialogRef.close(this.itemForm.value)}}return t.\u0275fac=function(a){return new(a||t)(n.Rb(r.a),n.Rb(r.g),n.Rb(b.d))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-wipe-data-settings-popup"]],decls:23,vars:13,consts:[["matDialogTitle",""],[3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayout.lt-sm","column"],["fxFlex","50",1,"pr-16"],[1,"full-width"],["matInput","","name","sconfirmar",3,"formControl","placeholder"],["fxFlex","100",1,"mt-16"],["mat-raised-button","","color","primary",3,"disabled"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,a){1&t&&(n.Xb(0,"h1",0),n.Oc(1),n.Wb(),n.Xb(2,"p"),n.Oc(3,"Escriba la palabra CONFIRMO en may\xfasculas para eliminar todos los datos."),n.Wb(),n.Xb(4,"form",1),n.fc("ngSubmit",function(){return a.submit()}),n.Xb(5,"mat-dialog-content",2),n.Xb(6,"div",3),n.Xb(7,"mat-form-field",4),n.Sb(8,"input",5),n.kc(9,"translate"),n.Wb(),n.Wb(),n.Wb(),n.Xb(10,"mat-dialog-content",2),n.Xb(11,"div",6),n.Xb(12,"button",7),n.Xb(13,"mat-icon"),n.Oc(14,"done"),n.Wb(),n.Oc(15),n.kc(16,"translate"),n.Wb(),n.Sb(17,"span",8),n.Xb(18,"button",9),n.fc("click",function(){return a.dialogRef.close(!1)}),n.Xb(19,"mat-icon"),n.Oc(20,"cancel"),n.Wb(),n.Oc(21),n.kc(22,"translate"),n.Wb(),n.Wb(),n.Wb(),n.Wb()),2&t&&(n.Eb(1),n.Pc(a.data.title),n.Eb(3),n.pc("formGroup",a.itemForm),n.Eb(4),n.qc("placeholder",n.lc(9,7,"Confirmar")),n.pc("formControl",a.itemForm.controls.sconfirmar),n.Eb(4),n.pc("disabled",a.itemForm.invalid),n.Eb(3),n.Pc(n.lc(16,9,"Aceptar")),n.Eb(6),n.Pc(n.lc(22,11,"FAMILIESPOPUPCOMPONENT.CANCEL")))},directives:[r.h,b.w,b.p,b.i,r.e,l.c,l.a,p.c,d.b,b.c,b.o,b.f,m.b,u.a],pipes:[f.c],styles:[""]}),t})();var v=o("AytR"),O=o("IheW");let W=(()=>{class t{constructor(t){this.http=t}limpiarDatos(){return this.http.get(encodeURI(v.a.apiURL+"Empresas/limpiarDatosEmpresa"))}}return t.\u0275fac=function(a){return new(a||t)(n.bc(O.c))},t.\u0275prov=n.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=o("zHaW"),R=o("PDjf");const w=[{path:"",component:(()=>{class t{constructor(t,a,o,i,e,s){this.servicioWipedata=t,this.dialog=a,this.snack=o,this.confirmService=i,this.loader=e,this.servicioUUID=s}ngOnInit(){}openPopUp(t){this.dialog.open(h,{width:"720px",disableClose:!0,data:{title:"CONFIRMA",payload:t}}).afterClosed().subscribe(t=>{if(t){this.loader.open();var a={};Object.assign(a,t),a.bactivo=t.bactivo?"T":"F",a.bfavorito=t.bfavorito?"T":"F","CONFIRMO"==a.sconfirmar?this.servicioWipedata.limpiarDatos().subscribe(t=>{this.loader.close(),this.snack.open("\xa1Datos Eliminados!","OK",{duration:4e3})},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})}):(this.loader.close(),this.snack.open("\xa1Datos NO Eliminados!","OK",{duration:4e3}))}})}}return t.\u0275fac=function(a){return new(a||t)(n.Rb(W),n.Rb(r.b),n.Rb(g.a),n.Rb(e.a),n.Rb(s.a),n.Rb(c.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-wipe-data-settings"]],decls:11,vars:0,consts:[["mat-button","","color","warn","type","button",3,"click"]],template:function(t,a){1&t&&(n.Xb(0,"mat-card"),n.Xb(1,"h3"),n.Oc(2,"Limpiar Datos"),n.Wb(),n.Xb(3,"p"),n.Xb(4,"b"),n.Oc(5,"ATENCI\xd3N:"),n.Wb(),n.Oc(6," se borran stock, productos, ventas, movimientos de stock, compras, promociones, movimientos de caja y familias. Los datos de la empresa, configuraci\xf3n, sucursales y puntos de venta NO se borran. Haga copia de seguridad de los datos primero."),n.Wb(),n.Xb(7,"p"),n.Oc(8,"Solo la cuenta de administrador puede eliminar los datos."),n.Wb(),n.Xb(9,"button",0),n.fc("click",function(t){return a.openPopUp(t)}),n.Oc(10,"Eliminar Datos"),n.Wb(),n.Wb())},directives:[R.a,m.b],styles:[""]}),t})(),data:{title:"Wipe Data"}}];var y=o("iInd"),E=o("u9T3"),k=o("f44v"),F=o("ZTz/"),X=o("jMqV"),I=o("M9ds"),C=o("ZFy/"),D=o("w9WL"),N=o("PCNd"),P=o("BxcV");let L=(()=>{class t{}return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(a){return new(a||t)},imports:[[i.c,b.t,E.a,D.f,d.c,d.c,R.c,d.c,m.c,k.a,d.c,C.b,r.f,g.b,X.b,I.c,F.b,u.b,f.b,N.a,P.a,y.k.forChild(w)]]}),t})()}}]);