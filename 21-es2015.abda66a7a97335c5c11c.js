(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Iab2:function(t,e,o){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function e(t,e,o){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){i(n.response,e,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,r,i){var c=a.URL||a.webkitURL,s=document.createElement("a");s.download=r=r||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?n(s):o(s.href)?e(t,r,i):n(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){n(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,r){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),a);else if(o(t))e(t,a,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){n(i)})}}:function(t,o,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,o,n);var c="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&s||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(t);i?i.location=p:location.href=p,i=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});a.saveAs=i.saveAs=i,t.exports=i})?n.apply(e,[]):n)||(t.exports=a)},bPAe:function(t,e,o){"use strict";o.d(e,"a",function(){return i});var n=o("Iab2"),a=o("EUZL"),r=o("8Y7J");let i=(()=>{class t{constructor(){this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}exportExcel(t,e,o){const n=a.utils.json_to_sheet(t),r=a.write({Sheets:{[o]:n},SheetNames:[o]},{bookType:"xlsx",type:"array"});this.saveExcelFile(r,e)}saveExcelFile(t,e){const o=new Blob([t],{type:this.fileType});n.saveAs(o,e+this.fileExtension)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},gaU0:function(t,e,o){"use strict";o.r(e),o.d(e,"StockMovementsTransferenceModule",function(){return tt});var n=o("SVse"),a=o("s7LF"),r=o("GmJt"),i=o("3sEA"),c=o("vpPe"),s=o("cp0P"),l=o("JX91"),u=o("lJxs"),d=o("Sp5M"),p=o("bPAe"),b=o("wyE3"),f=o("qA6C"),m=o("Ao8+"),h=o("UVsP"),v=o("8Y7J"),g=o("zHaW"),x=o("PDjf"),E=o("M9ds"),O=o("Q2Ze"),w=o("VDRc"),P=o("ZTz/"),y=o("e6WT"),M=o("vrAh"),T=o("Dxy4"),S=o("Tj54"),C=o("w9WL"),R=o("UhP/"),k=o("TSSN");function D(t,e){if(1&t&&(v.Xb(0,"mat-option",14),v.Oc(1),v.Wb()),2&t){const t=e.$implicit;v.pc("value",t.iddeposito),v.Eb(1),v.Qc(" ",t.sdescripcion," ")}}function W(t,e){if(1&t&&(v.Xb(0,"mat-option",14),v.Oc(1),v.Wb()),2&t){const t=e.$implicit;v.pc("value",t),v.Eb(1),v.Rc(" ",null==t?null:t.scodproducto," - ",null==t?null:t.snombre," ")}}function A(t,e){if(1&t&&(v.Xb(0,"mat-option",14),v.Oc(1),v.Wb()),2&t){const t=e.$implicit;v.pc("value",t.iddeposito),v.Eb(1),v.Qc(" ",t.sdescripcion," ")}}function U(t,e){if(1&t&&v.Oc(0),2&t){const t=e.row;v.Qc(" ",null==t?null:t.sCodProducto," ")}}function X(t,e){if(1&t&&v.Oc(0),2&t){const t=e.row;v.Qc(" ",null==t?null:t.sProducto," ")}}function I(t,e){if(1&t&&v.Oc(0),2&t){const t=e.row;v.Qc(" ",null==t?null:t.rCantidad," ")}}function L(t,e){1&t&&(v.Xb(0,"input",15),v.fc("ngModelChange",function(t){return e.row.rCantidadAEnviar=t}),v.Wb()),2&t&&v.pc("ngModel",e.row.rCantidadAEnviar)}function j(t,e){if(1&t&&v.Oc(0),2&t){const t=e.row;v.Qc(" ",null==t?null:t.sDeposito," ")}}function N(t,e){if(1&t&&v.Oc(0),2&t){const t=e.row;v.Qc(" ",null==t?null:t.sOperador," ")}}const F=function(){return{y:"50px",delay:"300ms"}},_=function(t){return{value:"*",params:t}},H=[{path:"",component:(()=>{class t{constructor(t,e,o,n,r,i,c,s,l){this.servicioExportarExcel=t,this.servicioMovimientoDeStock=e,this.servicioUUID=o,this.snack=n,this.servicioProductos=r,this.servicioEmpresas=i,this.servicioSucursales=c,this.servicioNuevaCompra=s,this.loader=l,this.formDepositoOrigen=new a.e,this.formDepositoDestino=new a.e,this.editorProducto=new a.e(""),this.editorProveedor=new a.e(""),this.detalle=[],this.page={count:0,offset:0,limit:5},this.depositos=[]}ngOnInit(){this.servicioMovimientoDeStock.obtenerDepositos().subscribe(t=>{this.depositos=t,this.formDepositoOrigen.setValue(this.depositos[0].iddeposito),this.formDepositoDestino.setValue(this.depositos[0].iddeposito)}),this.servicioProductos.traerProductos("snombre ASC",()=>{this.productos=this.servicioProductos.listaProductos,Object(s.a)([this.servicioEmpresas.obtenerEmpresas(),this.servicioProductos.obtenerProveedores(),this.servicioNuevaCompra.obtenerImpuestos(),this.servicioNuevaCompra.obtenerSucursales()]).subscribe(t=>{this.empresas=t[0],this.cantidaddecimales=this.empresas[0].icantidaddecimales,this.proveedores=t[1],this.impuestos=t[2],this.sucursales_data=t[3],this.filteredProveedores=this.editorProveedor.valueChanges.pipe(Object(l.a)(""),Object(u.a)(t=>this._filterProveedores(t))),this.filteredProductos=this.editorProducto.valueChanges.pipe(Object(l.a)(""),Object(u.a)(t=>this._filterProductos(t))),this.loader.close()},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})},t=>{this.loader.close(),this.snack.open("ERROR","OK",{duration:4e3})})}displayFnProductos(t){return t&&t.snombre?t.snombre:""}_filterProveedores(t){if("string"==typeof t){const e=t.toLowerCase();return this.proveedores.filter(t=>t.srazonsocial.toLowerCase().includes(e))}return[]}selectedItemChangeProducto(t){this.form_producto=t}_filterProductos(t){if("string"==typeof t){const e=t.toLowerCase();return this.productos.filter(t=>t.snombre.toLowerCase().includes(e))}return[]}eliminarItem(t){var e=this.tabla1.data.indexOf(t);this.tabla1.data.splice(e,1),this.tabla1.sortData()}guardarItem(){var t=this.tabla1.data.indexOf(this.temp_item);this.tabla1.data[t].idproducto=this.form_producto.id,this.tabla1.data[t].sconcepto=this.form_producto.snombre,this.tabla1.data.push({id:this.servicioUUID.generateUUID(),idproducto:this.form_producto.id,sconcepto:this.form_producto.snombre}),this.temp_item=null}}return t.\u0275fac=function(e){return new(e||t)(v.Rb(p.a),v.Rb(m.a),v.Rb(c.a),v.Rb(g.a),v.Rb(f.a),v.Rb(d.a),v.Rb(h.a),v.Rb(b.a),v.Rb(i.a))},t.\u0275cmp=v.Lb({type:t,selectors:[["app-stock-movements-transference"]],decls:55,vars:65,consts:[[1,"p-0"],[3,"label"],["fxFlex","100","appearance","fill",1,"m-8"],["name","depositos",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill","fxFlex","50",1,"m-8","graphic-select-form-field"],["type","text","aria-label","Producto","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto2","matAutocomplete"],["mat-button","","color","primary",1,"m-8",3,"click"],["mat-button","","color","primary",1,"m-8"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],[3,"name","flexGrow"],["ngx-datatable-cell-template",""],[3,"value"],["matInput","","placeholder","","type","number","step","any",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(v.Xb(0,"mat-card",0),v.Xb(1,"mat-card-content",0),v.Xb(2,"mat-tab-group"),v.Xb(3,"mat-tab",1),v.kc(4,"translate"),v.Xb(5,"mat-form-field",2),v.Xb(6,"mat-label"),v.Oc(7),v.kc(8,"translate"),v.Wb(),v.Xb(9,"mat-select",3),v.Mc(10,D,2,2,"mat-option",4),v.Wb(),v.Wb(),v.Xb(11,"mat-form-field",5),v.Xb(12,"mat-label"),v.Oc(13),v.kc(14,"translate"),v.Wb(),v.Sb(15,"input",6),v.Xb(16,"mat-autocomplete",7,8),v.fc("optionSelected",function(t){return e.selectedItemChangeProducto(t.option.value)}),v.Mc(18,W,2,3,"mat-option",4),v.kc(19,"async"),v.Wb(),v.Wb(),v.Xb(20,"button",9),v.fc("click",function(){return e.guardarItem()}),v.Xb(21,"mat-icon"),v.Oc(22,"save"),v.Wb(),v.Oc(23),v.kc(24,"translate"),v.Wb(),v.Xb(25,"mat-form-field",2),v.Xb(26,"mat-label"),v.Oc(27),v.kc(28,"translate"),v.Wb(),v.Xb(29,"mat-select",3),v.Mc(30,A,2,2,"mat-option",4),v.Wb(),v.Wb(),v.Xb(31,"button",10),v.Xb(32,"mat-icon"),v.Oc(33,"save"),v.Wb(),v.Oc(34),v.kc(35,"translate"),v.Wb(),v.Xb(36,"ngx-datatable",11),v.Xb(37,"ngx-datatable-column",12),v.kc(38,"translate"),v.Mc(39,U,1,1,"ng-template",13),v.Wb(),v.Xb(40,"ngx-datatable-column",12),v.kc(41,"translate"),v.Mc(42,X,1,1,"ng-template",13),v.Wb(),v.Xb(43,"ngx-datatable-column",12),v.kc(44,"translate"),v.Mc(45,I,1,1,"ng-template",13),v.Wb(),v.Xb(46,"ngx-datatable-column",12),v.kc(47,"translate"),v.Mc(48,L,1,1,"ng-template",13),v.Wb(),v.Xb(49,"ngx-datatable-column",12),v.kc(50,"translate"),v.Mc(51,j,1,1,"ng-template",13),v.Wb(),v.Xb(52,"ngx-datatable-column",12),v.kc(53,"translate"),v.Mc(54,N,1,1,"ng-template",13),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Wb()),2&t){const t=v.Ac(17);v.pc("@animate",v.vc(63,_,v.uc(62,F))),v.Eb(3),v.qc("label",v.lc(4,36,"STOCKMOVEMENTSPOPUP.DETAILS")),v.Eb(4),v.Pc(v.lc(8,38,"Deposito Origen")),v.Eb(2),v.pc("formControl",e.formDepositoOrigen),v.Eb(1),v.pc("ngForOf",e.depositos),v.Eb(3),v.Pc(v.lc(14,40,"NEWPURCHASES.PRODUCT")),v.Eb(2),v.pc("formControl",e.editorProducto)("matAutocomplete",t),v.Eb(1),v.pc("displayWith",e.displayFnProductos),v.Eb(2),v.pc("ngForOf",v.lc(19,42,e.filteredProductos)),v.Eb(5),v.Qc("",v.lc(24,44,"Agregar Producto")," "),v.Eb(4),v.Pc(v.lc(28,46,"Deposito Destino")),v.Eb(2),v.pc("formControl",e.formDepositoDestino),v.Eb(1),v.pc("ngForOf",e.depositos),v.Eb(4),v.Qc("",v.lc(35,48,"Realizar envio")," "),v.Eb(2),v.pc("rows",e.detalle)("columnMode","flex")("headerHeight",50)("footerHeight",e.detalle.length>e.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit),v.Eb(1),v.qc("name",v.lc(38,50,"STOCKMOVEMENTSPOPUP.PRODUCTCODE")),v.pc("flexGrow",1),v.Eb(3),v.qc("name",v.lc(41,52,"STOCKMOVEMENTSPOPUP.PRODUCT")),v.pc("flexGrow",2),v.Eb(3),v.qc("name",v.lc(44,54,"STOCKMOVEMENTSPOPUP.QUANTITY")),v.pc("flexGrow",1),v.Eb(3),v.qc("name",v.lc(47,56,"A Enviar")),v.pc("flexGrow",1),v.Eb(3),v.qc("name",v.lc(50,58,"STOCKMOVEMENTSPOPUP.DEPOSIT")),v.pc("flexGrow",1),v.Eb(3),v.qc("name",v.lc(53,60,"STOCKMOVEMENTSPOPUP.OPERATOR")),v.pc("flexGrow",1)}},directives:[x.a,x.b,E.b,E.a,O.c,w.a,O.f,P.a,a.o,a.f,n.n,y.b,a.c,M.c,M.a,T.b,S.a,C.d,C.b,C.a,R.n,a.s,a.r],pipes:[k.c,n.b],styles:[""],data:{animation:[r.a]}}),t})(),data:{title:"TRANSFERENCIAS DE STOCK"}}];var V=o("iInd"),q=o("n1FK"),K=o("u9T3"),Q=o("f44v"),G=o("TN/R"),J=o("iELJ"),B=o("jMqV"),Y=o("ZFy/"),z=o("PCNd"),Z=o("pYyI"),$=o("BxcV");let tt=(()=>{class t{}return t.\u0275mod=v.Pb({type:t}),t.\u0275inj=v.Ob({factory:function(e){return new(e||t)},imports:[[n.c,a.t,K.a,C.f,y.c,y.c,x.c,y.c,T.c,Q.a,y.c,Y.b,J.f,g.b,B.b,E.c,P.b,S.b,k.b,z.a,G.g,$.a,q.c,q.e,q.d,a.j,Z.a,M.b,V.k.forChild(H)]]}),t})()},vpPe:function(t,e,o){"use strict";o.d(e,"a",function(){return a});var n=o("8Y7J");let a=(()=>{class t{constructor(){}generateUUID(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);