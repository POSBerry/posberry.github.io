!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"5IEN":function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),l=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerDatosTabla1",value:function(t,a,e){return this.http.get("".concat(o.a.apiURL,'Movcaja?filter={"where":{"and":%20[{"and":%20[{"fmovimiento":%20{"gt":"').concat(t,'"}},%20{"fmovimiento":%20{"lt":"').concat(a,'"}}]},{"idpv":{"inq":%20[').concat(e,']}},{"deletedon":{"eq":null}}]}}'))}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},"8iJF":function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),l=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerDatos",value:function(t,a,e,n){return this.http.get(encodeURI("".concat(o.a.apiURL,'Clientes?filter={"where":').concat(t,',"limit":').concat(a,',"skip":').concat(e,',"order":"').concat(n,'"}')))}},{key:"obtenerIdMasAlto",value:function(){return this.http.get(encodeURI(o.a.apiURL+"Clientes/idMasAlto"))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(o.a.apiURL,"Clientes/count?where=").concat(t)))}},{key:"traerClientes",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Clientes?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"actualizarCliente",value:function(t){return this.http.put("".concat(o.a.apiURL,"Clientes/").concat(t.id),t)}},{key:"obtenerTiposClientes",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Tiposcliente?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerEmpresas",value:function(){return this.http.get(o.a.apiURL+"Empresas")}},{key:"agregarCliente",value:function(t){return this.http.post(o.a.apiURL+"Clientes",t)}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},"Ap+n":function(a,n,c){"use strict";c.d(n,"a",function(){return h});var o=c("iELJ"),r=c("GmJt"),i=c("8Y7J"),l=c("PDjf"),u=c("VDRc"),s=c("Dxy4"),d=c("Tj54"),p=c("TSSN"),f=c("SVse"),b=function(){return{y:"50px",delay:"300ms"}},m=function(t){return{value:"*",params:t}},h=function(){var a=function(){function a(e,n){t(this,a),this.data=e,this.dialogRef=n}return e(a,[{key:"ngOnInit",value:function(){}}]),a}();return a.\u0275fac=function(t){return new(t||a)(i.Rb(o.a),i.Rb(o.g))},a.\u0275cmp=i.Lb({type:a,selectors:[["app-user-info-popup"]],decls:23,vars:37,consts:[["matDialogTitle",""],["ng-if","data.payload.fModificacion"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"]],template:function(t,a){1&t&&(i.Xb(0,"h1",0),i.Oc(1),i.Wb(),i.Xb(2,"mat-dialog-content"),i.Xb(3,"mat-card"),i.Xb(4,"mat-card-content"),i.Xb(5,"h5"),i.Oc(6),i.kc(7,"translate"),i.kc(8,"date"),i.kc(9,"date"),i.Wb(),i.Xb(10,"h5",1),i.Oc(11),i.kc(12,"translate"),i.kc(13,"date"),i.kc(14,"date"),i.kc(15,"translate"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(16,"mat-dialog-content",2),i.Xb(17,"div",3),i.Xb(18,"button",4),i.fc("click",function(){return a.dialogRef.close(!1)}),i.Xb(19,"mat-icon"),i.Oc(20,"cancel"),i.Wb(),i.Oc(21),i.kc(22,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Eb(1),i.Pc(a.data.title),i.Eb(2),i.pc("@animate",i.vc(35,m,i.uc(34,b))),i.Eb(3),i.Uc("",i.lc(7,14,"Creado")," ",i.mc(8,16,a.data.payload.fcreacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.mc(9,19,a.data.payload.fCreacion,"dd/MM/yyyy ' a las ' HH:mm")," por ",a.data.payload.soperadorcreacion," ",a.data.payload.sOperadorCreacion,""),i.Eb(5),i.Vc("",i.lc(12,22,"Modificado")," ",i.mc(13,24,a.data.payload.fmodificacion,"dd/MM/yyyy ' a las ' HH:mm"),"",i.mc(14,27,a.data.payload.fModificacion,"dd/MM/yyyy ' a las ' HH:mm")," ",i.lc(15,30,"por")," ",a.data.payload.soperadormodificacion," ",a.data.payload.sOperadorModificacion,""),i.Eb(10),i.Pc(i.lc(22,32,"Cancelar")))},directives:[o.h,o.e,l.a,l.b,u.c,u.b,u.a,s.b,d.a],pipes:[p.c,f.f],styles:[""],data:{animation:[r.a]}}),a}()},BxcV:function(a,e,n){"use strict";n.d(e,"a",function(){return E});var c=n("SVse"),o=n("u9T3"),r=n("s7LF"),i=n("Dxy4"),l=n("PDjf"),u=n("f44v"),s=n("TN/R"),d=n("iELJ"),p=n("Tj54"),f=n("e6WT"),b=n("ZTz/"),m=n("jMqV"),h=n("zHaW"),v=n("M9ds"),g=n("ZFy/"),y=n("TSSN"),w=n("w9WL"),k=n("PCNd"),x=n("8Y7J"),E=function(){var a=function a(){t(this,a)};return a.\u0275mod=x.Pb({type:a}),a.\u0275inj=x.Ob({factory:function(t){return new(t||a)},imports:[[c.c,r.t,o.a,w.f,f.c,f.c,l.c,f.c,i.c,u.a,f.c,g.b,d.f,h.b,m.b,v.c,b.b,p.b,y.b,k.a,s.g]]}),a}()},IAdc:function(t,a,e){"use strict";e.d(a,"a",function(){return l});var n=e("Kqap"),c=e("BFxc"),o=e("xbPD"),r=e("mCNh");function i(t,a,e){return 0===e?[a]:(t.push(a),t)}function l(){return function(t,a){return arguments.length>=2?function(e){return Object(r.a)(Object(n.a)(t,a),Object(c.a)(1),Object(o.a)(a))(e)}:function(a){return Object(r.a)(Object(n.a)(function(a,e,n){return t(a,e,n+1)}),Object(c.a)(1))(a)}}(i,[])}},Iab2:function(t,a,e){var n,c;void 0===(c="function"==typeof(n=function(){"use strict";function a(t,a,e){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){r(n.response,a,e)},n.onerror=function(){console.error("could not download file")},n.send()}function e(t){var a=new XMLHttpRequest;a.open("HEAD",t,!1);try{a.send()}catch(t){}return 200<=a.status&&299>=a.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,r){var i=c.URL||c.webkitURL,l=document.createElement("a");l.download=o=o||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?n(l):e(l.href)?a(t,o,r):n(l,l.target="_blank")):(l.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,c,o){if(c=c||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,a){return void 0===a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),c);else if(e(t))a(t,c,o);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){n(r)})}}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var i="application/octet-stream"===t.type,l=/constructor/i.test(c.HTMLElement)||c.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&l||o)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},s.readAsDataURL(t)}else{var d=c.URL||c.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});c.saveAs=r.saveAs=r,t.exports=r})?n.apply(a,[]):n)||(t.exports=c)},"O/+5":function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),l=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerEmpresas",value:function(){return this.http.get(o.a.apiURL+"Empresas")}},{key:"actualizarEmpresa",value:function(t){return this.http.put("".concat(o.a.apiURL,"Empresas/").concat(t.id),t)}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},Sp5M:function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),l=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerEmpresas",value:function(){return this.http.get(o.a.apiURL+"Empresas")}},{key:"actualizarEmpresa",value:function(t){return this.http.put("".concat(o.a.apiURL,"Empresas/").concat(t.id),t)}},{key:"obtenerPV",value:function(){return this.http.get(o.a.apiURL+"PuntosVenta")}},{key:"vincularMP",value:function(t,a){return this.http.post("/api/mpoint",{client_id:t,client_secret:a})}},{key:"imprimirQR",value:function(t,a){return this.http.post("/api/mpuser",{client_id:t,client_secret:a})}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},UVsP:function(a,n,c){"use strict";c.d(n,"a",function(){return s});var o=c("AytR"),r=c("HDdC"),i=c("cp0P"),l=c("8Y7J"),u=c("IheW"),s=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerDatos",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new r.a(function(c){var r=o.a.apiURL+"Sucursales/SucursalesPorOperador";n&&(r=o.a.apiURL+'Sucursales/?filter={"where":{"deletedon":{"eq":null}}}');var l=[t.http.get(encodeURI(r))];a&&l.push(t.http.get(encodeURI(o.a.apiURL+'PuntosVenta/?filter={"where":{"deletedon":{"eq":null}}}'))),Object(i.a)(l).subscribe(function(t){var o=t[0];if(o=o.map(function(t,a,e){return{bactivo:"T"==t.bactivo,nombre:t.sdescripcion,id:t.idsucursal,idsucursal:t.idsucursal,puntosventas:new Array}}),e&&(o=o.filter(function(t){return t.bactivo})),o.sort(function(t,a){return t.nombre>a.nombre?1:t.nombre<a.nombre?-1:0}),o.splice(0,0,{nombre:"TODAS",id:"",puntosventas:new Array}),a){var r=t[1];e&&(r=r.filter(function(t){return"T"==t.bactivo}));for(var i=0;i<r.length;i++){1!=o.length&&-1==o[0].puntosventas.indexOf(r[i])&&o[0].puntosventas.push(r[i].idpv);for(var l=1;l<o.length;l++)r[i].idsucursal==o[l].idsucursal&&-1==o[l].puntosventas.indexOf(r[i].idpv)&&o[l].puntosventas.push(r[i].idpv)}for(i=0;i<o.length;i++)o[i].puntosventasstr=o[i].puntosventas.join()}n||2!=o.length||o.shift(),c.next(o),c.complete()},function(t){return c.error(t)})})}}]),a}();return a.\u0275fac=function(t){return new(t||a)(l.bc(u.c))},a.\u0275prov=l.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},bPAe:function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("Iab2"),r=c("EUZL"),i=c("8Y7J"),l=function(){var a=function(){function a(){t(this,a),this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}return e(a,[{key:"exportExcel",value:function(t,a,e){var n,c,o,i=r.utils.json_to_sheet(t),l=r.write({Sheets:(n={},c=e,o=i,c in n?Object.defineProperty(n,c,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[c]=o,n),SheetNames:[e]},{bookType:"xlsx",type:"array"});this.saveExcelFile(l,a)}},{key:"saveExcelFile",value:function(t,a){var e=new Blob([t],{type:this.fileType});o.saveAs(e,a+this.fileExtension)}}]),a}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=i.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},i59u:function(a,n,c){"use strict";c.d(n,"a",function(){return j});var o=c("iELJ"),r=c("GmJt"),i=c("wd/R"),l=c("8Y7J"),u=c("SVse"),s=c("PDjf"),d=c("M9ds"),p=c("w9WL"),f=c("VDRc"),b=c("Dxy4"),m=c("Tj54"),h=c("ZFy/"),v=c("TSSN");function g(t,a){if(1&t&&(l.Xb(0,"h1",15),l.Oc(1),l.Xb(2,"mat-icon",16),l.Oc(3,"person_pin"),l.Wb(),l.Wb()),2&t){var e=l.jc();l.Eb(1),l.Rc("",e.data.payload.idTipoDoc,"-",e.data.payload.Comprobante," "),l.Eb(1),l.pc("matTooltip",e.tooltip)}}function y(t,a){if(1&t&&(l.Xb(0,"h1",15),l.Oc(1),l.Xb(2,"mat-icon",16),l.Oc(3,"person_pin"),l.Wb(),l.Wb()),2&t){var e=l.jc();l.Eb(1),l.Sc("",e.data.payload.idtipodoc,"-",0!=e.data.payload.idpvcaea?e.data.payload.idpvcaea.toString().padStart(4,"0"):e.data.payload.idpv.toString().padStart(4,"0"),"-",e.data.payload.idnumdoc.toString().padStart(8,"0"),""),l.Eb(1),l.pc("matTooltip",e.tooltip)}}function w(t,a){if(1&t&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Cliente:")),l.Eb(2),l.Qc(" ",e.data.payload.sRazonSocial,"")}}function k(t,a){if(1&t&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Domicilio:")),l.Eb(2),l.Qc(" ",e.data.payload.sDomicilio,"")}}function x(t,a){if(1&t&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.kc(5,"date"),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Fecha de Carga:")),l.Eb(2),l.Qc(" ",l.mc(5,4,e.data.payload.fCarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function E(t,a){if(1&t&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2),l.kc(3,"translate"),l.Wb(),l.Oc(4),l.kc(5,"date"),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Pc(l.lc(3,2,"Fecha de Carga:")),l.Eb(2),l.Qc(" ",l.mc(5,4,e.data.payload.fcarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function R(t,a){if(1&t&&(l.Xb(0,"p",2),l.Xb(1,"strong"),l.Oc(2,"CAE:"),l.Wb(),l.Oc(3),l.Wb()),2&t){var e=l.jc();l.Eb(3),l.Qc(" ",e.data.payload.ImpresionCAE,"")}}function W(t,a){if(1&t&&l.Oc(0),2&t){var e=a.row;l.Qc(" ",null==e?null:e.sProducto," ")}}function O(t,a){if(1&t&&(l.Oc(0),l.kc(1,"number")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.rCantidad)," ")}}function X(t,a){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.rPrecioU)," ")}}function M(t,a){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.rDescuentos)," ")}}function D(t,a){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.rTotal)," ")}}function U(t,a){if(1&t&&l.Oc(0),2&t){var e=a.row;l.Qc(" ",null==e?null:e.scondpago," ")}}function L(t,a){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.rimporte)," ")}}function I(t,a){if(1&t&&l.Oc(0),2&t){var e=a.row;l.Qc(" ",null==e?null:e.srefpago," ")}}function P(t,a){if(1&t&&(l.Oc(0),l.kc(1,"number")),2&t){var e=a.row;l.Qc(" ",l.lc(1,1,null==e?null:e.icuotas)," ")}}function T(t,a){if(1&t&&(l.Xb(0,"div",17),l.Xb(1,"font",18),l.Oc(2),l.kc(3,"translate"),l.kc(4,"date"),l.kc(5,"translate"),l.Wb(),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Tc("",l.lc(3,4,"ANULADO el")," ",l.mc(4,6,e.data.payload.fAnulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",l.lc(5,9,"por")," ",e.data.payload.sOperadorAnulacion,"")}}function C(t,a){if(1&t&&(l.Xb(0,"div",17),l.Xb(1,"font",18),l.Oc(2),l.kc(3,"translate"),l.kc(4,"date"),l.kc(5,"translate"),l.Wb(),l.Wb()),2&t){var e=l.jc();l.Eb(2),l.Tc("",l.lc(3,4,"ANULADO el")," ",l.mc(4,6,e.data.payload.fanulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",l.lc(5,9,"por")," ",e.data.payload.soperadoranulacion,"")}}var H=function(){return{y:"50px",delay:"300ms"}},A=function(t){return{value:"*",params:t}},j=function(){var a=function(){function a(e,n,c){t(this,a),this.data=e,this.dialogRef=n,this.cdRef=c,this.page={count:0,offset:0,limit:5};var o=[e.payload.sOperadorCreacion||e.payload.soperadorcreacion],r=[e.payload.sOperadorModificacion||e.payload.soperadormodificacion],l=[e.payload.sOperadorAnulacion||e.payload.soperadoranulacion],u=[e.payload.fModificacion||e.payload.fmodificacion],s=[e.payload.fAnulacion||e.payload.fanulacion],d="T"==e.payload.bAnulado||"T"==e.payload.banulado;this.tooltip="Creado: "+i([e.payload.fCreacion||e.payload.fcreacion]).format("DD/MM/YYYY HH:mm")+" por "+o+", Modificado: "+i(u).format("DD/MM/YYYY HH:mm")+" por "+r,d&&(this.tooltip+=", Anulado: "+i(s).format("DD/MM/YYYY HH:mm")+" por "+l)}return e(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}}]),a}();return a.\u0275fac=function(t){return new(t||a)(l.Rb(o.a),l.Rb(o.g),l.Rb(l.h))},a.\u0275cmp=l.Lb({type:a,selectors:[["app-products-popup"]],decls:79,vars:91,consts:[["matDialogTitle","","align","right",4,"ngIf"],["class","m-0",4,"ngIf"],[1,"m-0"],["label","Detalles"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],[3,"name","flexGrow"],["ngx-datatable-cell-template",""],["label","Medios de Pago"],[2,"width","100%"],["align","right"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100","class","mt-16",4,"ngIf"],["fxFlex","100","fxLayoutAlign","end",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["matDialogTitle","","align","right"],[3,"matTooltip"],["fxFlex","100",1,"mt-16"],["color","red"]],template:function(t,a){1&t&&(l.Mc(0,g,4,3,"h1",0),l.Mc(1,y,4,4,"h1",0),l.Xb(2,"mat-dialog-content"),l.Xb(3,"mat-card"),l.Xb(4,"mat-card-content"),l.Mc(5,w,5,4,"p",1),l.Mc(6,k,5,4,"p",1),l.Mc(7,x,6,7,"p",1),l.Mc(8,E,6,7,"p",1),l.Mc(9,R,4,1,"p",1),l.Xb(10,"p",2),l.Oc(11),l.Wb(),l.Wb(),l.Wb(),l.Xb(12,"mat-tab-group"),l.Xb(13,"mat-tab",3),l.Xb(14,"mat-card",4),l.Xb(15,"mat-card-content",4),l.Xb(16,"ngx-datatable",5),l.Xb(17,"ngx-datatable-column",6),l.kc(18,"translate"),l.Mc(19,W,1,1,"ng-template",7),l.Wb(),l.Xb(20,"ngx-datatable-column",6),l.kc(21,"translate"),l.Mc(22,O,2,3,"ng-template",7),l.Wb(),l.Xb(23,"ngx-datatable-column",6),l.kc(24,"translate"),l.Mc(25,X,2,3,"ng-template",7),l.Wb(),l.Xb(26,"ngx-datatable-column",6),l.kc(27,"translate"),l.Mc(28,M,2,3,"ng-template",7),l.Wb(),l.Xb(29,"ngx-datatable-column",6),l.kc(30,"translate"),l.Mc(31,D,2,3,"ng-template",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(32,"mat-tab",8),l.Xb(33,"mat-card",4),l.Xb(34,"mat-card-content",4),l.Xb(35,"ngx-datatable",5),l.Xb(36,"ngx-datatable-column",6),l.kc(37,"translate"),l.Mc(38,U,1,1,"ng-template",7),l.Wb(),l.Xb(39,"ngx-datatable-column",6),l.kc(40,"translate"),l.Mc(41,L,2,3,"ng-template",7),l.Wb(),l.Xb(42,"ngx-datatable-column",6),l.kc(43,"translate"),l.Mc(44,I,1,1,"ng-template",7),l.Wb(),l.Xb(45,"ngx-datatable-column",6),l.kc(46,"translate"),l.Mc(47,P,2,3,"ng-template",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(48,"div"),l.Xb(49,"table",9),l.Xb(50,"tr"),l.Xb(51,"th"),l.Oc(52,"Total neto"),l.Wb(),l.Xb(53,"th"),l.Oc(54,"Total Descuentos"),l.Wb(),l.Xb(55,"th"),l.Oc(56,"Total Impuestos"),l.Wb(),l.Wb(),l.Xb(57,"tr"),l.Xb(58,"th"),l.Oc(59),l.kc(60,"currency"),l.Wb(),l.Xb(61,"th"),l.Oc(62),l.kc(63,"currency"),l.Wb(),l.Xb(64,"th"),l.Oc(65),l.kc(66,"currency"),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(67,"h2",10),l.Oc(68),l.kc(69,"currency"),l.Wb(),l.Xb(70,"mat-dialog-content",11),l.Mc(71,T,6,11,"div",12),l.Mc(72,C,6,11,"div",12),l.Xb(73,"div",13),l.Xb(74,"button",14),l.fc("click",function(){return a.dialogRef.close(!1)}),l.Xb(75,"mat-icon"),l.Oc(76,"cancel"),l.Wb(),l.Oc(77),l.kc(78,"translate"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.pc("ngIf",a.data.payload.idTipoDoc),l.Eb(1),l.pc("ngIf",a.data.payload.idtipodoc),l.Eb(2),l.pc("@animate",l.vc(83,A,l.uc(82,H))),l.Eb(2),l.pc("ngIf",a.data.payload.sRazonSocial),l.Eb(1),l.pc("ngIf",a.data.payload.sDomicilio),l.Eb(1),l.pc("ngIf",a.data.payload.fCarga),l.Eb(1),l.pc("ngIf",a.data.payload.fcarga),l.Eb(1),l.pc("ngIf",a.data.payload.ImpresionCAE),l.Eb(2),l.Pc(a.data.sleyendacaea),l.Eb(3),l.pc("@animate",l.vc(86,A,l.uc(85,H))),l.Eb(2),l.pc("rows",a.data.ventaitems)("columnMode","flex")("headerHeight",50)("footerHeight",a.data.ventaitems.length>a.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit),l.Eb(1),l.qc("name",l.lc(18,54,"Descripci\xf3n")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(21,56,"Cantidad")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(24,58,"Precio")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(27,60,"Descuentos")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(30,62,"Total")),l.pc("flexGrow",1),l.Eb(4),l.pc("@animate",l.vc(89,A,l.uc(88,H))),l.Eb(2),l.pc("rows",a.data.ventamovcaja)("columnMode","flex")("headerHeight",50)("footerHeight",a.data.ventamovcaja.length>a.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit),l.Eb(1),l.qc("name",l.lc(37,64,"Medio de Pago")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(40,66,"Importe")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(43,68,"Referencia")),l.pc("flexGrow",1),l.Eb(3),l.qc("name",l.lc(46,70,"Cuotas")),l.pc("flexGrow",1),l.Eb(14),l.Pc(l.lc(60,72,a.data.payload.rTotNeto)),l.Eb(3),l.Pc(l.lc(63,74,a.data.payload.rTotDescuento)),l.Eb(3),l.Pc(l.lc(66,76,a.data.payload.rTotImpuestos)),l.Eb(3),l.Qc(" Total:",l.lc(69,78,a.data.payload.rTotBruto),"\n"),l.Eb(3),l.pc("ngIf","T"==a.data.payload.bAnulado),l.Eb(1),l.pc("ngIf","T"==a.data.payload.banulado),l.Eb(5),l.Qc("",l.lc(78,80,"Cancelar")," "))},directives:[u.o,o.e,s.a,s.b,d.b,d.a,p.d,p.b,p.a,f.c,f.b,f.a,b.b,m.a,o.h,h.a],pipes:[v.c,u.d,u.f,u.g],styles:[""],data:{animation:[r.a]}}),a}()},qA6C:function(a,n,c){"use strict";c.d(n,"a",function(){return l});var o=c("AytR"),r=c("8Y7J"),i=c("IheW"),l=function(){var a=function(){function a(e){t(this,a),this.http=e,this.listaProductos=[]}return e(a,[{key:"obtenerDatos",value:function(t,a,e,n){return this.http.get(encodeURI("".concat(o.a.apiURL,'Productos?filter={"where":').concat(t,',"limit":').concat(a,',"skip":').concat(e,',"order":"').concat(n,'"}')))}},{key:"traerProductosPagina",value:function(t,a,e,n,c){var r=this;this.http.get(encodeURI("".concat(o.a.apiURL,'Productos?filter={"limit":').concat(t,',"skip":').concat(a,',"order":"').concat(e,'"}'))).subscribe(function(o){o.length>0?(r.listaProductos=r.listaProductos.concat(o),r.traerProductosPagina(t,a+t,e,n,c)):n()},function(t){"function"==typeof c&&c(t)})}},{key:"traerProductos",value:function(t,a,e){this.listaProductos.length=0,this.traerProductosPagina(2e4,0,t,a,e)}},{key:"obtenerFamilias",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Familias?filter={"where":{"deletedon":{"eq":null}}}'))}},{key:"obtenerProveedores",value:function(){return this.http.get(encodeURI(o.a.apiURL+'Proveedores?filter={"where":{"and":[{"deletedon":{"eq":null}},{"srazonsocial":{"neq":""}}]},"order":"srazonsocial ASC"}'))}},{key:"obtenerCount",value:function(t){return this.http.get(encodeURI("".concat(o.a.apiURL,"Productos/count?where=").concat(t)))}},{key:"actualizarProducto",value:function(t){return this.http.put("".concat(o.a.apiURL,"Productos/").concat(t.id),t)}},{key:"agregarProducto",value:function(t){return this.http.post(o.a.apiURL+"Productos",t)}},{key:"obtenerEmpresas",value:function(){return this.http.get(o.a.apiURL+"Empresas")}},{key:"obtenerIdMasAlto",value:function(){return this.http.get(o.a.apiURL+"Productos/idMasAlto")}}]),a}();return a.\u0275fac=function(t){return new(t||a)(r.bc(i.c))},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},rGvg:function(a,n,c){"use strict";c.d(n,"a",function(){return W});var o=c("iELJ"),r=c("bPAe"),i=c("wd/R"),l=c("GmJt"),u=c("8Y7J"),s=c("PDjf"),d=c("w9WL"),p=c("SVse"),f=c("VDRc"),b=c("Dxy4"),m=c("Tj54"),h=c("TSSN");function v(t,a){}function g(t,a){if(1&t&&(u.Oc(0),u.kc(1,"date")),2&t){var e=a.row;u.Qc(" ",u.mc(1,1,null==e?null:e.Fecha,"dd/MM/yyyy HH:mm:ss")," ")}}function y(t,a){if(1&t&&u.Oc(0),2&t){var e=a.row;u.Qc(" ",null==e?null:e.Descripcion," ")}}function w(t,a){if(1&t&&(u.Oc(0),u.kc(1,"number")),2&t){var e=a.row;u.Qc(" ",u.lc(1,1,null==e?null:e.Cantidad)," ")}}function k(t,a){if(1&t&&u.Oc(0),2&t){var e=a.row;u.Qc(" ",null==e?null:e.Operador," ")}}function x(t,a){if(1&t){var e=u.Yb();u.Xb(0,"button",11),u.fc("click",function(){return u.Dc(e),u.jc().export()}),u.Xb(1,"mat-icon"),u.Oc(2,"save_alt"),u.Wb(),u.Oc(3),u.kc(4,"translate"),u.Wb()}2&t&&(u.Eb(3),u.Pc(u.lc(4,1,"SALES.EXCEL")))}var E=function(){return{y:"50px",delay:"300ms"}},R=function(t){return{value:"*",params:t}},W=function(){var a=function(){function a(e,n,c,o){t(this,a),this.data=e,this.dialogRef=n,this.servicioExportarExcel=c,this.cdRef=o,this.page={count:0,offset:0,limit:5}}return e(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}},{key:"getCellClass",value:function(t){var a=t.row,e=t.column;return{ngxgroup:a.isGroup,"ngx-alert-success ngx-alert-padding":"status"==e.prop&&a.Cantidad>0,"ngx-alert-danger ngx-alert-padding":"status"==e.prop&&a.Cantidad<0,"ngx-alert-warning ngx-alert-padding":"status"==e.prop&&0==a.Cantidad}}},{key:"export",value:function(){var t=this.data.historialstock.map(function(t){return{Fecha:i(t.Fecha).format("DD/MM/YYYY HH:mm:ss"),"Descripci\xf3n":t.Descripcion,Cantidad:t.Cantidad,Operador:t.Operador}});this.servicioExportarExcel.exportExcel(t,"historial_stock_"+this.data.payload.sProducto,"historial_stock")}}]),a}();return a.\u0275fac=function(t){return new(t||a)(u.Rb(o.a),u.Rb(o.g),u.Rb(r.a),u.Rb(u.h))},a.\u0275cmp=u.Lb({type:a,selectors:[["app-products-popup"]],decls:35,vars:45,consts:[["matDialogTitle",""],[1,"p-0"],[1,"material","ml-0","mr-0","ngx-status",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],["prop","status","name","",3,"cellClass","sortable","width","flexGrow"],["ngx-datatable-cell-template",""],[3,"name","width"],["align","right",1,"p-8"],["mat-raised-button","","class","m-8","color","primary",3,"click",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["mat-raised-button","","color","primary",1,"m-8",3,"click"]],template:function(t,a){1&t&&(u.Xb(0,"h1",0),u.Oc(1),u.Wb(),u.Xb(2,"mat-dialog-content"),u.Xb(3,"mat-card"),u.Xb(4,"mat-card-content"),u.Xb(5,"h5"),u.Oc(6),u.Wb(),u.Xb(7,"h5"),u.Oc(8),u.Wb(),u.Wb(),u.Wb(),u.Xb(9,"mat-card",1),u.Xb(10,"mat-card-content",1),u.Xb(11,"ngx-datatable",2),u.Xb(12,"ngx-datatable-column",3),u.Mc(13,v,0,0,"ng-template",4),u.Wb(),u.Xb(14,"ngx-datatable-column",5),u.kc(15,"translate"),u.Mc(16,g,2,4,"ng-template",4),u.Wb(),u.Xb(17,"ngx-datatable-column",5),u.kc(18,"translate"),u.Mc(19,y,1,1,"ng-template",4),u.Wb(),u.Xb(20,"ngx-datatable-column",5),u.kc(21,"translate"),u.Mc(22,w,2,3,"ng-template",4),u.Wb(),u.Xb(23,"ngx-datatable-column",5),u.kc(24,"translate"),u.Mc(25,k,1,1,"ng-template",4),u.Wb(),u.Wb(),u.Xb(26,"div",6),u.Mc(27,x,5,3,"button",7),u.Wb(),u.Wb(),u.Wb(),u.Wb(),u.Xb(28,"mat-dialog-content",8),u.Xb(29,"div",9),u.Xb(30,"button",10),u.fc("click",function(){return a.dialogRef.close(!1)}),u.Xb(31,"mat-icon"),u.Oc(32,"cancel"),u.Wb(),u.Oc(33),u.kc(34,"translate"),u.Wb(),u.Wb(),u.Wb()),2&t&&(u.Eb(1),u.Rc("",a.data.title,": ",a.data.payload.sProducto,""),u.Eb(2),u.pc("@animate",u.vc(40,R,u.uc(39,E))),u.Eb(3),u.Qc("Dep\xf3sito: ",a.data.payload.sDeposito,""),u.Eb(2),u.Qc("Stock: ",a.data.payload.rStock,""),u.Eb(1),u.pc("@animate",u.vc(43,R,u.uc(42,E))),u.Eb(2),u.pc("rows",a.data.historialstock)("columnMode","force")("headerHeight",50)("footerHeight",a.data.historialstock.length>a.page.limit?50:0)("scrollbarH",!0)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit),u.Eb(1),u.pc("cellClass",a.getCellClass)("sortable",!1)("width",10)("flexGrow",.1),u.Eb(2),u.qc("name",u.lc(15,29,"Fecha")),u.pc("width",150),u.Eb(3),u.qc("name",u.lc(18,31,"Descripci\xf3n")),u.pc("width",150),u.Eb(3),u.qc("name",u.lc(21,33,"Cantidad")),u.pc("width",150),u.Eb(3),u.qc("name",u.lc(24,35,"Operador")),u.pc("width",150),u.Eb(4),u.pc("ngIf",a.data.historialstock.length>0),u.Eb(6),u.Pc(u.lc(34,37,"Cancelar")))},directives:[o.h,o.e,s.a,s.b,d.d,d.b,d.a,p.o,f.c,f.b,f.a,b.b,m.a],pipes:[h.c,p.f,p.g],styles:[""],data:{animation:[l.a]}}),a}()},rbHy:function(a,n,c){"use strict";c.d(n,"a",function(){return u});var o=c("AytR"),r=c("cp0P"),i=c("8Y7J"),l=c("IheW"),u=function(){var a=function(){function a(e){t(this,a),this.http=e}return e(a,[{key:"obtenerDatosTabla1",value:function(t,a,e){var n="".concat(o.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a);return e&&(n="".concat(o.a.apiURL,"Ventas/DocumentosDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a,"&idsucursal=").concat(e)),this.http.get(encodeURI(n))}},{key:"obtenerDatosTabla2",value:function(t,a,e){var n="".concat(o.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a);return e&&(n="".concat(o.a.apiURL,"Ventas/DetalleDeVentasEnUnaFecha?fdesde=").concat(t,"&fhasta=").concat(a,"&idsucursal=").concat(e)),this.http.get(encodeURI(n))}},{key:"obtenerDatosVenta",value:function(t){return Object(r.a)([this.http.get(encodeURI("".concat(o.a.apiURL,"Ventasitems/DetalleDeVentaPorId?idVenta=").concat(t))),this.http.get(encodeURI("".concat(o.a.apiURL,"Ventas/DetalleDeMovCajaVenta?idVenta=").concat(t)))])}}]),a}();return a.\u0275fac=function(t){return new(t||a)(i.bc(l.c))},a.\u0275prov=i.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()},vpPe:function(a,n,c){"use strict";c.d(n,"a",function(){return r});var o=c("8Y7J"),r=function(){var a=function(){function a(){t(this,a)}return e(a,[{key:"generateUUID",value:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==a?e:3&e|8).toString(16)})}}]),a}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a}()}}])}();