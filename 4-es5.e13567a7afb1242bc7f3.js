!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function a(t,e,a){return e&&n(t.prototype,e),a&&n(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{CHRX:function(n,o,r){"use strict";r.d(o,"a",function(){return c});var i=r("wd/R"),c=function(){function n(){e(this,n),this.sum=[],this.data=[],this.rows=[],this.filter={},this.groups={},this.groupField="",this.secondarySort="",this.sortDir="asc",this.footer={},this.customFilter=function(t){return t}}return a(n,[{key:"setGroup",value:function(t){this.groups[t.name]=!this.groups[t.name],this.filterRows()}},{key:"setData",value:function(t){this.data=t,this.sortData()}},{key:"sortData",value:function(){var t=this;this.data.sort(function(e,n){if(e[t.groupField]==n[t.groupField]){if(t.secondarySort){if(e[t.secondarySort]>n[t.secondarySort])return 1*("desc"===t.sortDir?-1:1);if(e[t.secondarySort]<n[t.secondarySort])return-1*("desc"===t.sortDir?-1:1)}}else{if(e[t.groupField]>n[t.groupField])return 1;if(e[t.groupField]<n[t.groupField])return-1}return 0}),this.filterRows()}},{key:"filterRows",value:function(){var e=this,n=[];n=this.data.filter(function(t){for(var n in e.filter)switch(typeof t[n]){case"number":if(e.filter[n]&&t[n].toString()!==e.filter[n].toString())return!1;break;case"string":if("f"==n.charAt(0).toLowerCase()&&i(t[n]).isValid){if(-1==i(t[n]).format("DD/MM/YYYY HH:mm:ss").indexOf(e.filter[n]))return!1;break}if(-1==t[n].toLowerCase().indexOf(e.filter[n].toLowerCase()))return!1}return!0}),n=this.customFilter(n);var a={};this.groupField?a[this.groupField]=n.length.toString():a.count=n.length.toString(),this.sum.forEach(function(t){return a[t]=0});for(var o=0;o<n.length;o++)this.sum.forEach(function(t){return a[t]+=n[o][t]});if(a.isGroup=!0,this.footer=a,this.groupField){var r=[];n.forEach(function(t){-1==r.indexOf(t[e.groupField])&&r.push(t[e.groupField])}),r=r.map(function(t){return{name:t,count:1}});var c=[],l=!0,s=0,u=null,f=function(){u&&(u[e.groupField]+=" ("+r[s-1].count.toString()+")")};for(o=0;o<n.length;o++){if(l&&n[o][this.groupField]==r[s].name){var d;f();var p="+";this.groups[r[s].name]&&(p="-"),t(d={},this.groupField,p+" "+r[s].name),t(d,"isGroup",!0),t(d,"name",r[s].name),u=d,this.sum.forEach(function(t){return u[t]=0}),c.push(u),l=++s<r.length}else r[s-1].count++;this.sum.forEach(function(t){return u[t]+=n[o][t]}),c.push(n[o])}f(),n=null,c=c.filter(function(t){return!!t.isGroup||!!e.groups[t[e.groupField]]||void 0}),this.rows=c}else this.rows=n;this.rows.push(this.footer),0==this.rows.length&&this.rows.push({})}},{key:"updateFilter",value:function(t,e){t&&e&&(this.filter[e]=t.target.value,this.filterRows())}},{key:"updateFilterBoolean",value:function(t,e){this.filter[e]=t,this.filterRows()}}]),n}()},Iab2:function(t,e,n){var a,o;void 0===(o="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){i(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,r,i){var c=o.URL||o.webkitURL,l=document.createElement("a");l.download=r=r||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?a(l):n(l.href)?e(t,r,i):a(l,l.target="_blank")):(l.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(l.href)},4e4),setTimeout(function(){a(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,r){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),o);else if(n(t))e(t,o,r);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){a(i)})}}:function(t,n,a,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var c="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||c&&l||r)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var f=o.URL||o.webkitURL,d=f.createObjectURL(t);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});o.saveAs=i.saveAs=i,t.exports=i})?a.apply(e,[]):a)||(t.exports=o)},UVsP:function(t,n,o){"use strict";o.d(n,"a",function(){return u});var r=o("AytR"),i=o("HDdC"),c=o("cp0P"),l=o("8Y7J"),s=o("IheW"),u=function(){var t=function(){function t(n){e(this,t),this.http=n}return a(t,[{key:"obtenerDatos",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new i.a(function(o){var i=r.a.apiURL+"Sucursales/SucursalesPorOperador";a&&(i=r.a.apiURL+'Sucursales/?filter={"where":{"deletedon":{"eq":null}}}');var l=[t.http.get(encodeURI(i))];e&&l.push(t.http.get(encodeURI(r.a.apiURL+'PuntosVenta/?filter={"where":{"deletedon":{"eq":null}}}'))),Object(c.a)(l).subscribe(function(t){var r=t[0];if(r=r.map(function(t,e,n){return{bactivo:"T"==t.bactivo,nombre:t.sdescripcion,id:t.idsucursal,idsucursal:t.idsucursal,puntosventas:new Array}}),n&&(r=r.filter(function(t){return t.bactivo})),r.sort(function(t,e){return t.nombre>e.nombre?1:t.nombre<e.nombre?-1:0}),r.splice(0,0,{nombre:"TODAS",id:"",puntosventas:new Array}),e){var i=t[1];n&&(i=i.filter(function(t){return"T"==t.bactivo}));for(var c=0;c<i.length;c++){1!=r.length&&-1==r[0].puntosventas.indexOf(i[c])&&r[0].puntosventas.push(i[c].idpv);for(var l=1;l<r.length;l++)i[c].idsucursal==r[l].idsucursal&&-1==r[l].puntosventas.indexOf(i[c].idpv)&&r[l].puntosventas.push(i[c].idpv)}for(c=0;c<r.length;c++)r[c].puntosventasstr=r[c].puntosventas.join()}a||2!=r.length||r.shift(),o.next(r),o.complete()},function(t){return o.error(t)})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.bc(s.c))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},bPAe:function(n,o,r){"use strict";r.d(o,"a",function(){return s});var i=r("Iab2"),c=r("EUZL"),l=r("8Y7J"),s=function(){var n=function(){function n(){e(this,n),this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}return a(n,[{key:"exportExcel",value:function(e,n,a){var o=c.utils.json_to_sheet(e),r=c.write({Sheets:t({},a,o),SheetNames:[a]},{bookType:"xlsx",type:"array"});this.saveExcelFile(r,n)}},{key:"saveExcelFile",value:function(t,e){var n=new Blob([t],{type:this.fileType});i.saveAs(n,e+this.fileExtension)}}]),n}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},i59u:function(t,n,o){"use strict";o.d(n,"a",function(){return T});var r=o("iELJ"),i=o("GmJt"),c=o("wd/R"),l=o("8Y7J"),s=o("Tj54"),u=o("ZFy/"),f=o("PDjf"),d=o("w9WL"),p=o("VDRc"),b=o("SVse"),m=o("Dxy4"),h=o("TSSN");function g(t,e){if(1&t&&l.Oc(0),2&t){var n=e.row;l.Qc(" ",null==n?null:n.sCodProducto," ")}}function v(t,e){if(1&t&&l.Oc(0),2&t){var n=e.row;l.Qc(" ",null==n?null:n.sProducto," ")}}function w(t,e){if(1&t&&(l.Oc(0),l.kc(1,"number")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rCantidad)," ")}}function y(t,e){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rPrecioU)," ")}}function E(t,e){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rDescuentos)," ")}}function k(t,e){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rTotal)," ")}}function O(t,e){if(1&t&&l.Oc(0),2&t){var n=e.row;l.Qc(" ",null==n?null:n.scondpago," ")}}function x(t,e){if(1&t&&(l.Oc(0),l.kc(1,"currency")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.rimporte)," ")}}function W(t,e){if(1&t&&l.Oc(0),2&t){var n=e.row;l.Qc(" ",null==n?null:n.srefpago," ")}}function X(t,e){if(1&t&&(l.Oc(0),l.kc(1,"number")),2&t){var n=e.row;l.Qc(" ",l.lc(1,1,null==n?null:n.icuotas)," ")}}function M(t,e){if(1&t&&(l.Xb(0,"div",12),l.Xb(1,"font",13),l.Oc(2),l.kc(3,"translate"),l.kc(4,"date"),l.kc(5,"translate"),l.Wb(),l.Wb()),2&t){var n=l.jc();l.Eb(2),l.Sc("",l.lc(3,4,"ANULADO el")," ",l.mc(4,6,n.data.payload.fAnulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",l.lc(5,9,"por")," ",n.data.payload.sOperadorAnulacion,"")}}var R=function(){return{y:"50px",delay:"300ms"}},A=function(t){return{value:"*",params:t}},T=function(){var t=function(){function t(n,a){e(this,t),this.data=n,this.dialogRef=a,this.page={count:0,offset:0,limit:10},this.tooltip="Creado: "+c(n.payload.fCreacion).format("DD/MM/YYYY HH:mm")+" por "+n.payload.sOperadorCreacion+", Modificado: "+c(n.payload.fModificacion).format("DD/MM/YYYY HH:mm")+" por "+n.payload.sOperadorModificacion,"T"==n.payload.bAnulado&&(this.tooltip+=", Anulado: "+c(n.payload.fAnulacion).format("DD/MM/YYYY HH:mm")+" por "+n.payload.sOperadorAnulacion)}return a(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewChecked",value:function(){window.dispatchEvent(new Event("resize"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Rb(r.a),l.Rb(r.f))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-products-popup"]],decls:77,vars:99,consts:[["matDialogTitle","","align","right"],[3,"matTooltip"],[1,"m-0"],["ng-if","data.payload.ImpresionCAE",1,"m-0"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","selectionType"],[3,"name","width"],["ngx-datatable-cell-template",""],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100","class","mt-16",4,"ngIf"],["fxFlex","100","fxLayoutAlign","end",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["fxFlex","100",1,"mt-16"],["color","red"]],template:function(t,e){1&t&&(l.Xb(0,"h1",0),l.Oc(1),l.Xb(2,"mat-icon",1),l.Oc(3,"person_pin"),l.Wb(),l.Wb(),l.Xb(4,"mat-dialog-content"),l.Xb(5,"mat-card"),l.Xb(6,"mat-card-content"),l.Xb(7,"p",2),l.Xb(8,"strong"),l.Oc(9),l.kc(10,"translate"),l.Wb(),l.Oc(11),l.Wb(),l.Xb(12,"p",2),l.Xb(13,"strong"),l.Oc(14),l.kc(15,"translate"),l.Wb(),l.Oc(16),l.Wb(),l.Xb(17,"p",2),l.Xb(18,"strong"),l.Oc(19),l.kc(20,"translate"),l.Wb(),l.Oc(21),l.kc(22,"date"),l.Wb(),l.Xb(23,"p",3),l.Xb(24,"strong"),l.Oc(25,"CAE:"),l.Wb(),l.Oc(26),l.Wb(),l.Xb(27,"p",2),l.Oc(28),l.Wb(),l.Wb(),l.Wb(),l.Xb(29,"mat-card",4),l.Xb(30,"mat-card-content",4),l.Xb(31,"ngx-datatable",5),l.Xb(32,"ngx-datatable-column",6),l.kc(33,"translate"),l.Mc(34,g,1,1,"ng-template",7),l.Wb(),l.Xb(35,"ngx-datatable-column",6),l.kc(36,"translate"),l.Mc(37,v,1,1,"ng-template",7),l.Wb(),l.Xb(38,"ngx-datatable-column",6),l.kc(39,"translate"),l.Mc(40,w,2,3,"ng-template",7),l.Wb(),l.Xb(41,"ngx-datatable-column",6),l.kc(42,"translate"),l.Mc(43,y,2,3,"ng-template",7),l.Wb(),l.Xb(44,"ngx-datatable-column",6),l.kc(45,"translate"),l.Mc(46,E,2,3,"ng-template",7),l.Wb(),l.Xb(47,"ngx-datatable-column",6),l.kc(48,"translate"),l.Mc(49,k,2,3,"ng-template",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(50,"mat-card",4),l.Xb(51,"mat-card-content",4),l.Xb(52,"ngx-datatable",5),l.Xb(53,"ngx-datatable-column",6),l.kc(54,"translate"),l.Mc(55,O,1,1,"ng-template",7),l.Wb(),l.Xb(56,"ngx-datatable-column",6),l.kc(57,"translate"),l.Mc(58,x,2,3,"ng-template",7),l.Wb(),l.Xb(59,"ngx-datatable-column",6),l.kc(60,"translate"),l.Mc(61,W,1,1,"ng-template",7),l.Wb(),l.Xb(62,"ngx-datatable-column",6),l.kc(63,"translate"),l.Mc(64,X,2,3,"ng-template",7),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Wb(),l.Xb(65,"mat-dialog-content",8),l.Mc(66,M,6,11,"div",9),l.Xb(67,"div",10),l.Xb(68,"h3"),l.Oc(69),l.kc(70,"currency"),l.Wb(),l.Wb(),l.Xb(71,"div",10),l.Xb(72,"button",11),l.fc("click",function(){return e.dialogRef.close(!1)}),l.Xb(73,"mat-icon"),l.Oc(74,"cancel"),l.Wb(),l.Oc(75),l.kc(76,"translate"),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Eb(1),l.Rc("",e.data.payload.idTipoDoc,"-",e.data.payload.Comprobante,""),l.Eb(1),l.pc("matTooltip",e.tooltip),l.Eb(3),l.pc("@animate",l.vc(91,A,l.uc(90,R))),l.Eb(4),l.Pc(l.lc(10,57,"Cliente:")),l.Eb(2),l.Qc(" ",e.data.payload.sRazonSocial,""),l.Eb(3),l.Pc(l.lc(15,59,"Domicilio:")),l.Eb(2),l.Qc(" ",e.data.payload.sDomicilio,""),l.Eb(3),l.Pc(l.lc(20,61,"Fecha de Carga:")),l.Eb(2),l.Qc(" ",l.mc(22,63,e.data.payload.fCarga,"dd/MM/yyyy ' a las ' HH:mm"),""),l.Eb(5),l.Qc(" ",e.data.payload.ImpresionCAE,""),l.Eb(2),l.Pc(e.data.sleyendacaea),l.Eb(1),l.pc("@animate",l.vc(94,A,l.uc(93,R))),l.Eb(2),l.pc("rows",e.data.ventaitems)("columnMode","force")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("rowHeight",50)("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit)("selectionType","single"),l.Eb(1),l.qc("name",l.lc(33,66,"Codigo")),l.pc("width",200),l.Eb(3),l.qc("name",l.lc(36,68,"Descripci\xf3n")),l.pc("width",500),l.Eb(3),l.qc("name",l.lc(39,70,"Cantidad")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(42,72,"Precio")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(45,74,"Descuentos")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(48,76,"Total")),l.pc("width",150),l.Eb(3),l.pc("@animate",l.vc(97,A,l.uc(96,R))),l.Eb(2),l.pc("rows",e.data.ventamovcaja)("columnMode","standard")("headerHeight",50)("footerHeight",50)("scrollbarH",!0)("rowHeight",50)("count",e.page.count)("offset",e.page.offset)("limit",e.page.limit)("selectionType","single"),l.Eb(1),l.qc("name",l.lc(54,78,"Medio de Pago")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(57,80,"Importe")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(60,82,"Referencia")),l.pc("width",150),l.Eb(3),l.qc("name",l.lc(63,84,"Cuotas")),l.pc("width",150),l.Eb(4),l.pc("ngIf","T"==e.data.payload.bAnulado),l.Eb(3),l.Qc("Total: ",l.lc(70,86,e.data.payload.rTotBruto),""),l.Eb(6),l.Qc("",l.lc(76,88,"Cancelar")," "))},directives:[r.g,s.a,u.a,r.d,f.a,f.b,d.d,d.b,d.a,p.c,p.b,b.o,p.a,m.b],pipes:[h.c,b.f,b.d,b.g],styles:[""],data:{animation:[i.a]}}),t}()}}])}();