(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8O9Z":function(i,o,t){"use strict";t.r(o),t.d(o,"NewPromotionModule",function(){return Si});var e=t("SVse"),n=t("s7LF"),c=t("3sEA"),r=t("vpPe"),s=t("cp0P"),a=t("JX91"),d=t("lJxs"),l=t("8iJF"),p=t("Sp5M"),h=t("qA6C"),b=t("AytR"),u=t("8Y7J"),m=t("IheW");let f=(()=>{class i{constructor(i){this.http=i}obtenerPromocion(i){return this.http.get(encodeURI(`${b.a.apiURL}Promociones/${i}`))}obtenerSucursales(){return this.http.get(encodeURI(b.a.apiURL+'Sucursales?filter={"where":{"deletedon":{"eq":null}}}'))}obtenerFamilias(){return this.http.get(encodeURI(b.a.apiURL+'Familias?filter={"where":{"deletedon":{"eq":null}},"order":"sfamilia ASC"}'))}obtenerTiposCondPago(){return this.http.get(encodeURI(b.a.apiURL+'TiposCondPago?filter={"where":{"deletedon":{"eq":null}}}'))}actualizarPromocion(i){return this.http.put(`${b.a.apiURL}Promociones/${i.id}`,i)}}return i.\u0275fac=function(o){return new(o||i)(u.bc(m.c))},i.\u0275prov=u.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=t("iInd"),P=t("zHaW"),v=t("PDjf"),M=t("pMoy"),W=t("Q2Ze"),E=t("VDRc"),X=t("ZTz/"),C=t("e6WT"),D=t("n1FK"),I=t("TN/R"),T=t("Dxy4"),F=t("Tj54"),k=t("UhP/"),O=t("vrAh"),x=t("TSSN");function j(i,o){if(1&i&&(u.Xb(0,"div"),u.Sb(1,"img",24),u.Wb()),2&i){const i=u.jc();u.Eb(1),u.qc("src",i.formImagenPromocion,u.Fc)}}function S(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",null==i?null:i.sdescripcion," ")}}function y(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function L(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function w(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"label"),u.Oc(2),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(2),u.Pc(i.editorCliente.srazonsocial)}}function A(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc(" ",null==i?null:i.srazonsocial," ")}}function R(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div",34),u.fc("click",function(){u.Dc(i);const o=u.jc(3);return o.elegirTipoCliente(o.$index)}),u.Xb(1,"a",35),u.Oc(2),u.Wb(),u.Wb()}if(2&i){const i=o.$implicit;u.Eb(2),u.Pc(i.stipocliente)}}function U(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"div",29),u.Xb(2,"button",30),u.Xb(3,"span"),u.Oc(4),u.Wb(),u.Sb(5,"span",31),u.Wb(),u.Xb(6,"div",32),u.Mc(7,R,3,1,"div",33),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(4),u.Pc(i.editorTipoCliente.stipocliente),u.Eb(3),u.pc("ngForOf",i.listaTipoClientes)}}function V(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"section"),u.Xb(2,"mat-form-field",5),u.Xb(3,"mat-label"),u.Oc(4),u.kc(5,"translate"),u.Wb(),u.Xb(6,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto0=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDto0Event(o.value)}),u.Mc(7,L,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(8,w,3,1,"div",1),u.Xb(9,"section"),u.Xb(10,"mat-form-field",5),u.Sb(11,"input",26),u.Xb(12,"mat-autocomplete",27,28),u.Mc(14,A,2,2,"mat-option",7),u.kc(15,"async"),u.Wb(),u.Wb(),u.Wb(),u.Mc(16,U,8,2,"div",1),u.Wb()}if(2&i){const i=u.Ac(13),o=u.jc();u.Eb(4),u.Pc(u.lc(5,9,"Tipo")),u.Eb(2),u.pc("ngModel",o.dto0),u.Eb(1),u.pc("ngForOf",o.tiposDto0),u.Eb(1),u.pc("ngIf",0==o.dto0id),u.Eb(3),u.pc("formControl",o.editorCliente)("matAutocomplete",i),u.Eb(1),u.pc("displayWith",o.displayFnClientes),u.Eb(2),u.pc("ngForOf",u.lc(15,11,o.filteredClientes)),u.Eb(2),u.pc("ngIf",1==o.dto0id)}}function $(i,o){if(1&i){const i=u.Yb();u.Xb(0,"mat-checkbox",0),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().checkAplicaSobreElPrecio=o}),u.Oc(1,"Aplica sobre el precio"),u.Wb()}if(2&i){const i=u.jc();u.pc("ngModel",i.checkAplicaSobreElPrecio)}}function N(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function Y(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function Q(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"section"),u.Xb(2,"mat-form-field",5),u.Xb(3,"mat-label"),u.Oc(4),u.kc(5,"translate"),u.Wb(),u.Xb(6,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto9=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDto9Event(o.value)}),u.Mc(7,Y,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Xb(8,"section"),u.Xb(9,"mat-form-field",8),u.Xb(10,"input",36),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto9input=o}),u.Wb(),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.jc();u.Eb(4),u.Pc(u.lc(5,4,"Tipo")),u.Eb(2),u.pc("ngModel",i.dto9),u.Eb(1),u.pc("ngForOf",i.tiposDto9),u.Eb(3),u.pc("ngModel",i.dto9input)}}function q(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function B(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div",34),u.fc("click",function(){u.Dc(i);const o=u.jc(3);return o.elegirTipoMedioDto1(o.$index)}),u.Xb(1,"a",35),u.Oc(2),u.Wb(),u.Wb()}if(2&i){const i=o.$implicit;u.Eb(2),u.Pc(i.toString())}}function J(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"div",29),u.Xb(2,"button",30),u.Xb(3,"span"),u.Oc(4),u.Wb(),u.Sb(5,"span",31),u.Wb(),u.Xb(6,"div",32),u.Mc(7,B,3,1,"div",33),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(4),u.Pc(i.medioDto1),u.Eb(3),u.pc("ngForOf",i.tiposMedioDePago)}}function z(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div",34),u.fc("click",function(){u.Dc(i);const o=u.jc(3);return o.elegirTipoMedioDto1a(o.$index)}),u.Xb(1,"a",35),u.Oc(2),u.Wb(),u.Wb()}if(2&i){const i=o.$implicit;u.Eb(2),u.Pc(i.sdescripcion)}}function _(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"div",29),u.Xb(2,"button",30),u.Xb(3,"span"),u.Oc(4),u.Wb(),u.Sb(5,"span",31),u.Wb(),u.Xb(6,"div",32),u.Mc(7,z,3,1,"div",33),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(4),u.Pc(i.medioDto1a.sdescripcion),u.Eb(3),u.pc("ngForOf",i.listaTiposCondPago)}}function H(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"section"),u.Xb(2,"mat-form-field",5),u.Xb(3,"mat-label"),u.Oc(4),u.kc(5,"translate"),u.Wb(),u.Xb(6,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto1=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDto1Event(o.value)}),u.Mc(7,q,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(8,J,8,2,"div",1),u.Mc(9,_,8,2,"div",1),u.Wb()}if(2&i){const i=u.jc();u.Eb(4),u.Pc(u.lc(5,5,"Tipo")),u.Eb(2),u.pc("ngModel",i.dto1),u.Eb(1),u.pc("ngForOf",i.tiposDto1),u.Eb(1),u.pc("ngIf",0==i.dto1id),u.Eb(1),u.pc("ngIf",1==i.dto1id)}}function G(i,o){if(1&i){const i=u.Yb();u.Xb(0,"section"),u.Xb(1,"mat-form-field",8),u.Xb(2,"input",37),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto2input=o}),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.jc();u.Eb(2),u.pc("ngModel",i.dto2input)}}function Z(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function K(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"label"),u.Oc(2),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(2),u.Pc(i.editorProducto.snombre)}}function ii(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc(" ",null==i?null:i.snombre," ")}}function oi(i,o){if(1&i&&(u.Xb(0,"section"),u.Xb(1,"mat-form-field",5),u.Sb(2,"input",38),u.Xb(3,"mat-autocomplete",27,28),u.Mc(5,ii,2,2,"mat-option",7),u.kc(6,"async"),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.Ac(4),o=u.jc(2);u.Eb(2),u.pc("formControl",o.editorProducto)("matAutocomplete",i),u.Eb(1),u.pc("displayWith",o.displayFnProductos),u.Eb(2),u.pc("ngForOf",u.lc(6,4,o.filteredProductos))}}function ti(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div",34),u.fc("click",function(){u.Dc(i);const o=u.jc(3);return o.elegirFamilia(o.$index)}),u.Xb(1,"a",35),u.Oc(2),u.Wb(),u.Wb()}if(2&i){const i=o.$implicit;u.Eb(2),u.Pc(i.sfamilia)}}function ei(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"div",29),u.Xb(2,"button",30),u.Xb(3,"span"),u.Oc(4),u.Wb(),u.Sb(5,"span",31),u.Wb(),u.Xb(6,"div",32),u.Mc(7,ti,3,1,"div",33),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(4),u.Pc(i.editorFamilia.sfamilia),u.Eb(3),u.pc("ngForOf",i.listaFamilias)}}function ni(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"section"),u.Xb(2,"mat-form-field",5),u.Xb(3,"mat-label"),u.Oc(4),u.kc(5,"translate"),u.Wb(),u.Xb(6,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto3=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDto3Event(o.value)}),u.Mc(7,Z,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(8,K,3,1,"div",1),u.Mc(9,oi,7,6,"section",1),u.Mc(10,ei,8,2,"div",1),u.Wb()}if(2&i){const i=u.jc();u.Eb(4),u.Pc(u.lc(5,6,"Tipo")),u.Eb(2),u.pc("ngModel",i.dto3),u.Eb(1),u.pc("ngForOf",i.tiposDto3),u.Eb(1),u.pc("ngIf",0==i.dto3id||2==i.dto3id),u.Eb(1),u.pc("ngIf",0==i.dto3id||2==i.dto3id),u.Eb(1),u.pc("ngIf",1==i.dto3id)}}function ci(i,o){if(1&i){const i=u.Yb();u.Xb(0,"mat-form-field",8),u.Xb(1,"input",40),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc(2).dto4input=o}),u.Wb(),u.Wb()}if(2&i){const i=u.jc(2);u.Eb(1),u.pc("ngModel",i.dto4input)("placeholder",i.placeholderText())}}function ri(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function si(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"label"),u.Oc(2),u.Wb(),u.Wb()),2&i){const i=u.jc(3);u.Eb(2),u.Pc(i.editorProducto.snombre)}}function ai(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc(" ",null==i?null:i.snombre," ")}}function di(i,o){if(1&i&&(u.Xb(0,"section"),u.Xb(1,"mat-form-field",5),u.Sb(2,"input",38),u.Xb(3,"mat-autocomplete",27,28),u.Mc(5,ai,2,2,"mat-option",7),u.kc(6,"async"),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.Ac(4),o=u.jc(3);u.Eb(2),u.pc("formControl",o.editorProducto)("matAutocomplete",i),u.Eb(1),u.pc("displayWith",o.displayFnProductos),u.Eb(2),u.pc("ngForOf",u.lc(6,4,o.filteredProductos))}}function li(i,o){if(1&i&&(u.Xb(0,"div"),u.Mc(1,si,3,1,"div",1),u.Mc(2,di,7,6,"section",1),u.Wb()),2&i){const i=u.jc(2);u.Eb(1),u.pc("ngIf",0==i.dto4id||2==i.dto4id),u.Eb(1),u.pc("ngIf",0==i.dto4id||2==i.dto4id)}}function pi(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div",34),u.fc("click",function(){u.Dc(i);const o=u.jc(3);return o.elegirFamilia(o.$index)}),u.Xb(1,"a",35),u.Oc(2),u.Wb(),u.Wb()}if(2&i){const i=o.$implicit;u.Eb(2),u.Pc(i.sfamilia)}}function hi(i,o){if(1&i&&(u.Xb(0,"div"),u.Xb(1,"div",29),u.Xb(2,"button",30),u.Xb(3,"span"),u.Oc(4),u.Wb(),u.Sb(5,"span",31),u.Wb(),u.Xb(6,"div",32),u.Mc(7,pi,3,1,"div",33),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.jc(2);u.Eb(4),u.Pc(i.editorFamilia.sfamilia),u.Eb(3),u.pc("ngForOf",i.listaFamilias)}}function bi(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Mc(1,ci,2,2,"mat-form-field",39),u.Xb(2,"section"),u.Xb(3,"mat-form-field",5),u.Xb(4,"mat-label"),u.Oc(5),u.kc(6,"translate"),u.Wb(),u.Xb(7,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto4=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDto4Event(o.value)}),u.Mc(8,ri,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(9,li,3,2,"div",1),u.Mc(10,hi,8,2,"div",1),u.Wb()}if(2&i){const i=u.jc();u.Eb(1),u.pc("ngIf",4==i.editorPromocionIndex||6==i.editorPromocionIndex||8==i.editorPromocionIndex),u.Eb(4),u.Pc(u.lc(6,6,"Tipo")),u.Eb(2),u.pc("ngModel",i.dto4),u.Eb(1),u.pc("ngForOf",i.tiposDto4),u.Eb(1),u.pc("ngIf",8!=i.editorPromocionIndex),u.Eb(1),u.pc("ngIf",1==i.dto4id)}}function ui(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc(" ",null==i?null:i.snombre," ")}}function mi(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc(" ",null==i?null:i.snombre," ")}}function fi(i,o){if(1&i&&(u.Xb(0,"section"),u.Xb(1,"mat-form-field",5),u.Sb(2,"input",38),u.Xb(3,"mat-autocomplete",27,28),u.Mc(5,mi,2,2,"mat-option",7),u.kc(6,"async"),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.Ac(4),o=u.jc(2);u.Eb(2),u.pc("formControl",o.editorProducto1)("matAutocomplete",i),u.Eb(1),u.pc("displayWith",o.displayFnProductos),u.Eb(2),u.pc("ngForOf",u.lc(6,4,o.filteredProductos1))}}function gi(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"mat-form-field",8),u.Xb(2,"input",41),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto5input1=o}),u.Wb(),u.Wb(),u.Xb(3,"div"),u.Xb(4,"label"),u.Oc(5),u.Wb(),u.Wb(),u.Xb(6,"section"),u.Xb(7,"mat-form-field",5),u.Sb(8,"input",38),u.Xb(9,"mat-autocomplete",27,28),u.Mc(11,ui,2,2,"mat-option",7),u.kc(12,"async"),u.Wb(),u.Wb(),u.Wb(),u.Xb(13,"mat-form-field",8),u.Xb(14,"input",42),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto5input2=o}),u.Wb(),u.Wb(),u.Xb(15,"div"),u.Xb(16,"label"),u.Oc(17),u.Wb(),u.Wb(),u.Mc(18,fi,7,6,"section",1),u.Wb()}if(2&i){const i=u.Ac(10),o=u.jc();u.Eb(2),u.pc("ngModel",o.dto5input1),u.Eb(3),u.Pc(o.editorProducto.snombre),u.Eb(3),u.pc("formControl",o.editorProducto)("matAutocomplete",i),u.Eb(1),u.pc("displayWith",o.displayFnProductos),u.Eb(2),u.pc("ngForOf",u.lc(12,9,o.filteredProductos)),u.Eb(3),u.pc("ngModel",o.dto5input2),u.Eb(3),u.Pc(o.editorProducto1.snombre),u.Eb(1),u.pc("ngIf",0==o.dto0id)}}function Pi(i,o){if(1&i){const i=u.Yb();u.Xb(0,"section"),u.Xb(1,"mat-form-field",8),u.Xb(2,"input",43),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dto5input3=o}),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.jc();u.Eb(2),u.pc("ngModel",i.dto5input3)}}function vi(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function Mi(i,o){if(1&i&&(u.Xb(0,"mat-option",25),u.Oc(1),u.Wb()),2&i){const i=o.$implicit;u.pc("value",i),u.Eb(1),u.Qc("",i," ")}}function Wi(i,o){if(1&i){const i=u.Yb();u.Xb(0,"section"),u.Xb(1,"mat-form-field",5),u.Xb(2,"mat-label"),u.Oc(3),u.kc(4,"translate"),u.Wb(),u.Xb(5,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc(2).porcentajemonto=o})("selectionChange",function(o){return u.Dc(i),u.jc(2).elegirTipoPorcentajeMontoEvent(o.value)}),u.Mc(6,Mi,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.jc(2);u.Eb(3),u.Pc(u.lc(4,3,"Porcentaje / Monto")),u.Eb(2),u.pc("ngModel",i.porcentajemonto),u.Eb(1),u.pc("ngForOf",i.tiposPorcentajeMonto)}}function Ei(i,o){if(1&i){const i=u.Yb();u.Xb(0,"div"),u.Xb(1,"section"),u.Xb(2,"mat-form-field",5),u.Xb(3,"mat-label"),u.Oc(4),u.kc(5,"translate"),u.Wb(),u.Xb(6,"mat-select",21),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dtorecargo=o})("selectionChange",function(o){return u.Dc(i),u.jc().elegirTipoDtoRecargoEvent(o.value)}),u.Mc(7,vi,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(8,Wi,7,5,"section",1),u.Xb(9,"mat-form-field",8),u.Xb(10,"input",44),u.fc("ngModelChange",function(o){return u.Dc(i),u.jc().dtorecargoinput=o}),u.Wb(),u.Wb(),u.Wb()}if(2&i){const i=u.jc();u.Eb(4),u.Pc(u.lc(5,5,"Descuento / Recargo")),u.Eb(2),u.pc("ngModel",i.dtorecargo),u.Eb(1),u.pc("ngForOf",i.tiposDtoRecargo),u.Eb(1),u.pc("ngIf",3==i.editorPromocionIndex||6==i.editorPromocionIndex||7==i.editorPromocionIndex||9==i.editorPromocionIndex),u.Eb(2),u.pc("ngModel",i.dtorecargoinput)}}const Xi=[{path:"",component:(()=>{class i{constructor(i,o,t,e,c,r,s,a){this.servicioProductos=i,this.servicioUUID=o,this.route=t,this.servicioNuevaPromocion=e,this.servicioEmpresas=c,this.servicioClientes=r,this.loader=s,this.snack=a,this.formInicio=new n.e,this.formFin=new n.e,this.listaPreciosSelecIndex=0,this.promocionSelec=0,this.editorCliente=new n.e(""),this.editorProducto=new n.e(""),this.editorProducto1=new n.e(""),this.formImagenPromocion="",this.mostrarEditor=!1,this.modoEdicion=!1,this.empresas=[],this.listadeprecios=[],this.listaPreciosSelecIndex=0,this.checkAplicaSobreElPrecio="F",this.listaClientes=[],this.listaTipoClientes=[],this.promociones=[],this.promocionSelec=0,this.tiposPromociones=["General - Descuento por cliente","General - Descuento por medio de pago","General - Descuento por monto","Por Producto - Descuento por Producto","Por Producto - Promocion AxB","Por Producto - Promocion A + B","Por Producto - Descuento variable por cantidad","Por Producto - Descuento fijo","Por Producto - Promocion AxB mas barato","Global - Cantidad / Bulto"],this.tiposDto0=["Cliente","Tipos de cliente"],this.tiposDto1=["Medio de pago"],this.tiposDto3=["Producto","Familia de producto","Bulto"],this.tiposDto4=this.tiposDto3,this.tiposDtoRecargo=["Descuento","Recargo"],this.tiposPorcentajeMonto=["%","$"],this.tiposMedioDePago=["Efectivo"],this.tiposDto9=["Unidades","Bulto"]}placeholderText(){switch(this.editorPromocionIndex){case 4:case 6:return"Cada";case 8:return"Llevando"}}_filterClientes(i){if("string"==typeof i){const o=i.toLowerCase();return this.listaClientes.filter(i=>i.srazonsocial.toLowerCase().includes(o))}return[]}displayFnClientes(i){return i&&i.srazonsocial?i.srazonsocial:""}_filterProductos(i){if("string"==typeof i){const o=i.toLowerCase();return this.listaProductos.filter(i=>i.snombre.toLowerCase().includes(o))}return[]}displayFnProductos(i){return i&&i.snombre?i.snombre:""}ngOnInit(){this.filteredClientes=this.editorCliente.valueChanges.pipe(Object(a.a)(""),Object(d.a)(i=>this._filterClientes(i))),this.filteredProductos=this.editorProducto.valueChanges.pipe(Object(a.a)(""),Object(d.a)(i=>this._filterProductos(i))),this.filteredProductos1=this.editorProducto1.valueChanges.pipe(Object(a.a)(""),Object(d.a)(i=>this._filterProductos(i)));var i=new Date;i.setHours(0,0,0,0);var o=new Date;o.setDate(1),o.setMonth(0),o.setFullYear(2050),o.setHours(23,59,59,999),this.formInicio.setValue(i),this.formFin.setValue(o),this.loader.open(),this.servicioProductos.traerProductos("",()=>{this.listaProductos=this.servicioProductos.listaProductos,Object(s.a)([this.servicioEmpresas.obtenerEmpresas(),this.servicioNuevaPromocion.obtenerSucursales(),this.servicioClientes.traerClientes(),this.servicioClientes.obtenerTiposClientes(),this.servicioNuevaPromocion.obtenerFamilias(),this.servicioNuevaPromocion.obtenerTiposCondPago()]).subscribe(i=>{this.empresas=i[0],this.listadeprecios=["Todas"];for(var o=parseInt(this.empresas[0].icantidadlistasdeprecios),t=1;t<=o;t++)this.listadeprecios.push("Lista "+t);this.listaSucursales=[{idsucursal:-1,sdescripcion:"Todas"}],this.listaSucursales=this.listaSucursales.concat(i[1]),this.listaClientes=i[2],this.listaTipoClientes=i[3],this.listaFamilias=i[4],this.listaTiposCondPago=i[5],this.loader.close();const e=this.route.snapshot.paramMap.get("id");e?this.servicioNuevaPromocion.obtenerPromocion(e).subscribe(i=>{this.editarPromocion(i)}):(this.nuevaPromocion(),this.elegirTipoPromocion(0))})})}enviarImagenPromocion(){var i=new XMLHttpRequest;i.open("POST","https://api.posberry.com/api/aws/upload"),i.onload=i=>{var o=JSON.parse(i.target.response).cdnGoogle.replace("__WIDTH__","500");this.formImagenPromocion=o,this.formGuardar()};var o=new FormData(document.getElementById("myFormPromocion"));i.send(o)}elegirListadoDePrecios(i){this.listaPreciosSelecIndex=i,this.listaPreciosValue=this.listadeprecios[i]}elegirListadoDePreciosEvent(i){this.elegirListadoDePrecios(this.listadeprecios.indexOf(i))}puede_editar(){return!0}puede_agregar(){return!0}elegirTipoPromocion(i){this.promocionSelec=i,this.formPromocion=this.tiposPromociones[i],this.cambiarOpciones()}elegirTipoDto0(i){this.dto0id=i,this.dto0=this.tiposDto0[i]}elegirTipoDto0Event(i){this.elegirTipoDto0(this.tiposDto0.indexOf(i))}elegirTipoDto1(i){this.dto1id=i,this.dto1=this.tiposDto1[i]}elegirTipoDto1Event(i){this.elegirTipoDto1(this.tiposDto1.indexOf(i))}elegirTipoDto3(i){this.dto3id=i,this.dto3=this.tiposDto3[i]}elegirTipoDto3Event(i){this.elegirTipoDto3(this.tiposDto3.indexOf(i))}elegirTipoDto4(i){this.dto4id=i,this.dto4=this.tiposDto4[i]}elegirTipoDto4Event(i){this.elegirTipoDto4(this.tiposDto4.indexOf(i))}elegirTipoDto9(i){2==i&&(i=1),this.dto9id=i,this.dto9=this.tiposDto9[i]}elegirTipoDto9Event(i){this.elegirTipoDto9(this.tiposDto9.indexOf(i))}elegirTipoDtoRecargo(i){this.dtorecargoid=i,this.dtorecargo=this.tiposDtoRecargo[i]}elegirTipoDtoRecargoEvent(i){this.elegirTipoDtoRecargo(this.tiposDtoRecargo.indexOf(i))}elegirTipoPorcentajeMonto(i){this.porcentajemontoid=i,this.porcentajemonto=this.tiposPorcentajeMonto[i]}elegirTipoPorcentajeMontoEvent(i){this.elegirTipoPorcentajeMonto(this.tiposPorcentajeMonto.indexOf(i))}cambiarOpciones(){this.promocionesFiltro=[];for(var i=0;i<this.promociones.length;i++)this.mostrarItem(this.promociones[i])&&this.promocionesFiltro.push(this.promociones[i])}nuevaPromocion(){this.mostrarEditor=!0,this.modoEdicion=!1,this.promocion={bactivo:"T",itipo:0,blunes:"T",bmartes:"T",bmiercoles:"T",bjueves:"T",bviernes:"T",bsabado:"T",bdomingo:"T",idsucursal:-1,fvigenciadesde:(new Date).toISOString(),fvigenciahasta:new Date(2050,11,31,23,59,59).toISOString(),bonif1idref:null,bonif1itiporef:0,bonif1rcantidad:0,bonif1rmonto:0,bonif1rporcentaje:0,cond1idref:null,cond1itiporef:0,cond1rcantidad:0,cond1rcantidadhasta:0,cond1rmonto:0,cond1rmontohasta:0,cond2idref:null,cond2itiporef:0,cond2rcantidad:0,cond2rcantidadhasta:0,cond2rmonto:0,cond2rmontohasta:0,id:this.servicioUUID.generateUUID(),idempresa:"",sdescripcion:"",sleyendaticket:"",ilistadeprecios:0,baplicasobreelprecio:"F",surlimage1:""},this.asignarValores(this.promocion)}editarPromocion(i){this.promocion={},Object.assign(i,this.promocion),this.mostrarEditor=!0,this.asignarValores(i),this.modoEdicion=!0}asignarValores(i){this.checkActiva="T"==i.bactivo,this.descripcion=i.sdescripcion,this.checkLunes="T"==i.blunes,this.checkMartes="T"==i.bmartes,this.checkMiercoles="T"==i.bmiercoles,this.checkJueves="T"==i.bjueves,this.checkViernes="T"==i.bviernes,this.checkSabado="T"==i.bsabado,this.checkDomingo="T"==i.bdomingo,this.leyendaTicket=i.sleyendaticket,this.checkAplicaSobreElPrecio="T"==i.baplicasobreelprecio,this.elegirListadoDePrecios(parseInt(i.ilistadeprecios?i.ilistadeprecios:0)),this.elegirTipoPromocionEditor(i.itipo);var o=new Date(i.fvigenciadesde);this.formInicio.setValue(o);var t=new Date(i.fvigenciahasta);switch(this.formFin.setValue(t),this.sucursalSelect=this.listaSucursales.find(o=>o.idsucursal==i.idsucursal),this.sucursalSelect||(this.sucursalSelect=this.listaSucursales[0]),this.formImagenPromocion=i.surlimage1,this.dto5input3=i.bonif1rmonto?i.bonif1rmonto:i.bonif1rcantidad,this.dtorecargoinput=i.bonif1rporcentaje,this.elegirTipoPorcentajeMonto(0),0==this.dtorecargoinput&&0!=i.bonif1rmonto&&(this.dtorecargoinput=i.bonif1rmonto,this.elegirTipoPorcentajeMonto(1)),i.cond1itiporef){case 0:i.cond1itiporef=0;break;case 1:i.cond1itiporef=1;break;case 2:i.cond1itiporef=0;break;case 3:i.cond1itiporef=1;break;case 4:i.cond1itiporef=0;break;case 5:i.cond1itiporef=1;break;case 6:i.cond1itiporef=2}this.elegirTipoDto0(i.cond1itiporef),this.elegirTipoDto1(i.bonif1itiporef),this.elegirTipoDto3(i.cond1itiporef),this.elegirTipoDto4(i.cond1itiporef),this.elegirTipoDto9(i.cond1itiporef),this.dto4input=i.cond1rcantidad,this.dto5input1=i.cond1rcantidad,this.dto9input=i.cond1rcantidad,this.dto2input=i.cond1rmonto,this.dto5input2=i.cond2rcantidad,this.elegirTipoMedioDto1(0),this.elegirTipoMedioDto1a(0),0==this.editorPromocionIndex&&(0==this.dto0id?(this.elegirTipoClienteID(""),this.elegirClienteID(i.bonif1idref)):(this.elegirClienteID(""),this.elegirTipoClienteID(i.bonif1idref))),1==this.editorPromocionIndex&&(this.elegirTipoMedioDto1(i.cond1itiporef),this.elegirTipoMedioDto1aID(i.bonif1idref)),this.dtorecargoinput>=0?this.elegirTipoDtoRecargo(0):(this.elegirTipoDtoRecargo(1),this.dtorecargoinput=-this.dtorecargoinput),3==this.editorPromocionIndex&&(0==this.dto3id?(this.elegirFamiliaID(""),this.elegirProductoID(i.bonif1idref)):(this.elegirFamiliaID(i.bonif1idref),this.elegirProductoID(""))),4!=this.editorPromocionIndex&&6!=this.editorPromocionIndex&&7!=this.editorPromocionIndex&&8!=this.editorPromocionIndex||(0==this.dto4id||2==this.dto4id?(this.elegirFamiliaID(""),this.elegirProductoID(i.bonif1idref)):(this.elegirFamiliaID(i.bonif1idref),this.elegirProductoID(""))),5==this.editorPromocionIndex&&(this.elegirProductoID(i.bonif1idref),this.elegirProducto1ID(i.cond2idref))}popup1(){this.popup1Opened=!0}popup2(){this.popup2Opened=!0}formatoFecha(i){var o=new Date(i);return o.getDate()+"/"+(o.getMonth()+1)+"/"+o.getFullYear()}elegirTipoPromocionEditor(i){this.editorPromocionIndex=i,this.editorPromocion=this.tiposPromociones[i]}elegirTipoPromocionEditorEvent(i){this.elegirTipoPromocionEditor(this.tiposPromociones.indexOf(i))}elegirClienteID(i){this.editorCliente.setValue(this.listaClientes[0]);for(var o=0;o<this.listaClientes.length;o++)if(this.listaClientes[o].id==i)return this.editorCliente.setValue(this.listaClientes[o]),0}elegirTipoCliente(i){this.editorTipoCliente=this.listaTipoClientes[i]}elegirTipoClienteID(i){this.editorTipoCliente=this.listaTipoClientes[0];for(var o=0;o<this.listaTipoClientes.length;o++)if(this.listaTipoClientes[o].id==i)return this.editorTipoCliente=this.listaTipoClientes[o],0}elegirFamilia(i){this.editorFamilia=this.listaFamilias[i]}elegirFamiliaID(i){this.editorFamilia=this.listaFamilias[0];for(var o=0;o<this.listaFamilias.length;o++)if(this.listaFamilias[o].id==i)return this.editorFamilia=this.listaFamilias[o],0}elegirProductoID(i){this.editorProducto.setValue(this.listaProductos[0]);for(var o=0;o<this.listaProductos.length;o++)if(this.listaProductos[o].id==i)return this.editorProducto.setValue(this.listaProductos[o]),0}elegirProducto1ID(i){this.editorProducto1.setValue(this.listaProductos[0]);for(var o=0;o<this.listaProductos.length;o++)if(this.listaProductos[o].id==i)return this.editorProducto1.setValue(this.listaProductos[o]),0}elegirTipoMedioDto1(i){this.medioDto1id=i,this.medioDto1=this.tiposMedioDePago[i]}elegirTipoMedioDto1a(i){this.medioDto1a=this.listaTiposCondPago[i]}elegirTipoMedioDto1aID(i){this.medioDto1a=this.listaTiposCondPago[0];for(var o=0;o<this.listaTiposCondPago.length;o++)if(this.listaTiposCondPago[o].id==i)return this.medioDto1a=this.listaTiposCondPago[o],0}formCancelar(){this.mostrarEditor=!1}puede_eliminar(){return this.modoEdicion}formGuardar(){this.promocion.surlimage1=this.formImagenPromocion,this.promocion.bactivo=this.checkActiva?"T":"F",this.promocion.sdescripcion=this.descripcion,this.promocion.blunes=this.checkLunes?"T":"F",this.promocion.bmartes=this.checkMartes?"T":"F",this.promocion.bmiercoles=this.checkMiercoles?"T":"F",this.promocion.bjueves=this.checkJueves?"T":"F",this.promocion.bviernes=this.checkViernes?"T":"F",this.promocion.bsabado=this.checkSabado?"T":"F",this.promocion.bdomingo=this.checkDomingo?"T":"F",this.promocion.sleyendaticket=this.leyendaTicket,this.promocion.itipo=this.editorPromocionIndex,this.promocion.fvigenciadesde=this.formInicio.value.toISOString(),this.promocion.fvigenciahasta=this.formFin.value.toISOString(),this.promocion.idsucursal=parseInt(this.sucursalSelect.idsucursal),this.promocion.baplicasobreelprecio=4!=this.editorPromocionIndex&&8!=this.editorPromocionIndex&&this.checkAplicaSobreElPrecio?"T":"F",this.promocion.ilistadeprecios=this.listaPreciosSelecIndex,this.promocion.bonif1rporcentaje=0==this.dtorecargoid?this.dtorecargoinput:-this.dtorecargoinput,0==this.editorPromocionIndex&&(this.promocion.cond1itiporef=this.dto0id,1==this.dto0id?(this.promocion.bonif1idref=this.editorTipoCliente.id,this.promocion.cond1idref=this.editorTipoCliente.id,this.promocion.cond2idref=this.editorTipoCliente.id):(this.promocion.bonif1idref=this.editorCliente.value.id,this.promocion.cond1idref=this.editorCliente.value.id,this.promocion.cond2idref=this.editorCliente.value.id)),1==this.editorPromocionIndex&&(this.promocion.bonif1itiporef=this.dto1id,0==this.dto1id?this.promocion.cond1itiporef=this.medioDto1id+2:this.promocion.bonif1idref=this.medioDto1a.id),2==this.editorPromocionIndex&&(this.promocion.bonif1rmonto=this.dto2input,this.promocion.bonif1rcantidad=this.dto2input,this.promocion.cond1rmonto=this.dto2input,this.promocion.cond1rcantidad=this.dto2input,this.promocion.cond1rmontohasta=this.dto2input,this.promocion.cond1rcantidadhasta=this.dto2input),3!=this.editorPromocionIndex&&7!=this.editorPromocionIndex||(0==this.dto3id||2==this.dto3id?(this.promocion.bonif1idref=this.editorProducto.value.id,this.promocion.cond1idref=this.editorProducto.value.id,this.promocion.cond2idref=this.editorProducto.value.id):(this.promocion.bonif1idref=this.editorFamilia.id,this.promocion.cond1idref=this.editorFamilia.id,this.promocion.cond2idref=this.editorFamilia.id),this.promocion.bonif1itiporef=this.dto3id,this.promocion.bonif1rmonto=this.dtorecargoinput,this.promocion.bonif1rcantidad=this.dtorecargoinput,this.promocion.bonif1rporcentaje=this.dtorecargoinput,this.promocion.cond1itiporef=this.dto3id+4,this.promocion.cond1rmonto=this.dtorecargoinput,this.promocion.cond1rcantidad=this.dtorecargoinput,this.promocion.cond1rmontohasta=this.dtorecargoinput,this.promocion.cond1rcantidadhasta=this.dtorecargoinput),4!=this.editorPromocionIndex&&6!=this.editorPromocionIndex&&8!=this.editorPromocionIndex||(0==this.dto4id||2==this.dto4id?(this.promocion.bonif1idref=this.editorProducto.value.id,this.promocion.cond1idref=this.editorProducto.value.id,this.promocion.cond2idref=this.editorProducto.value.id):(this.promocion.bonif1idref=this.editorFamilia.id,this.promocion.cond1idref=this.editorFamilia.id,this.promocion.cond2idref=this.editorFamilia.id),this.promocion.bonif1itiporef=this.dto4id+4,this.promocion.bonif1rmonto=this.dto5input3,this.promocion.bonif1rcantidad=this.dto5input3,this.promocion.cond1itiporef=this.dto4id+4,this.promocion.cond1rmonto=this.dto4input,this.promocion.cond1rcantidad=this.dto4input,this.promocion.cond1rmontohasta=this.dto4input,this.promocion.cond1rcantidadhasta=this.dto4input),5==this.editorPromocionIndex&&(this.promocion.bonif1idref=this.editorProducto.value.id,this.promocion.cond1idref=this.editorProducto.value.id,this.promocion.cond2idref=this.editorProducto1.value.id,this.promocion.bonif1rmonto=this.dto5input3,this.promocion.cond1rcantidad=this.dto5input1,this.promocion.cond2rcantidad=this.dto5input2,this.promocion.cond1itiporef=4,this.promocion.cond2itiporef=4),3!=this.editorPromocionIndex&&6!=this.editorPromocionIndex&&7!=this.editorPromocionIndex&&9!=this.editorPromocionIndex||(this.promocion.bonif1rporcentaje=0==this.porcentajemontoid?this.dtorecargoinput:0,this.promocion.bonif1rmonto=1==this.porcentajemontoid?this.dtorecargoinput:0),9==this.editorPromocionIndex&&(this.promocion.bonif1rcantidad=this.dto9input,0==this.dto9id?(this.promocion.cond1itiporef=4,this.promocion.bonif1itiporef=4):(this.promocion.cond1itiporef=6,this.promocion.bonif1itiporef=6),this.promocion.cond1rcantidad=this.dto9input,this.promocion.cond1rcantidadhasta=this.dto9input),this.promocion.sdescripcion&&this.promocion.sleyendaticket&&(this.modoEdicion||(this.promocion.idempresa=this.listaTipoClientes[0].idempresa))}mostrarItem(i){var o,t,e;if(o=!this.checkTipo||i.itipo==this.promocionSelec,t=!this.checkSolamenteActivas||"T"==i.bactivo,this.checkSolamenteVigentes){var n=(new Date).valueOf(),c=new Date(i.fvigenciadesde).valueOf(),r=new Date(i.fvigenciahasta).valueOf();e=n>=c&&n<=r}else e=!0;return o&&t&&e}querySearchCliente(i){if(""==i)return this.listaClientes;var o=[];i=(i=i.toLowerCase()).split(" ");for(var t=0;t<this.listaClientes.length;t++){for(var e=this.listaClientes[t].scodcliente+" - "+this.listaClientes[t].srazonsocial.toLowerCase(),n=!0,c=0;c<i.length;c++)if(-1==e.indexOf(i[c])){n=!1;break}n&&o.push(this.listaClientes[t])}return o}querySearchProducto(i){if(""==i)return this.listaProductos;var o=[];i=(i=i.toLowerCase()).split(" ");for(var t=0;t<this.listaProductos.length;t++){for(var e=this.listaProductos[t].scodproducto+" - "+this.listaProductos[t].snombre.toLowerCase(),n=!0,c=0;c<i.length;c++)if(-1==e.indexOf(i[c])){n=!1;break}n&&o.push(this.listaProductos[t])}return o}getPorcentajeMontoStr(){return 0==this.porcentajemontoid?this.dtorecargoinput+this.porcentajemonto:this.porcentajemonto+this.dtorecargoinput}actualizarLeyendaFinal(){switch(this.LeyendaFinal="",this.editorPromocionIndex){case 0:this.LeyendaFinal=0==this.dto0id?"Al Cliente ["+this.editorCliente.value.srazonsocial+"] ":"Al Tipo de Cliente ["+this.editorTipoCliente.stipocliente+"] ",this.LeyendaFinal+="aplicar un "+this.dtorecargoinput+"% de "+this.dtorecargo;break;case 1:this.LeyendaFinal=0==this.dto1id?"Al Medio de Pago ["+this.medioDto1+"] ":"A la Condici\xf3n de Venta ["+this.medioDto1a.sdescripcion+"] ",this.LeyendaFinal+="aplicar un "+this.dtorecargoinput+"% de "+this.dtorecargo;break;case 2:this.LeyendaFinal="Por un monto mayor o igual a ["+this.dto2input+"] aplicar un "+this.dtorecargoinput+"% de "+this.dtorecargo;break;case 3:0==this.dto3id&&(this.LeyendaFinal="Al Producto ["+this.editorProducto.value.snombre+"] "),1==this.dto3id&&(this.LeyendaFinal="A la Familia ["+this.editorFamilia.sfamilia+"] "),2==this.dto3id&&(this.LeyendaFinal="Al Bulto ["+this.editorProducto.value.snombre+"] "),this.LeyendaFinal+="aplicar "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo;break;case 4:0==this.dto4id&&(this.LeyendaFinal="Por Cada "+this.dto4input+" UN. Producto ["+this.editorProducto.value.snombre+"] "),1==this.dto4id&&(this.LeyendaFinal="Por Cada "+this.dto4input+" UN. de la Familia ["+this.editorFamilia.sfamilia+"] "),2==this.dto4id&&(this.LeyendaFinal="Por Cada "+this.dto4input+" UN. Bulto ["+this.editorProducto.value.snombre+"] "),this.LeyendaFinal+="Bonificar "+this.dto5input3+" UN.";break;case 5:this.LeyendaFinal="Por Cada "+this.dto5input1+" UN. ["+this.editorProducto.value.snombre+"] "+this.dto5input2+" UN. ["+this.editorProducto1.value.snombre+"] aplicar un "+this.dtorecargoinput+"% de "+this.dtorecargo;break;case 6:0==this.dto4id&&(this.LeyendaFinal="Cada "+this.dto4input+" UN. de ["+this.editorProducto.value.snombre+"] "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo),1==this.dto4id&&(this.LeyendaFinal="Cada "+this.dto4input+" UN. de ["+this.editorFamilia.sfamilia+"] "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo),2==this.dto4id&&(this.LeyendaFinal="Cada "+this.dto4input+" UN. de ["+this.editorProducto.value.snombre+"] "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo);break;case 7:this.LeyendaFinal=0==this.dto4id||2==this.dto4id?"Comprando ["+this.editorProducto.value.snombre+"] "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo:"Comprando ["+this.editorFamilia.sfamilia+"] "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo;break;case 8:0==this.dto4id&&(this.LeyendaFinal="Llevando "+this.dto4input+" (o m\xe1s) de cualquier producto "),1==this.dto4id&&(this.LeyendaFinal="Llevando "+this.dto4input+" (o m\xe1s) de la Familia ["+this.editorFamilia.sfamilia+"] "),2==this.dto4id&&(this.LeyendaFinal="Llevando "+this.dto4input+" (o m\xe1s) Bulto de cualquier producto "),this.LeyendaFinal+="Bonificar "+this.dto5input3+" de los productos mas baratos";break;case 9:this.LeyendaFinal=0==this.dto9id?"Llevando "+this.dto9input+" (o m\xe1s) unidades de productos iguales aplicar "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo:"Llevando "+this.dto9input+" (o m\xe1s) bultos de productos iguales aplicar "+this.getPorcentajeMontoStr()+" de "+this.dtorecargo}}}return i.\u0275fac=function(o){return new(o||i)(u.Rb(h.a),u.Rb(r.a),u.Rb(g.a),u.Rb(f),u.Rb(p.a),u.Rb(l.a),u.Rb(c.a),u.Rb(P.a))},i.\u0275cmp=u.Lb({type:i,selectors:[["app-new-promotion"]],decls:91,vars:73,consts:[[1,"mb-16",3,"ngModel","ngModelChange"],[4,"ngIf"],["id","myFormPromocion","method","post","enctype","multipart/form-data","autocomplete","off"],["type","file","name","image"],["type","submit","value","Upload Image","name","submit",3,"click"],["appearance","fill","fxFlex","100","fxFlex.gt-xs","50"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"full-width"],["matInput","","name","descripcion","placeholder","Descripci\xf3n","maxlength","250",3,"ngModel","ngModelChange"],["matInput","","placeholder","Leyenda Ticket","maxlength","100",3,"ngModel","ngModelChange"],["appearance","fill",1,"mr-16"],["matInput","",3,"ngxMatDatetimePicker","placeholder","formControl"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","stepHour","stepMinute","stepSecond","touchUi","color","enableMeridian","disableMinute","hideTime"],["picker",""],["appearance","fill"],["picker2",""],[1,"ml-16","mb-16",3,"ngModel","ngModelChange"],[3,"ngModel","disabled","ngModelChange","selectionChange"],["class","mb-16",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange","selectionChange"],["ng-bind","LeyendaFinal"],["mat-raised-button","","color","primary",3,"click"],["width","320","height","auto",3,"src"],[3,"value"],["type","text","placeholder","Cliente","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[1,"dropdown"],["type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","true",1,"btn","btn-default","dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["href","#",1,"dropdown-item"],["matInput","","type","number","placeholder","Cada","min","0",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Monto mayor o igual a","min","0",3,"ngModel","ngModelChange"],["type","text","placeholder","Producto","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["class","full-width",4,"ngIf"],["matInput","","type","number","step","any","min","0",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["matInput","","type","number","step","any","min","0","placeholder","Cada",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","Cada","step","any","min","0",3,"ngModel","ngModelChange"],["matInput","","type","number","step","any","min","0",3,"ngModel","ngModelChange"],["matInput","","type","number","step","any","min","0","placeholder","Monto",3,"ngModel","ngModelChange"]],template:function(i,o){if(1&i&&(u.Xb(0,"mat-card"),u.Xb(1,"mat-card-content"),u.Xb(2,"section"),u.Xb(3,"mat-checkbox",0),u.fc("ngModelChange",function(i){return o.checkActiva=i}),u.Oc(4,"Activa"),u.Wb(),u.Wb(),u.Xb(5,"section"),u.Xb(6,"label"),u.Oc(7,"Im\xe1gen para la web de Order (imagen cuadrada):"),u.Wb(),u.Mc(8,j,2,1,"div",1),u.Wb(),u.Xb(9,"form",2),u.Oc(10," Select image to upload: "),u.Sb(11,"input",3),u.Xb(12,"input",4),u.fc("click",function(){return o.enviarImagenPromocion()}),u.Wb(),u.Wb(),u.Xb(13,"section"),u.Xb(14,"mat-form-field",5),u.Xb(15,"mat-label"),u.Oc(16),u.kc(17,"translate"),u.Wb(),u.Xb(18,"mat-select",6),u.fc("ngModelChange",function(i){return o.sucursalSelect=i}),u.Mc(19,S,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Xb(20,"section"),u.Xb(21,"mat-form-field",8),u.Xb(22,"input",9),u.fc("ngModelChange",function(i){return o.descripcion=i}),u.Wb(),u.Wb(),u.Wb(),u.Xb(23,"section"),u.Xb(24,"mat-form-field",8),u.Xb(25,"input",10),u.fc("ngModelChange",function(i){return o.leyendaTicket=i}),u.Wb(),u.Wb(),u.Wb(),u.Xb(26,"section"),u.Xb(27,"label"),u.Oc(28,"Vigencia"),u.Wb(),u.Wb(),u.Xb(29,"section"),u.Xb(30,"mat-form-field",11),u.Sb(31,"input",12),u.kc(32,"translate"),u.Sb(33,"mat-datepicker-toggle",13),u.Sb(34,"ngx-mat-datetime-picker",14,15),u.Wb(),u.Xb(36,"mat-form-field",16),u.Sb(37,"input",12),u.kc(38,"translate"),u.Sb(39,"mat-datepicker-toggle",13),u.Sb(40,"ngx-mat-datetime-picker",14,17),u.Wb(),u.Wb(),u.Xb(42,"section"),u.Xb(43,"mat-checkbox",6),u.fc("ngModelChange",function(i){return o.checkLunes=i}),u.Oc(44,"Lunes"),u.Wb(),u.Xb(45,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkMartes=i}),u.Oc(46,"Martes"),u.Wb(),u.Xb(47,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkMiercoles=i}),u.Oc(48,"Mi\xe9rcoles"),u.Wb(),u.Xb(49,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkJueves=i}),u.Oc(50,"Jueves"),u.Wb(),u.Xb(51,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkViernes=i}),u.Oc(52,"Viernes"),u.Wb(),u.Xb(53,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkSabado=i}),u.Oc(54,"S\xe1bado"),u.Wb(),u.Xb(55,"mat-checkbox",18),u.fc("ngModelChange",function(i){return o.checkDomingo=i}),u.Oc(56,"Domingo"),u.Wb(),u.Wb(),u.Xb(57,"section"),u.Xb(58,"mat-form-field",5),u.Xb(59,"mat-label"),u.Oc(60),u.kc(61,"translate"),u.Wb(),u.Xb(62,"mat-select",19),u.fc("ngModelChange",function(i){return o.editorPromocion=i})("selectionChange",function(i){return o.elegirTipoPromocionEditorEvent(i.value)}),u.Mc(63,y,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(64,V,17,13,"div",1),u.Xb(65,"section"),u.Mc(66,$,2,1,"mat-checkbox",20),u.Wb(),u.Xb(67,"section"),u.Xb(68,"mat-form-field",5),u.Xb(69,"mat-label"),u.Oc(70),u.kc(71,"translate"),u.Wb(),u.Xb(72,"mat-select",21),u.fc("ngModelChange",function(i){return o.listaPreciosValue=i})("selectionChange",function(i){return o.elegirListadoDePreciosEvent(i.value)}),u.Mc(73,N,2,2,"mat-option",7),u.Wb(),u.Wb(),u.Wb(),u.Mc(74,Q,11,6,"div",1),u.Mc(75,H,10,7,"div",1),u.Mc(76,G,3,1,"section",1),u.Mc(77,ni,11,8,"div",1),u.Mc(78,bi,11,8,"div",1),u.Mc(79,gi,19,11,"div",1),u.Mc(80,Pi,3,1,"section",1),u.Mc(81,Ei,11,7,"div",1),u.Xb(82,"div"),u.Xb(83,"label",22),u.Oc(84),u.Wb(),u.Wb(),u.Xb(85,"div"),u.Xb(86,"button",23),u.fc("click",function(){return o.formGuardar()}),u.Xb(87,"mat-icon"),u.Oc(88,"save"),u.Wb(),u.Oc(89),u.kc(90,"translate"),u.Wb(),u.Wb(),u.Wb(),u.Wb()),2&i){const i=u.Ac(35),t=u.Ac(41);u.Eb(3),u.pc("ngModel",o.checkActiva),u.Eb(5),u.pc("ngIf",o.formImagenPromocion&&""!=o.formImagenPromocion),u.Eb(8),u.Pc(u.lc(17,61,"SALES.BRANCH")),u.Eb(2),u.pc("ngModel",o.sucursalSelect),u.Eb(1),u.pc("ngForOf",o.listaSucursales),u.Eb(3),u.pc("ngModel",o.descripcion),u.Eb(3),u.pc("ngModel",o.leyendaTicket),u.Eb(6),u.qc("placeholder",u.lc(32,63,"Vigencia Desde")),u.pc("ngxMatDatetimePicker",i)("formControl",o.formInicio),u.Eb(2),u.pc("for",i),u.Eb(1),u.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!0)("hideTime",!0),u.Eb(3),u.qc("placeholder",u.lc(38,65,"Hasta")),u.pc("ngxMatDatetimePicker",t)("formControl",o.formFin),u.Eb(2),u.pc("for",t),u.Eb(1),u.pc("showSpinners",!0)("showSeconds",!0)("stepHour",1)("stepMinute",1)("stepSecond",1)("touchUi",!1)("color","white")("enableMeridian",!0)("disableMinute",!0)("hideTime",!0),u.Eb(3),u.pc("ngModel",o.checkLunes),u.Eb(2),u.pc("ngModel",o.checkMartes),u.Eb(2),u.pc("ngModel",o.checkMiercoles),u.Eb(2),u.pc("ngModel",o.checkJueves),u.Eb(2),u.pc("ngModel",o.checkViernes),u.Eb(2),u.pc("ngModel",o.checkSabado),u.Eb(2),u.pc("ngModel",o.checkDomingo),u.Eb(5),u.Pc(u.lc(61,67,"Tipo")),u.Eb(2),u.pc("ngModel",o.editorPromocion)("disabled",o.modoEdicion),u.Eb(1),u.pc("ngForOf",o.tiposPromociones),u.Eb(1),u.pc("ngIf",0==o.editorPromocionIndex),u.Eb(2),u.pc("ngIf",4!=o.editorPromocionIndex&&8!=o.editorPromocionIndex),u.Eb(4),u.Pc(u.lc(71,69,"Lista de Precios")),u.Eb(2),u.pc("ngModel",o.listaPreciosValue),u.Eb(1),u.pc("ngForOf",o.listadeprecios),u.Eb(1),u.pc("ngIf",9==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",1==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",2==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",3==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",4==o.editorPromocionIndex||6==o.editorPromocionIndex||7==o.editorPromocionIndex||8==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",5==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",4==o.editorPromocionIndex||8==o.editorPromocionIndex),u.Eb(1),u.pc("ngIf",4!=o.editorPromocionIndex&&8!=o.editorPromocionIndex),u.Eb(3),u.Pc(o.actualizarLeyendaFinal()),u.Eb(5),u.Qc("",u.lc(90,71,"FAMILIESPOPUPCOMPONENT.SAVE")," ")}},directives:[v.a,v.b,M.a,n.o,n.r,e.o,n.w,n.p,n.q,W.c,E.a,W.f,X.a,e.n,C.b,n.c,n.k,D.a,n.f,I.h,W.h,D.b,T.b,F.a,k.n,O.c,O.a,n.s],pipes:[x.c,e.b],styles:[""]}),i})(),data:{title:"NUEVA PROMOCION"}}];var Ci=t("u9T3"),Di=t("f44v"),Ii=t("iELJ"),Ti=t("jMqV"),Fi=t("M9ds"),ki=t("ZFy/"),Oi=t("w9WL"),xi=t("PCNd"),ji=t("BxcV");let Si=(()=>{class i{}return i.\u0275mod=u.Pb({type:i}),i.\u0275inj=u.Ob({factory:function(o){return new(o||i)},imports:[[e.c,n.t,Ci.a,Oi.f,C.c,C.c,v.c,C.c,T.c,Di.a,C.c,ki.b,Ii.f,P.b,Ti.b,Fi.c,X.b,F.b,x.b,xi.a,ji.a,n.j,M.b,I.g,D.c,D.e,D.d,n.j,O.b,g.k.forChild(Xi)]]}),i})()}}]);