(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CHRX:function(t,a,e){"use strict";e.d(a,"a",function(){return n});var o=e("wd/R");class n{constructor(){this.sum=[],this.data=[],this.rows=[],this.filter={},this.groups={},this.groupField="",this.secondarySort="",this.sortDir="asc",this.footer={},this.summaryRow=!0,this.emptyRow=!0,this.customFilter=function(t){return t}}static prepararFiltroAPI(t){var a="";for(var e in t)t[e].search&&(a+="number"==typeof t[e].search?`{"${e}":${t[e].search}},`:t[e].exact?`{"${e}":"${t[e].search}"},`:`{"${e}":{"ilike":"%${t[e].search}%"}},`);return a}setGroup(t){this.groups[t.name]=!this.groups[t.name],this.filterRows()}setData(t){this.data=t,this.sortData()}sortData(){this.data.sort((t,a)=>{if(t[this.groupField]==a[this.groupField]){if(this.secondarySort){if(null==t[this.secondarySort])return 1;if(null==a[this.secondarySort])return-1;if(t[this.secondarySort]>a[this.secondarySort])return 1*("desc"===this.sortDir?-1:1);if(t[this.secondarySort]<a[this.secondarySort])return-1*("desc"===this.sortDir?-1:1)}}else{if(null==t[this.groupField])return 1;if(null==a[this.groupField])return-1;if(t[this.groupField]>a[this.groupField])return 1;if(t[this.groupField]<a[this.groupField])return-1}return 0}),this.filterRows()}filterRows(){var t=[];t=this.data.filter(t=>{for(var a in this.filter){if(this.filter[a]&&null==t[a])return!1;switch(typeof t[a]){case"number":if(this.filter[a]&&Math.trunc(t[a]).toString()!==Math.trunc(this.filter[a]).toString())return!1;break;case"string":if("f"==a.charAt(0).toLowerCase()&&o(t[a]).isValid){if(-1==o(t[a]).format("DD/MM/YYYY HH:mm:ss").indexOf(this.filter[a]))return!1;break}if(-1==t[a].toLowerCase().indexOf(this.filter[a].toLowerCase()))return!1}}return!0}),t=this.customFilter(t);var a={};this.groupField?a[this.groupField]=t.length.toString():a.count=t.length.toString(),this.sum.forEach(t=>a[t]=0);for(var e=0;e<t.length;e++)this.sum.forEach(o=>a[o]+=t[e][o]);if(a.isGroup=!0,this.footer=a,this.groupField){var n=[];t.forEach(t=>{-1==n.indexOf(t[this.groupField])&&n.push(t[this.groupField])}),n=n.map(t=>({name:t,count:1}));var c=[],r=!0,i=0,l=null,s=()=>{l&&(l[this.groupField]+=" ("+n[i-1].count.toString()+")")};for(e=0;e<t.length;e++){if(r&&t[e][this.groupField]==n[i].name){s();var d="+";this.groups[n[i].name]&&(d="-"),l={[this.groupField]:d+" "+n[i].name,isGroup:!0,name:n[i].name},this.sum.forEach(t=>l[t]=0),c.push(l),r=++i<n.length}else n[i-1].count++;this.sum.forEach(a=>l[a]+=t[e][a]),c.push(t[e])}s(),t=null,c=c.filter(t=>!!t.isGroup||!!this.groups[t[this.groupField]]||void 0),this.rows=c}else this.rows=t;this.summaryRow&&this.rows.push(this.footer),0==this.rows.length&&this.emptyRow&&this.rows.push({})}updateFilter(t,a){if(t&&a){var e=t.target.value;t instanceof MouseEvent&&(e=""),this.filter[a]=e,this.filterRows()}return!0}updateFilterBoolean(t,a){return this.filter[a]=t,this.filterRows(),!0}}},Iab2:function(t,a,e){var o,n;void 0===(n="function"==typeof(o=function(){"use strict";function a(t,a,e){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){r(o.response,a,e)},o.onerror=function(){console.error("could not download file")},o.send()}function e(t){var a=new XMLHttpRequest;a.open("HEAD",t,!1);try{a.send()}catch(t){}return 200<=a.status&&299>=a.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(t,c,r){var i=n.URL||n.webkitURL,l=document.createElement("a");l.download=c=c||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):e(l.href)?a(t,c,r):o(l,l.target="_blank")):(l.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,n,c){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,a){return void 0===a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,c),n);else if(e(t))a(t,n,c);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){o(r)})}}:function(t,e,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,o);var i="application/octet-stream"===t.type,l=/constructor/i.test(n.HTMLElement)||n.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&l||c)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},d.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,p=u.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout(function(){u.revokeObjectURL(p)},4e4)}});n.saveAs=r.saveAs=r,t.exports=r})?o.apply(a,[]):o)||(t.exports=n)},bPAe:function(t,a,e){"use strict";e.d(a,"a",function(){return r});var o=e("Iab2"),n=e("EUZL"),c=e("8Y7J");let r=(()=>{class t{constructor(){this.fileType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",this.fileExtension=".xlsx"}exportExcel(t,a,e){const o=n.utils.json_to_sheet(t),c=n.write({Sheets:{[e]:o},SheetNames:[e]},{bookType:"xlsx",type:"array"});this.saveExcelFile(c,a)}saveExcelFile(t,a){const e=new Blob([t],{type:this.fileType});o.saveAs(e,a+this.fileExtension)}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},i59u:function(t,a,e){"use strict";e.d(a,"a",function(){return H});var o=e("iELJ"),n=e("GmJt"),c=e("wd/R"),r=e("8Y7J"),i=e("SVse"),l=e("PDjf"),s=e("M9ds"),d=e("w9WL"),u=e("VDRc"),p=e("Dxy4"),f=e("Tj54"),b=e("ZFy/"),m=e("TSSN");function h(t,a){if(1&t&&(r.Xb(0,"h1",14),r.Oc(1),r.Xb(2,"mat-icon",15),r.Oc(3,"person_pin"),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Eb(1),r.Rc("",t.data.payload.idTipoDoc,"-",t.data.payload.Comprobante," "),r.Eb(1),r.pc("matTooltip",t.tooltip)}}function g(t,a){if(1&t&&(r.Xb(0,"h1",14),r.Oc(1),r.Xb(2,"mat-icon",15),r.Oc(3,"person_pin"),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Eb(1),r.Sc("",t.data.payload.idtipodoc,"-",0!=t.data.payload.idpvcaea?t.data.payload.idpvcaea.toString().padStart(4,"0"):t.data.payload.idpv.toString().padStart(4,"0"),"-",t.data.payload.idnumdoc.toString().padStart(8,"0"),""),r.Eb(1),r.pc("matTooltip",t.tooltip)}}function E(t,a){if(1&t&&(r.Xb(0,"p",2),r.Xb(1,"strong"),r.Oc(2),r.kc(3,"translate"),r.Wb(),r.Oc(4),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Qc("",r.lc(3,2,"SALESPOPUP.CLIENT"),":"),r.Eb(2),r.Qc(" ",t.data.payload.sRazonSocial,"")}}function y(t,a){if(1&t&&(r.Xb(0,"p",2),r.Xb(1,"strong"),r.Oc(2),r.kc(3,"translate"),r.Wb(),r.Oc(4),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Qc("",r.lc(3,2,"SALESPOPUP.ADDRESS"),":"),r.Eb(2),r.Qc(" ",t.data.payload.sDomicilio,"")}}function w(t,a){if(1&t&&(r.Xb(0,"p",2),r.Xb(1,"strong"),r.Oc(2),r.kc(3,"translate"),r.Wb(),r.Oc(4),r.kc(5,"date"),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Qc("",r.lc(3,2,"SALESPOPUP.UPLOADDATE"),":"),r.Eb(2),r.Qc(" ",r.mc(5,4,t.data.payload.fCarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function S(t,a){if(1&t&&(r.Xb(0,"p",2),r.Xb(1,"strong"),r.Oc(2),r.kc(3,"translate"),r.Wb(),r.Oc(4),r.kc(5,"date"),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Qc("",r.lc(3,2,"SALESPOPUP.UPLOADDATE"),":"),r.Eb(2),r.Qc(" ",r.mc(5,4,t.data.payload.fcarga,"dd/MM/yyyy ' a las ' HH:mm"),"")}}function O(t,a){if(1&t&&(r.Xb(0,"p",2),r.Xb(1,"strong"),r.Oc(2),r.kc(3,"translate"),r.Wb(),r.Oc(4),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Qc("",r.lc(3,2,"SALESPOPUP.CAE"),":"),r.Eb(2),r.Qc(" ",t.data.payload.ImpresionCAE,"")}}function P(t,a){if(1&t&&r.Oc(0),2&t){const t=a.row;r.Qc(" ",null==t?null:t.sProducto," ")}}function v(t,a){if(1&t&&(r.Oc(0),r.kc(1,"number")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.rCantidad)," ")}}function A(t,a){if(1&t&&(r.Oc(0),r.kc(1,"currency")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.rPrecioU)," ")}}function X(t,a){if(1&t&&(r.Oc(0),r.kc(1,"currency")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.rDescuentos)," ")}}function L(t,a){if(1&t&&(r.Oc(0),r.kc(1,"currency")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.rTotal)," ")}}function T(t,a){if(1&t&&r.Oc(0),2&t){const t=a.row;r.Qc(" ",null==t?null:t.scondpago," ")}}function k(t,a){if(1&t&&(r.Oc(0),r.kc(1,"currency")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.rimporte)," ")}}function x(t,a){if(1&t&&r.Oc(0),2&t){const t=a.row;r.Qc(" ",null==t?null:t.srefpago," ")}}function M(t,a){if(1&t&&(r.Oc(0),r.kc(1,"number")),2&t){const t=a.row;r.Qc(" ",r.lc(1,1,null==t?null:t.icuotas)," ")}}function W(t,a){if(1&t&&(r.Xb(0,"div",16),r.Xb(1,"font",17),r.Oc(2),r.kc(3,"translate"),r.kc(4,"date"),r.kc(5,"translate"),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Tc("",r.lc(3,4,"SALESPOPUP.CANCELEDON")," ",r.mc(4,6,t.data.payload.fAnulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",r.lc(5,9,"SALESPOPUP.BY")," ",t.data.payload.sOperadorAnulacion,"")}}function D(t,a){if(1&t&&(r.Xb(0,"div",16),r.Xb(1,"font",17),r.Oc(2),r.kc(3,"translate"),r.kc(4,"date"),r.kc(5,"translate"),r.Wb(),r.Wb()),2&t){const t=r.jc();r.Eb(2),r.Tc("",r.lc(3,4,"SALESPOPUP.CANCELEDON")," ",r.mc(4,6,t.data.payload.fanulacion,"dd/MM/yyyy ' a las ' HH:mm")," ",r.lc(5,9,"SALESPOPUP.BY")," ",t.data.payload.soperadoranulacion,"")}}const U=function(){return{y:"50px",delay:"300ms"}},R=function(t){return{value:"*",params:t}};let H=(()=>{class t{constructor(t,a,e){this.data=t,this.dialogRef=a,this.cdRef=e,this.page={count:0,offset:0,limit:5};var o=[t.payload.sOperadorCreacion||t.payload.soperadorcreacion],n=[t.payload.sOperadorModificacion||t.payload.soperadormodificacion],r=[t.payload.sOperadorAnulacion||t.payload.soperadoranulacion],i=[t.payload.fModificacion||t.payload.fmodificacion],l=[t.payload.fAnulacion||t.payload.fanulacion],s="T"==t.payload.bAnulado||"T"==t.payload.banulado;this.tooltip="Creado: "+c([t.payload.fCreacion||t.payload.fcreacion]).format("DD/MM/YYYY HH:mm")+" por "+o+", Modificado: "+c(i).format("DD/MM/YYYY HH:mm")+" por "+n,s&&(this.tooltip+=", Anulado: "+c(l).format("DD/MM/YYYY HH:mm")+" por "+r)}ngOnInit(){}ngAfterViewChecked(){window.dispatchEvent(new Event("resize")),this.cdRef.detectChanges()}}return t.\u0275fac=function(a){return new(a||t)(r.Rb(o.a),r.Rb(o.g),r.Rb(r.h))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-products-popup"]],decls:84,vars:106,consts:[["matDialogTitle","","align","right",4,"ngIf"],["class","m-0",4,"ngIf"],[1,"m-0"],[3,"label"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit"],[3,"name","flexGrow"],["ngx-datatable-cell-template",""],[2,"width","100%"],["align","right"],["fxLayout","row wrap","fxLayoutAlign","end"],["fxFlex","100","class","mt-16",4,"ngIf"],["fxFlex","100","fxLayoutAlign","end",1,"mt-16"],["mat-button","","color","warn","type","button",3,"click"],["matDialogTitle","","align","right"],[3,"matTooltip"],["fxFlex","100",1,"mt-16"],["color","red"]],template:function(t,a){1&t&&(r.Mc(0,h,4,3,"h1",0),r.Mc(1,g,4,4,"h1",0),r.Xb(2,"mat-dialog-content"),r.Xb(3,"mat-card"),r.Xb(4,"mat-card-content"),r.Mc(5,E,5,4,"p",1),r.Mc(6,y,5,4,"p",1),r.Mc(7,w,6,7,"p",1),r.Mc(8,S,6,7,"p",1),r.Mc(9,O,5,4,"p",1),r.Xb(10,"p",2),r.Oc(11),r.Wb(),r.Wb(),r.Wb(),r.Xb(12,"mat-tab-group"),r.Xb(13,"mat-tab",3),r.kc(14,"translate"),r.Xb(15,"mat-card",4),r.Xb(16,"mat-card-content",4),r.Xb(17,"ngx-datatable",5),r.Xb(18,"ngx-datatable-column",6),r.kc(19,"translate"),r.Mc(20,P,1,1,"ng-template",7),r.Wb(),r.Xb(21,"ngx-datatable-column",6),r.kc(22,"translate"),r.Mc(23,v,2,3,"ng-template",7),r.Wb(),r.Xb(24,"ngx-datatable-column",6),r.kc(25,"translate"),r.Mc(26,A,2,3,"ng-template",7),r.Wb(),r.Xb(27,"ngx-datatable-column",6),r.kc(28,"translate"),r.Mc(29,X,2,3,"ng-template",7),r.Wb(),r.Xb(30,"ngx-datatable-column",6),r.kc(31,"translate"),r.Mc(32,L,2,3,"ng-template",7),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(33,"mat-tab",3),r.kc(34,"translate"),r.Xb(35,"mat-card",4),r.Xb(36,"mat-card-content",4),r.Xb(37,"ngx-datatable",5),r.Xb(38,"ngx-datatable-column",6),r.kc(39,"translate"),r.Mc(40,T,1,1,"ng-template",7),r.Wb(),r.Xb(41,"ngx-datatable-column",6),r.kc(42,"translate"),r.Mc(43,k,2,3,"ng-template",7),r.Wb(),r.Xb(44,"ngx-datatable-column",6),r.kc(45,"translate"),r.Mc(46,x,1,1,"ng-template",7),r.Wb(),r.Xb(47,"ngx-datatable-column",6),r.kc(48,"translate"),r.Mc(49,M,2,3,"ng-template",7),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(50,"div"),r.Xb(51,"table",8),r.Xb(52,"tr"),r.Xb(53,"th"),r.Oc(54),r.kc(55,"translate"),r.Wb(),r.Xb(56,"th"),r.Oc(57),r.kc(58,"translate"),r.Wb(),r.Xb(59,"th"),r.Oc(60),r.kc(61,"translate"),r.Wb(),r.Wb(),r.Xb(62,"tr"),r.Xb(63,"th"),r.Oc(64),r.kc(65,"currency"),r.Wb(),r.Xb(66,"th"),r.Oc(67),r.kc(68,"currency"),r.Wb(),r.Xb(69,"th"),r.Oc(70),r.kc(71,"currency"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Xb(72,"h2",9),r.Oc(73),r.kc(74,"currency"),r.Wb(),r.Xb(75,"mat-dialog-content",10),r.Mc(76,W,6,11,"div",11),r.Mc(77,D,6,11,"div",11),r.Xb(78,"div",12),r.Xb(79,"button",13),r.fc("click",function(){return a.dialogRef.close(!1)}),r.Xb(80,"mat-icon"),r.Oc(81,"cancel"),r.Wb(),r.Oc(82),r.kc(83,"translate"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.pc("ngIf",a.data.payload.idTipoDoc),r.Eb(1),r.pc("ngIf",a.data.payload.idtipodoc),r.Eb(2),r.pc("@animate",r.vc(98,R,r.uc(97,U))),r.Eb(2),r.pc("ngIf",a.data.payload.sRazonSocial),r.Eb(1),r.pc("ngIf",a.data.payload.sDomicilio),r.Eb(1),r.pc("ngIf",a.data.payload.fCarga),r.Eb(1),r.pc("ngIf",a.data.payload.fcarga),r.Eb(1),r.pc("ngIf",a.data.payload.ImpresionCAE),r.Eb(2),r.Pc(a.data.sleyendacaea),r.Eb(2),r.qc("label",r.lc(14,59,"SALESPOPUP.DETAILS")),r.Eb(2),r.pc("@animate",r.vc(101,R,r.uc(100,U))),r.Eb(2),r.pc("rows",a.data.ventaitems)("columnMode","flex")("headerHeight",50)("footerHeight",a.data.ventaitems.length>a.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit),r.Eb(1),r.qc("name",r.lc(19,61,"SALESPOPUP.DESCRIPTION")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(22,63,"SALESPOPUP.QUANTITY")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(25,65,"SALESPOPUP.PRICE")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(28,67,"SALESPOPUP.DISCOUNTS")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(31,69,"SALESPOPUP.TOTAL")),r.pc("flexGrow",1),r.Eb(3),r.qc("label",r.lc(34,71,"SALESPOPUP.PAYMENTMETHODS")),r.Eb(2),r.pc("@animate",r.vc(104,R,r.uc(103,U))),r.Eb(2),r.pc("rows",a.data.ventamovcaja)("columnMode","flex")("headerHeight",50)("footerHeight",a.data.ventamovcaja.length>a.page.limit?50:0)("scrollbarH",!1)("rowHeight",50)("count",a.page.count)("offset",a.page.offset)("limit",a.page.limit),r.Eb(1),r.qc("name",r.lc(39,73,"SALESPOPUP.PAYMENTMETHOD")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(42,75,"SALESPOPUP.AMOUNT")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(45,77,"SALESPOPUP.REFERENCE")),r.pc("flexGrow",1),r.Eb(3),r.qc("name",r.lc(48,79,"SALESPOPUP.FEE")),r.pc("flexGrow",1),r.Eb(7),r.Pc(r.lc(55,81,"SALESPOPUP.NETTOTAL")),r.Eb(3),r.Pc(r.lc(58,83,"SALESPOPUP.TOTALDISCOUNTS")),r.Eb(3),r.Pc(r.lc(61,85,"SALESPOPUP.TOTALTAXES")),r.Eb(4),r.Pc(r.lc(65,87,a.data.payload.rTotNeto)),r.Eb(3),r.Pc(r.lc(68,89,a.data.payload.rTotDescuento)),r.Eb(3),r.Pc(r.lc(71,91,a.data.payload.rTotImpuestos)),r.Eb(3),r.Qc(" Total:",r.lc(74,93,a.data.payload.rTotBruto),"\n"),r.Eb(3),r.pc("ngIf","T"==a.data.payload.bAnulado),r.Eb(1),r.pc("ngIf","T"==a.data.payload.banulado),r.Eb(5),r.Qc("",r.lc(83,95,"SALESPOPUP.CANCEL")," "))},directives:[i.o,o.e,l.a,l.b,s.b,s.a,d.d,d.b,d.a,u.c,u.b,u.a,p.b,f.a,o.h,b.a],pipes:[m.c,i.d,i.f,i.g],styles:[""],data:{animation:[n.a]}}),t})()}}]);