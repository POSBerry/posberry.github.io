!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{GmJt:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var o=a("GS7A"),i=Object(o.g)([Object(o.l)({opacity:"{{opacity}}",transform:"scale({{scale}}) translate3d({{x}}, {{y}}, {{z}})"}),Object(o.e)("{{duration}} {{delay}} cubic-bezier(0.0, 0.0, 0.2, 1)",Object(o.l)("*"))],{params:{duration:"200ms",delay:"0ms",opacity:"0",scale:"1",x:"0",y:"0",z:"0"}}),c=[Object(o.n)("animate",[Object(o.m)("void => *",[Object(o.o)(i)])]),Object(o.n)("fadeInOut",[Object(o.k)("0",Object(o.l)({opacity:0,display:"none"})),Object(o.k)("1",Object(o.l)({opacity:1,display:"block"})),Object(o.m)("0 => 1",Object(o.e)("300ms")),Object(o.m)("1 => 0",Object(o.e)("300ms"))])]},HkQJ:function(t,o,i){"use strict";i.r(o),i.d(o,"PointOfSaleSettingsModule",function(){return be});var c=i("SVse"),r=i("iInd"),n=i("u9T3"),l=i("s7LF"),s=i("Dxy4"),b=i("PDjf"),u=i("f44v"),d=i("iELJ"),p=i("Tj54"),f=i("e6WT"),m=i("ZTz/"),O=i("jMqV"),h=i("zHaW"),v=i("M9ds"),E=i("ZFy/"),P=i("TSSN"),T=i("w9WL"),g=i("PCNd"),S=i("GmJt"),I=i("3kSh"),F=i("3sEA"),k=i("vpPe"),N=i("cp0P"),W=i("Ap+n"),C=i("8Y7J"),y=i("VDRc"),X=i("Q2Ze"),A=i("pMoy"),L=i("UhP/");function U(e,t){1&e&&(C.Xb(0,"h1",23),C.Oc(1),C.kc(2,"translate"),C.Wb()),2&e&&(C.Eb(1),C.Pc(C.lc(2,1,"POINTOFSALESETTINGSPOPUP.ADDPOINTOFSALE")))}function R(e,t){1&e&&(C.Xb(0,"h1",23),C.Oc(1),C.kc(2,"translate"),C.Wb()),2&e&&(C.Eb(1),C.Pc(C.lc(2,1,"POINTOFSALESETTINGSPOPUP.EDITPOINTOFSALE")))}function D(e,t){if(1&e&&(C.Xb(0,"mat-option",24),C.Oc(1),C.Wb()),2&e){var a=t.$implicit;C.pc("value",a.idsucursal),C.Eb(1),C.Qc(" ",a.sdescripcion," ")}}function w(e,t){if(1&e&&(C.Xb(0,"mat-option",24),C.Oc(1),C.Wb()),2&e){var a=t.$implicit;C.pc("value",a.indice),C.Eb(1),C.Qc(" ",a.value," ")}}function x(e,t){if(1&e&&(C.Xb(0,"mat-option",24),C.Oc(1),C.Wb()),2&e){var a=t.$implicit;C.pc("value",a.scodcliente),C.Eb(1),C.Qc(" ",a.srazonsocial," ")}}function G(e,t){if(1&e&&(C.Xb(0,"mat-tab",1),C.kc(1,"translate"),C.Xb(2,"form",2),C.Xb(3,"mat-dialog-content",3),C.Xb(4,"div",10),C.Xb(5,"mat-form-field",7),C.Xb(6,"mat-label"),C.Oc(7),C.kc(8,"translate"),C.Wb(),C.Xb(9,"mat-select",25),C.Mc(10,x,2,2,"mat-option",9),C.Wb(),C.Wb(),C.Wb(),C.Xb(11,"div",15),C.Xb(12,"mat-checkbox",16),C.Oc(13),C.kc(14,"translate"),C.Wb(),C.Wb(),C.Xb(15,"div",15),C.Xb(16,"mat-checkbox",16),C.Oc(17),C.kc(18,"translate"),C.Wb(),C.Wb(),C.Xb(19,"div",15),C.Xb(20,"mat-checkbox",16),C.Oc(21),C.kc(22,"translate"),C.Wb(),C.Wb(),C.Xb(23,"div",15),C.Xb(24,"mat-checkbox",16),C.Oc(25),C.kc(26,"translate"),C.Wb(),C.Wb(),C.Xb(27,"div",15),C.Xb(28,"mat-checkbox",16),C.Oc(29),C.kc(30,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&e){var a=C.jc();C.qc("label",C.lc(1,15,"POINTOFSALESETTINGSPOPUP.PARAMETERS")),C.Eb(2),C.pc("formGroup",a.itemForm2),C.Eb(5),C.Pc(C.lc(8,17,"POINTOFSALESETTINGSPOPUP.DEFAULTCLIENT")),C.Eb(2),C.pc("formControl",a.itemForm2.controls.idclientegenerico),C.Eb(1),C.pc("ngForOf",a.listaDeClientes),C.Eb(2),C.pc("formControl",a.itemForm2.controls.bagruparproductosidenticos),C.Eb(1),C.Qc("",C.lc(14,19,"POINTOFSALESETTINGSPOPUP.GROUPIDENTICALPRODUCTS")," "),C.Eb(3),C.pc("formControl",a.itemForm2.controls.bforzarloginalcerrarcaja),C.Eb(1),C.Qc("",C.lc(18,21,"POINTOFSALESETTINGSPOPUP.FORCELOGINWHENCLOSINGBOX")," "),C.Eb(3),C.pc("formControl",a.itemForm2.controls.bpuedeeditarpreciounitario),C.Eb(1),C.Qc("",C.lc(22,23,"POINTOFSALESETTINGSPOPUP.CANEDITUNITPRICE")," "),C.Eb(3),C.pc("formControl",a.itemForm2.controls.bpuedeeditarcantidad),C.Eb(1),C.Qc("",C.lc(26,25,"POINTOFSALESETTINGSPOPUP.CANEDITQUANTITIES")," "),C.Eb(3),C.pc("formControl",a.itemForm2.controls.bpermitecantidadesnegativas),C.Eb(1),C.Qc("",C.lc(30,27,"POINTOFSALESETTINGSPOPUP.ALLOWNEGATIVEAMOUNTS")," ")}}function j(e,t){if(1&e){var a=C.Yb();C.Xb(0,"mat-tab",1),C.kc(1,"translate"),C.Xb(2,"form",2),C.Xb(3,"mat-dialog-content",3),C.Xb(4,"div",10),C.Xb(5,"mat-form-field",5),C.Sb(6,"input",26),C.kc(7,"translate"),C.Wb(),C.Wb(),C.Xb(8,"div"),C.Xb(9,"label"),C.Oc(10),C.kc(11,"translate"),C.Wb(),C.Xb(12,"div"),C.Xb(13,"input",27),C.fc("change",function(e){return C.Dc(a),C.jc().leerArchivoKey(e)}),C.Wb(),C.Xb(14,"pre",28),C.fc("ngModelChange",function(e){return C.Dc(a),C.jc().itemForm.controls.safipkey.value=e}),C.Oc(15),C.Wb(),C.Wb(),C.Wb(),C.Xb(16,"div"),C.Xb(17,"label"),C.Oc(18),C.kc(19,"translate"),C.Wb(),C.Xb(20,"div",29),C.Xb(21,"input",30),C.fc("change",function(e){return C.Dc(a),C.jc().leerArchivoCrt(e)}),C.Wb(),C.Xb(22,"pre",31),C.fc("ngModelChange",function(e){return C.Dc(a),C.jc().itemForm.controls.safipcrt.value=e}),C.Oc(23),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb()}if(2&e){var o=C.jc();C.qc("label",C.lc(1,10,"POINTOFSALESETTINGSPOPUP.ELECTRONICBILL")),C.Eb(2),C.pc("formGroup",o.itemForm),C.Eb(4),C.qc("placeholder",C.lc(7,12,"POINTOFSALESETTINGSPOPUP.POSCAEANUMBER")),C.pc("formControl",o.itemForm.controls.idpvcaea),C.Eb(4),C.Qc("",C.lc(11,14,"POINTOFSALESETTINGSPOPUP.ELECTRONICINVOICE-FILE.KEY"),":"),C.Eb(4),C.pc("ngModel",o.itemForm.controls.safipkey.value),C.Eb(1),C.Pc(o.itemForm.controls.safipkey.value),C.Eb(3),C.Qc("",C.lc(19,16,"POINTOFSALESETTINGSPOPUP.ELECTRONICINVOICE-FILE.CRT"),":"),C.Eb(4),C.pc("ngModel",o.itemForm.controls.safipcrt.value),C.Eb(1),C.Pc(o.itemForm.controls.safipcrt.value)}}var M,V,Q=((M=function(){function t(a,o,i,c){e(this,t),this.data=a,this.dialogRef=o,this.fb=i,this.cdRef=c,this.tipoFacturacion=[{value:"Sin Impresion",indice:0},{value:"Serial",indice:1},{value:"Fiscal",indice:2},{value:"Factura Electr\xf3nica",indice:3}],this.listaDeSucursales=[],this.listaDeClientes=[]}return a(t,[{key:"ngOnInit",value:function(){this.listaDeSucursales=this.data.sucursales,this.listaDeClientes=this.data.clientes,this.buildItemForm(this.data.payload,this.data.parametros)}},{key:"buildItemForm",value:function(e,t){this.itemForm=this.fb.group({id:[e.id||""],idsucursal:[e.idsucursal||this.listaDeSucursales[0].idsucursal,l.v.required],idpv:[e.idpv||"",l.v.required],idpvcaea:[e.idpvcaea||""],sdescripcion:[e.sdescripcion||"Punto de Venta",l.v.required],sdomicilio:[e.sdomicilio||"Domicilio"],slocalidad:[e.slocalidad||""],sprovincia:[e.sprovincia||""],spais:[e.spais||""],sweathercode:[e.sweathercode||""],bactivo:[!e.hasOwnProperty("bactivo")||"T"==e.bactivo],soperadorcreacion:[e.soperadorcreacion||""],fcreacion:[e.fcreacion||null],soperadormodificacion:[e.soperadormodificacion||""],fmodificacion:[e.fmodificacion||null],insertedon:[e.insertedon||null],updatedon:[e.updatedon||null],deletedon:[e.deletedon||null],itipo:[e.itipo||0,l.v.required],busarpantallaalcliente:[!e.hasOwnProperty("busarpantallaalcliente")||"T"==e.busarpantallaalcliente],busarverificadordeprecios:[!e.hasOwnProperty("busarverificadordeprecios")||"T"==e.busarverificadordeprecios],busarventaypreventaremota:[!e.hasOwnProperty("busarventaypreventaremota")||"T"==e.busarventaypreventaremota],rtopedescuento:[e.rtopedescuento||0,l.v.required],rlatitud:[e.rlatitud||0],rlongitud:[e.rlongitud||0],safipcrt:[e.safipcrt||""],safipkey:[e.safipkey||""],bfeenproduccion:[!e.hasOwnProperty("bfeenproduccion")||"T"==e.bfeenproduccion],hardid:[e.hardid||null],soperadoractivacion:[e.soperadoractivacion||null],factivacion:[e.factivacion||null],snumerodeserie:[e.snumerodeserie||null],rporcotrosimpuestos:[e.rporcotrosimpuestos||0]}),e.id&&(this.itemForm2=this.fb.group({id:[t.id||""],idpv:[t.idpv],smarcafiscal:[t.smarcafiscal],smodelofiscal:[t.smodelofiscal],bagruparproductosidenticos:[1==t.bagruparproductosidenticos],bpuedeeditarpreciounitario:[1==t.bpuedeeditarpreciounitario],bpuedeeditarcantidad:[1==t.bpuedeeditarcantidad],bpermitecantidadesnegativas:[1==t.bpermitecantidadesnegativas],idclientegenerico:[t.idclientegenerico.toString()],sformatofecha:[t.sformatofecha],sversion:[t.sversion],isegundosentresincro:[t.isegundosentresincro],fultimocalculodestock:[t.fultimocalculodestock],bforzarloginalcerrarcaja:[!t.hasOwnProperty("bforzarloginalcerrarcaja")||"T"==t.bforzarloginalcerrarcaja],soperadorcreacion:[t.soperadorcreacion],fcreacion:[t.fcreacion],soperadormodificacion:[t.soperadormodificacion],fmodificacion:[t.fmodificacion],insertedon:[t.insertedon],updatedon:[t.updatedon],deletedon:[t.deletedon]}))}},{key:"leerArchivoKey",value:function(e){var t=this,a=e.target.files[0];if(a){var o=new FileReader;o.onload=function(e){var a=e.target.result;t.itemForm.get("safipkey").setValue(a),t.cdRef.detectChanges()},o.readAsText(a)}}},{key:"leerArchivoCrt",value:function(e){var t=this,a=e.target.files[0];if(a){var o=new FileReader;o.onload=function(e){var a=e.target.result;t.itemForm.get("safipcrt").setValue(a),t.cdRef.detectChanges()},o.readAsText(a)}}},{key:"submit",value:function(){this.dialogRef.close(this.itemForm.value.id?[this.itemForm.value,this.itemForm2.value]:[this.itemForm.value,null])}}]),t}()).\u0275fac=function(e){return new(e||M)(C.Rb(d.a),C.Rb(d.g),C.Rb(l.d),C.Rb(C.h))},M.\u0275cmp=C.Lb({type:M,selectors:[["app-point-of-sale-settings-popup"]],decls:68,vars:58,consts:[["matDialogTitle","",4,"ngIf"],[3,"label"],[3,"formGroup"],["mat-dialog-content","","fxLayout","row wrap","fxLayout.lt-sm","column",2,"max-width","100%","margin","0px","padding-top","10px"],["fxFlex","50",1,"pr-16",3,"hidden"],[1,"full-width"],["matInput","","name","idpv",3,"formControl","placeholder"],["appearance","fill"],["name","idsucursal",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","50",1,"pr-16"],["matInput","","name","sdescripcion",3,"formControl","placeholder"],["name","itipo",3,"formControl"],["matInput","","name","rtopedescuento",3,"formControl","placeholder"],["name","bactivo",3,"formControl"],["fxFlex","50",1,"mb-16"],[3,"formControl"],["fxFlex","100"],[3,"label",4,"ngIf"],["fxFlex","100",1,"mt-16"],["mat-raised-button","","color","primary",3,"disabled","click"],["fxFlex",""],["mat-button","","color","warn","type","button",3,"click"],["matDialogTitle",""],[3,"value"],["name","idclientegenerico",3,"formControl"],["matInput","","name","idpvcaea",3,"formControl","placeholder"],["type","file","id","file-input-key","accept",".key",3,"change"],["id","contenido-archivo-key",3,"ngModel","ngModelChange"],[1,"col-sm-10"],["type","file","id","file-input-crt","accept",".crt",3,"change"],["id","contenido-archivo-crt",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(C.Mc(0,U,3,3,"h1",0),C.Mc(1,R,3,3,"h1",0),C.Xb(2,"mat-tab-group"),C.Xb(3,"mat-tab",1),C.kc(4,"translate"),C.Xb(5,"form",2),C.Xb(6,"mat-dialog-content",3),C.Xb(7,"div",4),C.Xb(8,"mat-form-field",5),C.Sb(9,"input",6),C.kc(10,"translate"),C.Wb(),C.Wb(),C.Xb(11,"div",4),C.Xb(12,"mat-form-field",7),C.Xb(13,"mat-label"),C.Oc(14),C.kc(15,"translate"),C.Wb(),C.Xb(16,"mat-select",8),C.Mc(17,D,2,2,"mat-option",9),C.Wb(),C.Wb(),C.Wb(),C.Xb(18,"div",10),C.Xb(19,"mat-form-field",5),C.Sb(20,"input",11),C.kc(21,"translate"),C.Wb(),C.Wb(),C.Xb(22,"div",10),C.Xb(23,"mat-form-field",7),C.Xb(24,"mat-label"),C.Oc(25),C.kc(26,"translate"),C.Wb(),C.Xb(27,"mat-select",12),C.Mc(28,w,2,2,"mat-option",9),C.Wb(),C.Wb(),C.Wb(),C.Xb(29,"div",10),C.Xb(30,"mat-form-field",5),C.Sb(31,"input",13),C.kc(32,"translate"),C.Wb(),C.Wb(),C.Xb(33,"div",10),C.Xb(34,"mat-slide-toggle",14),C.Oc(35),C.kc(36,"translate"),C.Wb(),C.Wb(),C.Xb(37,"div",15),C.Xb(38,"mat-checkbox",16),C.Oc(39),C.kc(40,"translate"),C.Wb(),C.Wb(),C.Xb(41,"div",15),C.Xb(42,"mat-checkbox",16),C.Oc(43),C.kc(44,"translate"),C.Wb(),C.Wb(),C.Xb(45,"div",15),C.Xb(46,"mat-checkbox",16),C.Oc(47),C.kc(48,"translate"),C.Wb(),C.Wb(),C.Xb(49,"div",17),C.Xb(50,"i"),C.Oc(51),C.kc(52,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Mc(53,G,31,29,"mat-tab",18),C.Mc(54,j,24,18,"mat-tab",18),C.Wb(),C.Xb(55,"mat-dialog-content",3),C.Xb(56,"div",19),C.Xb(57,"button",20),C.fc("click",function(){return t.submit()}),C.Xb(58,"mat-icon"),C.Oc(59,"save"),C.Wb(),C.Oc(60),C.kc(61,"translate"),C.Wb(),C.Sb(62,"span",21),C.Xb(63,"button",22),C.fc("click",function(){return t.dialogRef.close(!1)}),C.Xb(64,"mat-icon"),C.Oc(65,"cancel"),C.Wb(),C.Oc(66),C.kc(67,"translate"),C.Wb(),C.Wb(),C.Wb()),2&e&&(C.pc("ngIf",t.data.isNew),C.Eb(1),C.pc("ngIf",!t.data.isNew),C.Eb(2),C.qc("label",C.lc(4,32,"POINTOFSALESETTINGSPOPUP.DETAILS")),C.Eb(2),C.pc("formGroup",t.itemForm),C.Eb(2),C.pc("hidden",t.itemForm.value.id),C.Eb(2),C.rc("placeholder","*",C.lc(10,34,"POINTOFSALESETTINGSPOPUP.NUMBEROFPV"),""),C.pc("formControl",t.itemForm.controls.idpv),C.Eb(2),C.pc("hidden",t.itemForm.value.id),C.Eb(3),C.Qc("*",C.lc(15,36,"POINTOFSALESETTINGSPOPUP.BRANCHOFFICE"),""),C.Eb(2),C.pc("formControl",t.itemForm.controls.idsucursal),C.Eb(1),C.pc("ngForOf",t.listaDeSucursales),C.Eb(3),C.rc("placeholder","*",C.lc(21,38,"POINTOFSALESETTINGSPOPUP.DESCRIPTION"),""),C.pc("formControl",t.itemForm.controls.sdescripcion),C.Eb(5),C.Qc("*",C.lc(26,40,"POINTOFSALESETTINGSPOPUP.BILLINGTYPE"),""),C.Eb(2),C.pc("formControl",t.itemForm.controls.itipo),C.Eb(1),C.pc("ngForOf",t.tipoFacturacion),C.Eb(3),C.rc("placeholder","*",C.lc(32,42,"POINTOFSALESETTINGSPOPUP.DISCOUNTCAP"),""),C.pc("formControl",t.itemForm.controls.rtopedescuento),C.Eb(3),C.pc("formControl",t.itemForm.controls.bactivo),C.Eb(1),C.Qc(" ",C.lc(36,44,"POINTOFSALESETTINGSPOPUP.ACTIVE"),""),C.Eb(3),C.pc("formControl",t.itemForm.controls.busarpantallaalcliente),C.Eb(1),C.Qc("",C.lc(40,46,"POINTOFSALESETTINGSPOPUP.USECUSTOMERSCREEN")," "),C.Eb(3),C.pc("formControl",t.itemForm.controls.busarventaypreventaremota),C.Eb(1),C.Qc("",C.lc(44,48,"POINTOFSALESETTINGSPOPUP.USEREMOTESALEANDPRESALE")," "),C.Eb(3),C.pc("formControl",t.itemForm.controls.busarverificadordeprecios),C.Eb(1),C.Qc("",C.lc(48,50,"POINTOFSALESETTINGSPOPUP.USEPRICECHECKER")," "),C.Eb(4),C.Qc("* ",C.lc(52,52,"POINTOFSALESETTINGSPOPUP.PARRAF1"),"."),C.Eb(2),C.pc("ngIf",t.itemForm.value.id),C.Eb(1),C.pc("ngIf",3==t.itemForm.controls.itipo.value),C.Eb(3),C.pc("disabled",t.itemForm.invalid),C.Eb(3),C.Qc("",C.lc(61,54,"POINTOFSALESETTINGSPOPUP.SAVE")," "),C.Eb(6),C.Qc("",C.lc(67,56,"POINTOFSALESETTINGSPOPUP.CANCEL")," "))},directives:[c.o,v.b,v.a,l.w,l.p,l.i,d.e,y.c,y.a,X.c,f.b,l.c,l.o,l.f,X.f,m.a,c.n,O.a,A.a,s.b,p.a,d.h,L.n,l.r],pipes:[P.c],styles:[""],data:{animation:[S.a]}}),M),z=i("AytR"),q=i("IheW"),H=((V=function(){function t(a){e(this,t),this.http=a}return a(t,[{key:"obtenerDatos",value:function(e,t,a,o){return this.http.get(encodeURI("".concat(z.a.apiURL,'PuntosVenta?filter={"where":').concat(e,',"limit":').concat(t,',"skip":').concat(a,',"order":"').concat(o,'"}')))}},{key:"obtenerCount",value:function(e){return this.http.get(encodeURI("".concat(z.a.apiURL,"PuntosVenta/count?where=").concat(e)))}},{key:"actualizarPuntoDeVenta",value:function(e){return this.http.put("".concat(z.a.apiURL,"PuntosVenta/").concat(e.id),e)}},{key:"actualizarParametros",value:function(e){return this.http.put("".concat(z.a.apiURL,"Parametros/").concat(e.id),e)}},{key:"agregarPuntoDeVenta",value:function(e){return this.http.post(z.a.apiURL+"PuntosVenta",e)}},{key:"obtenerSucursales",value:function(){return this.http.get(encodeURI(z.a.apiURL+"Sucursales?"))}},{key:"obtenerParametros",value:function(){return this.http.get(encodeURI(z.a.apiURL+"Parametros?"))}},{key:"obtenerClientes",value:function(){return this.http.get(encodeURI(z.a.apiURL+'Clientes?filter={"where":{"deletedon":{"eq":null}},"order":"srazonsocial ASC"}'))}}]),t}()).\u0275fac=function(e){return new(e||V)(C.bc(q.c))},V.\u0275prov=C.Nb({token:V,factory:V.\u0275fac,providedIn:"root"}),V);function K(e,t){if(1&e){var a=C.Yb();C.Xb(0,"button",12),C.fc("click",function(e){C.Dc(a);var t=C.jc(),o=C.Ac(10);return t.updateFilter(e)&&(o.value="")}),C.Xb(1,"mat-icon"),C.Oc(2,"close"),C.Wb(),C.Wb()}}function J(e,t){if(1&e&&C.Oc(0),2&e){var a=t.row;C.Qc(" ",null==a?null:a.sdescripcion," ")}}function Y(e,t){if(1&e){var a=C.Yb();C.Xb(0,"button",13),C.fc("click",function(){C.Dc(a);var e=t.row;return C.jc().openPopUp(e)}),C.Xb(1,"mat-icon"),C.Oc(2,"edit"),C.Wb(),C.Wb(),C.Xb(3,"button",13),C.fc("click",function(){C.Dc(a);var e=t.row;return C.jc().openUserInfoPopUp(e)}),C.Xb(4,"mat-icon"),C.Oc(5,"person_pin"),C.Wb(),C.Wb()}}var B,Z,$=function(){return{y:"50px",delay:"300ms"}},_=function(e){return{value:"*",params:e}},ee=[{path:"",component:(B=function(){function t(a,o,i,c,r,n){e(this,t),this.servicioPuntoDeVenta=a,this.dialog=o,this.snack=i,this.confirmService=c,this.loader=r,this.servicioUUID=n,this.timeOutDuration=800,this.rows=[],this.order="sdescripcion ASC",this.search="",this.page={count:0,offset:0,limit:10}}return a(t,[{key:"ngOnInit",value:function(){var e=this;this.prepararFiltro(),this.refresh(),this.servicioPuntoDeVenta.obtenerSucursales().subscribe(function(t){e.sucursales=t}),this.servicioPuntoDeVenta.obtenerClientes().subscribe(function(t){e.clientes=t})}},{key:"prepararFiltro",value:function(){var e=this;if(this.search){this.filter='{"and":[';var t=this.search.split(" ");t.length>0&&(t.forEach(function(t,a){t.length>1&&(e.filter+='{"or":[{"sdescripcion":{"ilike":"%'.concat(t,'%"}}]}'),a<e.search.length-1&&(e.filter+=","))}),this.filter+='{"deletedon":{"eq":null}}]}')}else this.filter='{"deletedon":{"eq":null}}'}},{key:"refresh",value:function(){var e=this;this.prepararFiltro(),Object(N.a)([this.servicioPuntoDeVenta.obtenerCount(this.filter),this.servicioPuntoDeVenta.obtenerDatos(this.filter,this.page.limit,this.page.offset*this.page.limit,this.order),this.servicioPuntoDeVenta.obtenerParametros()]).subscribe(function(t){e.page.count=t[0].count,e.rows=t[1],e.parametros=t[2]},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}},{key:"pageCallback",value:function(e){this.page.offset=e.offset,this.refresh()}},{key:"updateFilter",value:function(e){var t=this;return this.search=e instanceof MouseEvent?"":e.target.value,clearTimeout(this.timeOut),this.timeOut=setTimeout(function(){t.refresh()},this.timeOutDuration),!0}},{key:"onSort",value:function(e){var t=e.sorts[0];this.order="".concat(t.prop," ").concat(t.dir.toUpperCase()),this.refresh()}},{key:"openPopUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;this.dialog.open(Q,{width:"720px",disableClose:!0,data:{payload:t,sucursales:this.sucursales,parametros:this.parametros.find(function(e){return e.idpv==t.idpv}),clientes:this.clientes,isNew:a}}).afterClosed().subscribe(function(t){if(t){e.loader.open();var o={};if(Object.assign(o,t[0]),o.bactivo=t[0].bactivo?"T":"F",o.busarpantallaalcliente=t[0].busarpantallaalcliente?"T":"F",o.busarverificadordeprecios=t[0].busarverificadordeprecios?"T":"F",o.busarventaypreventaremota=t[0].busarventaypreventaremota?"T":"F",o.bfeenproduccion=t[0].bfeenproduccion?"T":"F",a)o.id=e.servicioUUID.generateUUID(),e.servicioPuntoDeVenta.agregarPuntoDeVenta(o).subscribe(function(t){e.refresh(),e.loader.close(),e.snack.open("\xa1Punto de Venta Agregado!","OK",{duration:4e3})},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})});else{var i={};Object.assign(i,t[1]),i.bagruparproductosidenticos=t[1].bagruparproductosidenticos?1:0,i.bpuedeeditarpreciounitario=t[1].bpuedeeditarpreciounitario?1:0,i.bpuedeeditarcantidad=t[1].bpuedeeditarcantidad?1:0,i.bpermitecantidadesnegativas=t[1].bpermitecantidadesnegativas?1:0,i.bforzarloginalcerrarcaja=t[1].bforzarloginalcerrarcaja?"T":"F",Object(N.a)([e.servicioPuntoDeVenta.actualizarPuntoDeVenta(o),e.servicioPuntoDeVenta.actualizarParametros(i)]).subscribe(function(t){e.refresh(),e.loader.close(),e.snack.open("\xa1Punto de Venta Actualizado!","OK",{duration:4e3})},function(t){e.loader.close(),e.snack.open("ERROR","OK",{duration:4e3})})}}})}},{key:"openUserInfoPopUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dialog.open(W.a,{width:"720px",disableClose:!0,data:{title:"INFORMACION DE MODIFICACION",payload:e}})}}]),t}(),B.\u0275fac=function(e){return new(e||B)(C.Rb(H),C.Rb(d.b),C.Rb(h.a),C.Rb(I.a),C.Rb(F.a),C.Rb(k.a))},B.\u0275cmp=C.Lb({type:B,selectors:[["app-point-of-sale-settings"]],decls:22,vars:30,consts:[[1,"m-333"],["mat-raised-button","","color","primary",1,"mb-8",3,"click"],[1,"margin-333",2,"width","100%"],["matPrefix",""],["matInput","","value","",3,"placeholder","keyup"],["searchinput",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"p-0"],[1,"material","ml-0","mr-0",3,"rows","columnMode","headerHeight","footerHeight","scrollbarH","rowHeight","count","offset","limit","externalPaging","selectionType","page","sort"],["prop","sdescripcion",3,"name","flexGrow"],["ngx-datatable-cell-template",""],[3,"name","flexGrow"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-icon-button","","mat-sm-button","","color","foreground",1,"mr-16",3,"click"]],template:function(e,t){if(1&e&&(C.Xb(0,"div",0),C.Xb(1,"button",1),C.fc("click",function(){return t.openPopUp({},!0)}),C.Xb(2,"mat-icon"),C.Oc(3,"library_add"),C.Wb(),C.Oc(4),C.kc(5,"translate"),C.Wb(),C.Wb(),C.Xb(6,"mat-form-field",2),C.Xb(7,"mat-icon",3),C.Oc(8,"search"),C.Wb(),C.Xb(9,"input",4,5),C.fc("keyup",function(e){return t.updateFilter(e)}),C.kc(11,"translate"),C.Wb(),C.Mc(12,K,3,0,"button",6),C.Wb(),C.Xb(13,"mat-card",7),C.Xb(14,"mat-card-content",7),C.Xb(15,"ngx-datatable",8),C.fc("page",function(e){return t.pageCallback(e)})("sort",function(e){return t.onSort(e)}),C.Xb(16,"ngx-datatable-column",9),C.kc(17,"translate"),C.Mc(18,J,1,1,"ng-template",10),C.Wb(),C.Xb(19,"ngx-datatable-column",11),C.kc(20,"translate"),C.Mc(21,Y,6,0,"ng-template",10),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&e){var a=C.Ac(10);C.Eb(4),C.Qc("",C.lc(5,19,"POINTOFSALESETTINGS.ADDPOINTOFSALE")," "),C.Eb(5),C.qc("placeholder",C.lc(11,21,"POINTOFSALESETTINGS.FILTER")),C.Eb(3),C.pc("ngIf",a.value),C.Eb(1),C.pc("@animate",C.vc(28,_,C.uc(27,$))),C.Eb(2),C.pc("rows",t.rows)("columnMode","flex")("headerHeight",50)("footerHeight",50)("scrollbarH",!1)("rowHeight",50)("count",t.page.count)("offset",t.page.offset)("limit",t.page.limit)("externalPaging",!0)("selectionType","single"),C.Eb(1),C.qc("name",C.lc(17,23,"POINTOFSALESETTINGS.POINTOFSALE")),C.pc("flexGrow",1),C.Eb(3),C.qc("name",C.lc(20,25,"POINTOFSALESETTINGS.ACTIONS")),C.pc("flexGrow",1)}},directives:[s.b,p.a,X.c,X.g,f.b,c.o,b.a,b.b,T.d,T.b,T.a,X.h],pipes:[P.c],styles:[""],data:{animation:[S.a]}}),B),data:{title:"PUNTO DE VENTA"}}],te=i("TN/R"),ae=i("40+f"),oe=i("SqCe"),ie=i("rJgo"),ce=i("BTe0"),re=i("zQhy"),ne=i("aYsj"),le=i("hrfs"),se=i("pYyI"),be=((Z=function t(){e(this,t)}).\u0275mod=C.Pb({type:Z}),Z.\u0275inj=C.Ob({factory:function(e){return new(e||Z)},imports:[[c.c,l.t,n.a,T.f,f.c,f.c,b.c,f.c,s.c,u.a,f.c,E.b,d.f,h.b,O.b,v.c,m.b,p.b,P.b,g.a,te.g,l.j,oe.b,ie.c,ae.b,A.b,re.c,ce.b,le.a,se.a,ne.a,r.k.forChild(ee)]]}),Z)}}])}();